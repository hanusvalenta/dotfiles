"use strict";(self.webpackChunkawesomescreenshot_extension=self.webpackChunkawesomescreenshot_extension||[]).push([[750],{32897:(e,n,t)=>{t.d(n,{Z:()=>C});t(81211);var r=t(2214),a=(t(34529),t(75053)),o=(t(23416),t(84391)),l=(t(64886),t(14277)),i=(t(34792),t(55026)),s=(t(82648),t(71577)),c=(t(84239),t(9676)),d=(t(78032),t(73216)),u=(t(25791),t(58894)),f=t(67294),m=t(94184),h=t.n(m),p=t(7085),v=t(85893);const j=function(e){var n=e.size;return(0,v.jsx)("div",{className:"container-loading ".concat(n),children:(0,v.jsx)(p.Z,{})})};var b=t(35552);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){w(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function w(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==y(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o,l,i=[],s=!0,c=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;s=!1}else for(;!(s=(r=o.call(t)).done)&&(i.push(r.value),i.length!==n);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(c)throw a}}return i}}(e,n)||function(e,n){if(e){if("string"==typeof e)return S(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?S(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var O=u.Z.DirectoryTree;const C=function(e){var n=e.isFolderLoading,t=e.newFolder,u=e.moveItemTo,m=e.foldersTreeData,p=e.isWorkspaceLoading,y=e.workspaceIDs,g=e.workspacesIdHash,w=e.onCreateAction,S=e.isCreatingFolder,C=e.isMovingItem,k=e.savedPlace,D=e.onlySetting,I=N((0,f.useState)("personal"),2),P=I[0],Z=I[1],_=N((0,f.useState)(null),2),E=_[0],A=_[1],F=N((0,f.useState)(null),2),T=F[0],M=F[1],z=N((0,f.useState)(null),2),K=z[0],Y=z[1],R=N((0,f.useState)(""),2),L=R[0],W=R[1],V=N((0,f.useState)("0"),2),G=V[0],H=V[1],U=N((0,f.useState)("folder"),2),$=U[0],q=U[1],B=N((0,f.useState)(null),2),J=B[0],Q=B[1],X=N((0,f.useState)("true"===localStorage["auto-save-path"]),2),ee=X[0],ne=X[1],te=N((0,f.useState)(!1),2),re=te[0],ae=te[1],oe=N((0,f.useState)(!1),2),le=oe[0],ie=oe[1],se=N((0,f.useState)(!0),2),ce=se[0],de=se[1],ue=(0,f.useRef)(),fe=(0,f.useRef)();(0,f.useEffect)(function(){re&&fe.current.focus(),le&&ue.current&&ue.current.focus()},[re,le]),(0,f.useEffect)(function(){k&&!D&&me(k)},[k,g]),(0,f.useEffect)(function(){e.visible?!D&&k&&me(k):(ie(!1),ae(!1),Q(null))},[e.visible]),(0,f.useEffect)(function(){D&&k&&e.visible&&me(k)},[D,e.visible,k]),(0,f.useEffect)(function(){S||(ae(!1),t&&(Q({title:t.title,folderID:t.folderID}),A({title:t.title,folderID:t.folderID}))),S||"personal"===P||(T&&M(g[T.id]),ie(!1))},[S]),(0,f.useEffect)(function(){return function(){ie(!1),ae(!1)}},[]),(0,f.useEffect)(function(){return function(){}},[]);var me=function(e){var n=xe(m,g,e)||e;if(n){var t=n.split("-.-")[0];q(t);var r=n.split("-.-")[1];if(H(r),"folder"!==t){var a=n.split("-.-")[2];g[a]&&(M(g[a]),Z(g[a].name))}else A({title:n.split("-.-")[2],folderID:r}),M(null),Z("personal")}},he="",pe="",ve=!1,je=!1,be="",ye="",ge=function(e,n,t){for(var r=0;r<t.length;r++)t[r].folderID===e?(he=t[r].key,pe=n,ve=!0,be="folder-.-"+t[r].value):t[r].children&&ge(e,t[r].key,t[r].children)},xe=function(e,n,t){if(void 0!==t){var r=t.split("-.-")[0];if("folder"===r){var a=t.split("-.-")[1];if("0"!==a){if(ve=!1,ge(a,"0",e),!ve)return"folder-.-0-.-My Items";if(be)return}}else if("channel"===r){if(je=!1,function(e,n,t){if(t){var r=t[e];if(r)for(var a=0;a<r.channels.length;a++){var o=r.channels[a];if(!0===o.isMember&&o.id===n){je=!0,ye="channel-.-"+o.id+"-.-"+o.workspaceID+"-.-"+o.name;break}}}}(t.split("-.-")[2],t.split("-.-")[1],n),!je)return"folder-.-0-.-My Items";if(ye)return}}},we=function(){var e=J?J.folderID:G;return ge(e,"0",m),"0"===pe?{key:he,parentKey:""}:{key:he,parentKey:pe}},Ne=function(e,n){A({title:n.node.title,folderID:n.node.folderID}),Q(null)};function Se(e){"personal"!==e?(M(g[e]),Z(g[e].name)):Z(e)}var Oe=function(){e.onCancel&&e.onCancel()};function Ce(e){ne(e.target.checked),localStorage["auto-save-path"]=e.target.checked}var ke,De=function(){L.length>60?i.ZP.error("The folder name is too long!"):w&&w("folder",L,E&&E.folderID||"0")},Ie=function(){if(u){var e="";"personal"===P?(e="folder-.-"+(E&&E.folderID||"0")+"-.-"+(E&&E.title)||0,D?u("setdefault",e):u("folder",e,E&&E.folderID||"0")):(e="channel-.-"+K.id+"-.-"+K.workspaceID+"-.-"+K.name,D?u("setdefault",e):u("channel",e,K.id,K.workspaceID))}},Pe=function(e){W(e.target.value)},Ze=function(e){13===e.keyCode&&De()},_e=function(){ae(!0)},Ee=function(){ie(!0)},Ae=function(){ae(!1)},Fe=function(){ie(!1)},Te=T&&T.channels&&T.channels.filter(function(e){return!0===e.isMember}),Me=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"field-tip",children:"Channels"}),(0,v.jsx)("div",{className:"folder-select",children:p?(0,v.jsx)(j,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"select-container",children:Te&&Te.length>0?Te.map(function(e){var n=e,t=h()("channel-item",{selected:K&&K.id===n.id});return(0,v.jsxs)("div",{className:t,onClick:function(){!function(e){Y(e)}(e)},children:[(0,v.jsx)(b.MC,{}),n.name]},e.id)}):(0,v.jsx)(l.Z,{image:l.Z.PRESENTED_IMAGE_SIMPLE,description:"No channels"})}),(0,v.jsxs)("div",{className:"folder-btn-area",onClick:Ee,children:[(0,v.jsx)(b.dt,{})," Create a new channel"]})]})})]})},ze=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"field-tip",children:"Folders"}),(0,v.jsx)("div",{className:"folder-select",children:n?(0,v.jsx)(j,{}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:"select-container",children:(0,v.jsx)(O,{expandAction:"doubleClick",treeData:m,height:240,onSelect:Ne,defaultSelectedKeys:[we().key],defaultExpandedKeys:[we().parentKey]})}),(0,v.jsxs)("div",{className:"folder-btn-area",onClick:_e,children:[(0,v.jsx)(b.dt,{})," Create a new folder",E&&"0"!==E.folderID?(0,v.jsxs)(v.Fragment,{children:[" ","in"," ",(0,v.jsx)("span",{className:"par-folder",children:E.title})]}):(0,v.jsx)(v.Fragment,{})]})]})})]})};function Ke(e){var n=e.channelName,t=e.channelDesc;w&&T&&w("channel",n,T.id,t)}function Ye(e,n){n.channelName&&n.channelName.length?ce&&de(!1):ce||de(!0)}return(0,v.jsx)(r.Z,x(x({},e),{},{footer:null,maskClosable:!1,destroyOnClose:!0,width:430,wrapClassName:"move-image",closeIcon:(0,v.jsx)(b.Tw,{className:"close"}),centered:!0,children:re?(0,v.jsxs)("div",{className:"move-pannel",children:[(0,v.jsx)("div",{className:"title",children:"New folder"}),(0,v.jsx)("div",{className:"destination-select",children:(0,v.jsxs)("div",{className:"select-label",children:["Create a new folder"," ",E&&"0"!==E.folderID?(0,v.jsxs)(v.Fragment,{children:[" ","in ",(0,v.jsx)("span",{children:E.title})]}):(0,v.jsx)(v.Fragment,{})]})}),(0,v.jsx)("div",{className:"content",children:(0,v.jsx)(o.Z,{size:"large",placeholder:"Enter a folder name",onChange:Pe,onKeyDown:Ze,ref:fe})}),(0,v.jsx)("div",{className:"bottom-area",children:(0,v.jsxs)("div",{className:"btn-area",children:[(0,v.jsx)(s.Z,{onClick:Ae,className:"btn cancel",children:"Cancel"}),(0,v.jsx)(s.Z,{type:"primary",disabled:!L.trim(),loading:S,onClick:De,className:"btn done",children:"Create"})]})})]}):le?(0,v.jsxs)("div",{className:"move-pannel",children:[(0,v.jsx)("div",{className:"title",children:"Create a Channel"}),(0,v.jsx)("div",{className:"destination-select",children:(0,v.jsx)("div",{className:"select-label",children:"Channels are best when organized around a project or a topic"})}),(0,v.jsxs)(a.Z,{onFinish:Ke,onValuesChange:Ye,children:[(0,v.jsxs)("div",{className:"content",children:[(0,v.jsx)("div",{className:"label",children:"Name"}),(0,v.jsx)(a.Z.Item,{name:"channelName",children:(0,v.jsx)(o.Z,{size:"large",autoComplete:"off",ref:ue,placeholder:"e.g. Product Research/ New Year Planning"})}),(0,v.jsx)("div",{className:"input-tip",children:"What do your team plan to work on?"}),(0,v.jsxs)("div",{className:"label",children:["Description ",(0,v.jsx)("span",{children:"(optional)"})]}),(0,v.jsx)(a.Z.Item,{name:"channelDesc",children:(0,v.jsx)(o.Z.TextArea,{autoSize:{minRows:4}})}),(0,v.jsx)("div",{className:"input-tip",children:"Whatâ€™s this channel about?"})]}),(0,v.jsx)("div",{className:"bottom-area",children:(0,v.jsxs)("div",{className:"btn-area",children:[(0,v.jsx)(s.Z,{onClick:Fe,className:"btn cancel",children:"Cancel"}),(0,v.jsx)(s.Z,{type:"primary",loading:S,htmlType:"submit",className:"btn done",disabled:ce,children:"Create"})]})})]})]}):(0,v.jsxs)("div",{className:"move-pannel",children:[(0,v.jsxs)("div",{className:"title",children:[" ",D?"Set default saving location":"Move to"]}),(0,v.jsxs)("div",{className:"destination-select",children:[(0,v.jsx)("div",{className:"select-label",children:"Personal & Workspaces"}),(0,v.jsxs)(d.Z,{style:{width:"100%",textAlign:"left"},size:"large",value:P,className:"select-destination",onChange:Se,children:["channel"!==$||D?(0,v.jsx)(d.Z.Option,{value:"personal",children:"Personal"}):(0,v.jsx)(v.Fragment,{}),(0,v.jsx)(v.Fragment,{children:y&&y.length>0&&y.map(function(e){return(0,v.jsx)(d.Z.Option,{value:e,children:g[e].name},e)})})]})]}),(0,v.jsx)("div",{className:"content",children:"personal"==P?ze():Me()}),(0,v.jsxs)("div",{className:"bottom-area",children:[D?(0,v.jsx)(v.Fragment,{}):(0,v.jsx)(c.Z,{checked:ee,className:"check-default",onChange:Ce,children:"Set as the default save location"}),(0,v.jsxs)("div",{className:"btn-area",children:[(0,v.jsx)(s.Z,{onClick:Oe,className:"btn cancel",children:"Cancel"}),(0,v.jsx)(s.Z,{type:"primary",className:"btn done",disabled:(ke=!0,!(D||("personal"!==P?"channel"!==$||K&&(ke=ke&&G!==K.id):"folder"===$&&(E?ke=ke&&G!==E.folderID:void(ke=!1))))),loading:C,onClick:Ie,children:"Done"})]})]})]})}))}},9588:(e,n,t)=>{t.d(n,{Z:()=>d});t(81211);var r=t(2214),a=(t(82648),t(71577)),o=t(85893);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach(function(n){c(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==l(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const d=function(e){var n,t;return(0,o.jsx)(r.Z,s(s({},e),{},{footer:null,maskClosable:!1,wrapClassName:"sign-in",destroyOnClose:!0,centered:!0,children:(0,o.jsxs)("div",{className:"signin-alert-modal",children:[(0,o.jsx)("div",{className:"tip",children:(t=e.type,"aws"===t?(n="ext_loc_upload_image","You need to sign in to an Awesome Screenshot account in order to upload images."):"drive"===t?(n="ext_loc_drive","You need to sign in to an Awesome Screenshot account in order to connect with cloud services."):"des"===t?(n="ext_loc_destination","You need to sign in to an Awesome Screenshot account in order to connect with other services."):"uploadVideo"===t?(n="ext_loc_upload_video","You need to sign in to an Awesome Screenshot account in order to upload videos."):"cloud_location"===t?(n="ext_loc_setting_cloud_location","Please sign into an Awesome Screenshot account to set a default cloud saving location."):"cloud_auto_share"===t?(n="ext_loc_setting_cloud_auto_share","You need to sign in to an Awesome Screenshot account to auto generate a Shareable Link "):"")}),(0,o.jsx)(a.Z,{type:"primary",size:"large",block:!0,onClick:function(){var e="https://www.awesomescreenshot.com/signin";n&&(e+="?from="+n),window.open(e)},children:"Sign In"})]})}))}}}]);