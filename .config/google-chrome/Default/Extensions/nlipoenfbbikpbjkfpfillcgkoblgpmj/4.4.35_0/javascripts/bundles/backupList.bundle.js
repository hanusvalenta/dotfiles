(()=>{var n,e,t,o={9669:(n,e,t)=>{t(51609)},35552:(n,e,t)=>{"use strict";t.d(e,{$r:()=>Je,Bn:()=>Ue,Jw:()=>Le,R6:()=>He,Rv:()=>Ke,c8:()=>Ge,gD:()=>Qe,jT:()=>We,qw:()=>ze});var o=t(67294),r=t(16165),c=t(94184),i=t.n(c),a=(t(82452),t(98374)),u=t(60327),s=t(92976),l=t(98688),f=t(30418),d=t(24986),p=t(73586),I=t(49355),h=t(62504),y=t(86324),m=t(92504),v=t(11685),b=t(1744),g=t(42978),w=t(83225),Z=t(83462),S=t(33038),j=t(29970),O=t(9187),P=t(48960),k=t(26436),x=t(93185),T=t(1080),E=t(66716),M=t(36716),C=t(4883),D=t(85631),F=t(2134),_=t(68766),N=t(45250),A=t(4689),R=t(11734),B=t(68901),V=t(97479),G=t(63501),L=t(4450),U=t(55744),W=t(10757),J=t(83538),H=t(9571),Q=t(7241),z=t(42025),K=t(31727),$=t(71428),q=t(57179),Y=t(69546),X=t(60126),nn=t(17687),en=t(22939),tn=t(63059),on=t(58899),rn=t(58707),cn=t(38183),an=t(76664),un=t(24346),sn=t(44436),ln=t(85309),fn=t(54392),dn=t(68321),pn=t(8197),In=t(21482),hn=t(37491),yn=t(64322),mn=t(13243),vn=t(64664),bn=t(13736),gn=t(94222),wn=t(63073),Zn=t(82082),Sn=t(26836),jn=t(74748),On=t(59333),Pn=t(70110),kn=t(15801),xn=t(70161),Tn=t(49233),En=t(14962),Mn=t(21844),Cn=t(27807),Dn=t(64094),Fn=t(93388),_n=t(92580),Nn=t(93103),An=t(38514),Rn=t(25912),Bn=t(75847),Vn=t(30227),Gn=t(74990),Ln=t(91696),Un=t(19877),Wn=t(31614),Jn=t(64970),Hn=t(69426),Qn=t(83748),zn=t(78037),Kn=t(12528),$n=t(30913),qn=t(54311),Yn=t(53495),Xn=t(77809),ne=t(46516),ee=t(32729),te=t(72005),oe=t(48858),re=t(26191),ce=t(94372),ie=t(60272),ae=t(67449),ue=t(56191),se=t(45747),le=t(39873),fe=t(19961),de=t(96596),pe=t(17352),Ie=t(33146),he=t(98258),ye=t(59478),me=t(76838),ve=t(67671),be=t(56101),ge=t(61780),we=t(72245),Ze=t(44549),Se=t(61654),je=t(49795),Oe=t(19926),Pe=t(22015),ke=t(22594),xe=t(45818),Te=t(25323),Ee=t(73988),Me=t(85893);function Ce(n){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ce(n)}function De(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function Fe(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?De(Object(t),!0).forEach(function(e){_e(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):De(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function _e(n,e,t){return(e=function(n){var e=function(n,e){if("object"!=Ce(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!=Ce(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==Ce(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ne(n){var e=i()("svg-icon",n.className);return(0,Me.jsx)(r.Z,Fe(Fe({},n),{},{className:e}))}var Ae={AddImageIcon:a.Z,AddIcon:u.Z,AnnotateIcon:s.Z,ArrowIcon:l.Z,CloseIcon:f.Z,CommentIcon:d.Z,CopyLinkIcon:p.Z,CopyIcon:I.Z,DownloadIcon:h.Z,EmbedIcon:y.Z,FeedbackIcon:m.Z,FolderIcon:v.Z,ImagesIcon:b.Z,ItemsIcon:g.Z,LoadingMoreIcon:w.Z,MoreIcon:Z.Z,MoveFolderIcon:S.Z,NotificationIcon:j.Z,OpenFolderIcon:O.Z,PutBackIcon:P.Z,RenameIcon:k.Z,RightIcon:x.Z,TagIcon:T.Z,TrashFilledIcon:E.Z,TrashIcon:M.Z,VideosIcon:C.Z,AddTextIcon:D.Z,CutIcon:F.Z,ProIcon:_.Z,PullIcon:N.Z,ReduceIcon:A.Z,MoreDotIcon:R.Z,PlayIcon:V.Z,PauseIcon:G.Z,FullScreenIcon:L.Z,NormalScreenIcon:U.Z,PIPIcon:W.Z,ReplayIcon:J.Z,VolumeCloseIcon:H.Z,VolumeHighIcon:Q.Z,VolumeLowIcon:z.Z,SharedIcon:K.Z,StepForwardIcon:$.Z,StepBackIcon:q.Z,CommentBubbleIcon:Y.Z,MentionMsgIcon:X.Z,VideoEditorIcon:B.Z,EmojiIcon:nn.Z,RecordDesktopIcon:en.Z,RecordCameraIcon:tn.Z,PricingTagIcon:on.Z,LightThemeIcon:rn.Z,DarkThemeIcon:cn.Z,AutoThemeIcon:an.Z,NewTabIcon:un.Z,MicIcon:sn.Z,HDIcon:ln.Z,CameraIcon:fn.Z,ChromeIcon:dn.Z,EdgeIcon:pn.Z,GoogleIcon:In.Z,BrushIcon:hn.Z,SecurityIcon:mn.Z,SyncIcon:yn.Z,ChannelIcon:vn.Z,SettingIcon:bn.Z,MemberIcon:gn.Z,PersonIcon:wn.Z,QuestionMarkIcon:Zn.Z,CardIcon:Sn.Z,SharedMeIcon:jn.Z,MeIcon:On.Z,StarIcon:Pn.Z,EmptyIcon:kn.Z,PdfIcon:xn.Z,PrinterIcon:Tn.Z,CopyImageIcon:En.Z,SmileIcon:Mn.Z,CrownIcon:Cn.Z,CrownBgIcon:Dn.Z,SharedMeFilledIcon:Fn.Z,WarningIcon:_n.Z,BilligIcon:Nn.Z,StarFolderIcon:An.Z,MeFilledIcon:Rn.Z,AtIcon:Bn.Z,StickerIcon:nn.Z,CameraNoIcon:Vn.Z,TrashRecordIcon:Gn.Z,StopRecordIcon:Ln.Z,ActionBigIcon:Wn.Z,ActionMiniIcon:Un.Z,CameraRecordIcon:Jn.Z,CheckboxIcon:Hn.Z,DragIcon:Qn.Z,AddMemberIcon:zn.Z,RecordPauseIcon:Kn.Z,RecordPlayIcon:$n.Z,LockIcon:qn.Z,EnterpriseIcon:Yn.Z,DomainIcon:Xn.Z,SsoIcon:ne.Z,DownloadExtIcon:ee.Z,CopyExtIcon:te.Z,PDFExtIcon:oe.Z,PrintExtIcon:re.Z,BackupExtIcon:ce.Z,OutIcon:ie.Z,ShareIcon:ae.Z,DescIcon:ue.Z,FolderFilledIcon:se.Z,VideoFolderIcon:le.Z,VideoFilmIcon:fe.Z,VideoEditIcon:de.Z,IcStopIcon:Ln.Z,PointerIcon:pe.Z,ExtWarningIcon:Ie.Z,NoBackupIcon:he.Z,VideoFailedIcon:ye.Z,VideoStatusIcon:me.Z,VideoPlayIcon:ve.Z,VideoDownloadIcon:be.Z,VideoRetryIcon:ge.Z,VideoDeleteIcon:we.Z,MyItemIcon:Ze.Z,DoneIcon:Se.Z,ScreenshotIIcon:je.Z,TabIIcon:Oe.Z,InfiniteIcon:Pe.Z,BrainIcon:ke.Z,SiderOcrIcon:xe.Z,ReUploadIcon:Te.Z,TipIcon:Ee.Z},Re={},Be=function(n){Re[n]=(0,o.memo)(function(e){return(0,Me.jsx)(Ne,Fe({component:Ae[n]},e))}),Re[n].displayName=n};for(var Ve in Ae)Be(Ve);Re.AddImageIcon,Re.AddIcon,Re.AnnotateIcon,Re.ArrowIcon,Re.CloseIcon,Re.CommentIcon,Re.CopyLinkIcon,Re.CopyIcon,Re.DownloadIcon,Re.EmbedIcon,Re.FeedbackIcon,Re.FolderIcon,Re.ImagesIcon,Re.ItemsIcon,Re.LoadingMoreIcon,Re.MoreIcon,Re.MoveFolderIcon,Re.NotificationIcon,Re.OpenFolderIcon,Re.PutBackIcon,Re.RenameIcon,Re.RightIcon,Re.TagIcon,Re.TrashFilledIcon,Re.TrashIcon,Re.VideosIcon,Re.AddTextIcon,Re.CutIcon,Re.ProIcon,Re.PullIcon,Re.ReduceIcon,Re.MoreDotIcon,Re.PlayIcon,Re.PauseIcon,Re.FullScreenIcon,Re.NormalScreenIcon,Re.PIPIcon,Re.ReplayIcon,Re.VolumeCloseIcon,Re.VolumeHighIcon,Re.VolumeLowIcon,Re.SharedIcon,Re.StepForwardIcon,Re.StepBackIcon,Re.CommentBubbleIcon,Re.MentionMsgIcon,Re.VideoEditorIcon,Re.EmojiIcon,Re.RecordDesktopIcon,Re.RecordCameraIcon,Re.PricingTagIcon,Re.LightThemeIcon,Re.DarkThemeIcon,Re.AutoThemeIcon,Re.NewTabIcon,Re.MicIcon,Re.HDIcon,Re.CameraIcon,Re.ChromeIcon,Re.EdgeIcon,Re.GoogleIcon,Re.BrushIcon,Re.SecurityIcon,Re.SyncIcon,Re.ChannelIcon,Re.SettingIcon,Re.MemberIcon,Re.PersonIcon,Re.QuestionMarkIcon,Re.CardIcon,Re.SharedMeIcon,Re.MeIcon,Re.StarIcon,Re.EmptyIcon,Re.PdfIcon,Re.PrinterIcon,Re.CopyImageIcon,Re.SmileIcon,Re.CrownIcon,Re.CrownBgIcon,Re.SharedMeFilledIcon,Re.WarningIcon,Re.BilligIcon,Re.StarFolderIcon,Re.MeFilledIcon,Re.AtIcon,Re.StickerIcon,Re.CameraNoIcon,Re.TrashRecordIcon,Re.StopRecordIcon,Re.ActionBigIcon,Re.ActionMiniIcon,Re.CameraRecordIcon,Re.DragIcon,Re.CheckboxIcon,Re.AddMemberIcon,Re.RecordPauseIcon,Re.RecordPlayIcon,Re.LockIcon,Re.EnterpriseIcon,Re.DomainIcon,Re.SsoIcon,Re.DownloadExtIcon,Re.CopyExtIcon,Re.PDFExtIcon,Re.PrintExtIcon,Re.BackupExtIcon,Re.OutIcon,Re.ShareIcon,Re.DescIcon,Re.FolderFilledIcon,Re.VideoFolderIcon,Re.VideoFilmIcon,Re.VideoEditIcon,Re.IcStopIcon,Re.PointerIcon,Re.ExtWarningIcon;var Ge=Re.NoBackupIcon,Le=Re.VideoFailedIcon,Ue=Re.VideoStatusIcon,We=Re.VideoPlayIcon,Je=Re.VideoDownloadIcon,He=(Re.VideoRetryIcon,Re.VideoDeleteIcon),Qe=Re.MyItemIcon,ze=Re.DoneIcon,Ke=(Re.ScreenshotIIcon,Re.TabIIcon,Re.InfiniteIcon,Re.BrainIcon,Re.SiderOcrIcon,Re.ReUploadIcon);Re.TipIcon},35036:(n,e,t)=>{"use strict";t.d(e,{ip:()=>S,ws:()=>g});var o=t(12964),r=t(6186),c=t(77029),i=t(83550),a=t(92427),u=t(63188),s=t(86642);function l(n){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},l(n)}function f(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),t.push.apply(t,o)}return t}function d(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?f(Object(t),!0).forEach(function(e){p(n,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))})}return n}function p(n,e,t){return(e=function(n){var e=function(n,e){if("object"!=l(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var o=t.call(n,e||"default");if("object"!=l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==l(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function I(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function c(t,o,r,c){var u=o&&o.prototype instanceof a?o:a,s=Object.create(u.prototype);return h(s,"_invoke",function(t,o,r){var c,a,u,s=0,l=r||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return c=e,a=0,u=n,d.n=t,i}};function p(t,o){for(a=t,u=o,e=0;!f&&s&&!r&&e<l.length;e++){var r,c=l[e],p=d.p,I=c[2];t>3?(r=I===o)&&(u=c[(a=c[4])?5:(a=3,3)],c[4]=c[5]=n):c[0]<=p&&((r=t<2&&p<c[1])?(a=0,d.v=o,d.n=c[1]):p<I&&(r=t<3||c[0]>o||o>I)&&(c[4]=t,c[5]=o,d.n=I,a=0))}if(r||t>1)return i;throw f=!0,o}return function(r,l,I){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,I),a=l,u=I;(e=a<2?n:u)||!f;){c||(a?a<3?(a>1&&(d.n=-1),p(a,u)):d.n=u:d.v=u);try{if(s=2,c){if(a||(r="next"),e=c[r]){if(!(e=e.call(c,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,a<2&&(a=0)}else 1===a&&(e=c.return)&&e.call(c),a<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),a=1);c=n}else if((e=(f=d.n<0)?u:t.call(o,d))!==i)break}catch(e){c=n,a=1,u=e}finally{s=1}}return{value:e,done:f}}}(t,r,c),!0),s}var i={};function a(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][o]?e(e([][o]())):(h(e={},o,function(){return this}),e),f=s.prototype=a.prototype=Object.create(l);function d(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,h(n,r,"GeneratorFunction")),n.prototype=Object.create(f),n}return u.prototype=s,h(f,"constructor",s),h(s,"constructor",u),u.displayName="GeneratorFunction",h(s,r,"GeneratorFunction"),h(f),h(f,r,"Generator"),h(f,o,function(){return this}),h(f,"toString",function(){return"[object Generator]"}),(I=function(){return{w:c,m:d}})()}function h(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}h=function(n,e,t,o){function c(e,t){h(n,e,function(n){return this._invoke(e,t,n)})}e?r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t:(c("next",0),c("throw",1),c("return",2))},h(n,e,t,o)}function y(n,e,t,o,r,c,i){try{var a=n[c](i),u=a.value}catch(n){return void t(n)}a.done?e(u):Promise.resolve(u).then(o,r)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var c=n.apply(e,t);function i(n){y(c,o,r,i,a,"next",n)}function a(n){y(c,o,r,i,a,"throw",n)}i(void 0)})}}function v(){return b.apply(this,arguments)}function b(){return(b=m(I().m(function n(){return I().w(function(n){for(;;)if(0===n.n)return n.a(2,new Promise(function(n){chrome.runtime.sendMessage({action:"getUID"},function(e){n(e)})}))},n)}))).apply(this,arguments)}function g(n,e,t,o,r){return w.apply(this,arguments)}function w(){return w=m(I().m(function n(e,t,l,f,p){var h,y,b,g,w,S,j,O,P,k,x,T,E,M,C,D,F,_;return I().w(function(n){for(;;)switch(n.n){case 0:return _=function(){if(g&&w&&!S&&(S=!0,T.stop({duration:y.duration,size:y.size}),"ok"!==y.clickStop)){var n=Math.floor(y.duration/1e3);T.httpReportStop(y.stopFrom,n).then(function(){h&&h.update({clickStop:""},t)})}},h=new o.Z,n.n=1,h.getDetail(t);case 1:if((!(y=n.v)||"completed"!=y.processStatus)&&y){n.n=2;break}return p&&p(),n.a(2);case 2:return n.n=3,v();case 3:if(!(b=n.v)||b.sid){n.n=4;break}return n.a(2);case 4:if(g=!1,w=!1,S=!1,j=!1,O=0,x=!0,!(e&&e.length>1)){n.n=6;break}return n.n=5,h.update({processKey:e},t);case 5:n.n=7;break;case 6:return x=!1,P=new r.u,k=Date.now()+"",P.register(k),e=k,n.n=7,h.update({processKey:k},t);case 7:if((T=new c.Q({wsUrl:i.Z.wsUrl+"/websocket2/video/open?time="+Date.now(),apiBase:i.Z.baseUrl,token:b.sid,uid:b.uid,sid:y.sid,maxQueueBlobSlice:200,setTimeout:(0,s.fx)()?u.$:null,clearTimeout:(0,s.fx)()?u.x:null})).onError=function(){var n=m(I().m(function n(e,o){return I().w(function(n){for(;;)switch(n.n){case 0:if(!h){n.n=2;break}if(!o||"unknown"!==o.type){n.n=1;break}return n.n=1,h.update({processStatus:"failed"},t);case 1:a.Z.dispatch("uploadingUpdate"),chrome.runtime.sendMessage({action:"uploadingUpdate",target:"backupList"}),l&&l();case 2:P&&k&&P.unregister(k);case 3:return n.a(2)}},n)}));return function(e,t){return n.apply(this,arguments)}}(),T.onProgress=function(){var n=m(I().m(function n(e,o){return I().w(function(n){for(;;)switch(n.n){case 0:if(!h||j){n.n=2;break}if(o>1&&(o=1),!(Date.now()-O>100)){n.n=2;break}return O=Date.now(),n.n=1,h.update({progress:o},t);case 1:a.Z.dispatch("uploadingUpdate"),chrome.runtime.sendMessage({action:"uploadingUpdate",target:"backupList"});case 2:f&&f(o);case 3:return n.a(2)}},n)}));return function(e,t){return n.apply(this,arguments)}}(),T.onSuccess=function(){var n=m(I().m(function n(e,o){return I().w(function(n){for(;;)switch(n.n){case 0:if(j=!0,!o||!o.vid){n.n=2;break}return n.n=1,h.update({progress:1,processStatus:"completed",originId:o.vid},t);case 1:n.n=3;break;case 2:return n.n=3,h.update({progress:1,processStatus:"completed"},t);case 3:a.Z.dispatch("uploadingUpdate"),chrome.runtime.sendMessage({action:"uploadingUpdate",target:"backupList"}),setTimeout(function(){h.remove(t),h=null,a.Z.dispatch("statusChecker","backup"),p&&p()},600),P&&k&&P.unregister(k);case 4:return n.a(2)}},n)}));return function(e,t){return n.apply(this,arguments)}}(),T.onConnected=function(){var n=m(I().m(function n(e,t){return I().w(function(n){for(;;)switch(n.n){case 0:h&&(h.update(d({originId:t.vid},null!=t&&t.backupDetails?t.backupDetails:{})),w=!0,_());case 1:return n.a(2)}},n)}));return function(e,t){return n.apply(this,arguments)}}(),T.getSlice=function(){var n=m(I().m(function n(e){var t;return I().w(function(n){for(;;)switch(n.n){case 0:if(h){n.n=1;break}return n.a(2,null);case 1:return n.n=2,h.getSlice(y.key,e);case 2:return t=n.v,n.a(2,t.data)}},n)}));return function(e){return n.apply(this,arguments)}}(),h.update({processStatus:"uploading"},t),chrome.runtime.sendMessage({action:"uploadingUpdate",target:"backupList"}),(!e||e.length<1)&&(a.Z.dispatch("uploadingUpdate"),chrome.runtime.sendMessage({action:"uploadingUpdate",target:"backupList"})),!y.originId||!x){n.n=9;break}return n.n=8,T.replenish(y.originId,y.videoName);case 8:E=n.v,T.updateTotalSliceBackup(E),w=!0,Z(y.originId,"217",{videoSliceId:E+1}),_(),n.n=11;break;case 9:return M={},E=-1,x=!1,y.options&&(M=y.options.payload),n.n=10,T.ready({title:y.title,payload:M});case 10:n.v;case 11:C=isFinite(y.sliceEnd-y.sliceStart)?y.sliceEnd-y.sliceStart:2e5,T.updateBackupSlices(C),D=E+1;case 12:if(!(D<C)){n.n=15;break}return n.n=13,h.getSlice(y.key,D);case 13:(F=n.v)&&F.data?T.push(F.data):T.id&&Z(T.id,"215",{msg:"getBackupDataNull"});case 14:D++,n.n=12;break;case 15:g=!0,_();case 16:return n.a(2)}},n)})),w.apply(this,arguments)}function Z(n,e,t){n&&n.length>0&&fetch(i.Z.baseUrl+"/api/v1/video/log",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({videoID:n,logType:e,info:JSON.stringify(t)})}).then(function(n){return n.json()}).then(function(n){})}function S(){return j.apply(this,arguments)}function j(){return(j=m(I().m(function n(){var e,t,c;return I().w(function(n){for(;;)switch(n.n){case 0:return e=new o.Z,new r.u,n.n=1,e.getAllDetail();case 1:if(!((t=n.v)&&t.length>0)){n.n=2;break}return c=t.filter(function(n){return!["created"].includes(n.status)&&"fmp4"===n.storeName}),n.a(2,c);case 2:return n.a(2,[]);case 3:return n.a(2)}},n)}))).apply(this,arguments)}},51816:(n,e,t)=>{"use strict";var o=t(73935),r=t(67294),c=t(82483),i=t(92427),a=t(59631),u=t(95915),s=t(35552),l=t(35036);function f(n,e){return chrome.runtime.sendMessage(n,e)}var d=t(85893);function p(n){return Z(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||g(n)||b()}function I(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function c(t,o,r,c){var u=o&&o.prototype instanceof a?o:a,s=Object.create(u.prototype);return h(s,"_invoke",function(t,o,r){var c,a,u,s=0,l=r||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return c=e,a=0,u=n,d.n=t,i}};function p(t,o){for(a=t,u=o,e=0;!f&&s&&!r&&e<l.length;e++){var r,c=l[e],p=d.p,I=c[2];t>3?(r=I===o)&&(u=c[(a=c[4])?5:(a=3,3)],c[4]=c[5]=n):c[0]<=p&&((r=t<2&&p<c[1])?(a=0,d.v=o,d.n=c[1]):p<I&&(r=t<3||c[0]>o||o>I)&&(c[4]=t,c[5]=o,d.n=I,a=0))}if(r||t>1)return i;throw f=!0,o}return function(r,l,I){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,I),a=l,u=I;(e=a<2?n:u)||!f;){c||(a?a<3?(a>1&&(d.n=-1),p(a,u)):d.n=u:d.v=u);try{if(s=2,c){if(a||(r="next"),e=c[r]){if(!(e=e.call(c,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,a<2&&(a=0)}else 1===a&&(e=c.return)&&e.call(c),a<2&&(u=TypeError("The iterator does not provide a '"+r+"' method"),a=1);c=n}else if((e=(f=d.n<0)?u:t.call(o,d))!==i)break}catch(e){c=n,a=1,u=e}finally{s=1}}return{value:e,done:f}}}(t,r,c),!0),s}var i={};function a(){}function u(){}function s(){}e=Object.getPrototypeOf;var l=[][o]?e(e([][o]())):(h(e={},o,function(){return this}),e),f=s.prototype=a.prototype=Object.create(l);function d(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,h(n,r,"GeneratorFunction")),n.prototype=Object.create(f),n}return u.prototype=s,h(f,"constructor",s),h(s,"constructor",u),u.displayName="GeneratorFunction",h(s,r,"GeneratorFunction"),h(f),h(f,r,"Generator"),h(f,o,function(){return this}),h(f,"toString",function(){return"[object Generator]"}),(I=function(){return{w:c,m:d}})()}function h(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}h=function(n,e,t,o){function c(e,t){h(n,e,function(n){return this._invoke(e,t,n)})}e?r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t:(c("next",0),c("throw",1),c("return",2))},h(n,e,t,o)}function y(n,e,t,o,r,c,i){try{var a=n[c](i),u=a.value}catch(n){return void t(n)}a.done?e(u):Promise.resolve(u).then(o,r)}function m(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var c=n.apply(e,t);function i(n){y(c,o,r,i,a,"next",n)}function a(n){y(c,o,r,i,a,"throw",n)}i(void 0)})}}function v(n,e){return Z(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,r,c,i,a=[],u=!0,s=!1;try{if(c=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;u=!1}else for(;!(u=(o=c.call(t)).done)&&(a.push(o.value),a.length!==e);u=!0);}catch(n){s=!0,r=n}finally{try{if(!u&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(s)throw r}}return a}}(n,e)||g(n,e)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(n,e){if(n){if("string"==typeof n)return w(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(n,e):void 0}}function w(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=Array(e);t<e;t++)o[t]=n[t];return o}function Z(n){if(Array.isArray(n))return n}const S=function(){var n=v((0,r.useState)("init"),2),e=n[0],t=n[1],o=v((0,r.useState)([]),2),h=o[0],y=o[1],b=v((0,r.useState)(0),2),g=b[0],w=b[1],Z=v((0,r.useState)(!0),2),S=(Z[0],Z[1]),j=v((0,r.useState)(!1),2),O=j[0],P=j[1],k=v((0,r.useState)(!1),2),x=k[0],T=k[1],E=(0,r.createRef)();E.current=h;var M=null,C=(0,r.createRef)();function D(){return F.apply(this,arguments)}function F(){return F=m(I().m(function n(){var e,t,o;return I().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,(0,l.ip)();case 1:e=n.v,t=Date.now(),o=!1,e.length>0?(e.forEach(function(n){t-n.updateAt<6e4&&(o=!0)}),T(!o)):(T(!1),M&&(clearInterval(M),M=null));case 2:return n.a(2)}},n)})),F.apply(this,arguments)}function _(n){var e=window.navigator.connection.downlink;navigator.onLine?P(e<.15):P(!0)}function N(n){if(E.current.length>0&&n>=0){var e=E.current.find(function(e){return e.key===n});if(e){var t=E.current.indexOf(e);E.current.splice(t,1);var o=p(E.current).slice(0);y(o),E.current=o}}}function A(){return R.apply(this,arguments)}function R(){return(R=m(I().m(function n(){var e;return I().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,(0,l.ip)();case 1:e=n.v,Date.now()-g>100&&(e.sort(function(n,e){return e.createAt-n.createAt}),w(Date.now()),y(e),E.current=e,e.length>0&&(M||(M=setInterval(function(){D()},5e3))),D());case 2:return n.a(2)}},n)}))).apply(this,arguments)}C.current=e,(0,r.useEffect)(function(){var n;return i.Z.on("discardAction",N),document.title="uploadList",S(navigator.onLine),A(),document.addEventListener("visibilitychange",m(I().m(function n(){return I().w(function(n){for(;;)switch(n.n){case 0:return n.n=1,chrome.tabs.getCurrent();case 1:if(n.v,"visible"!==document.visibilityState){n.n=3;break}return n.n=2,chrome.tabs.getCurrent();case 2:n.v&&A();case 3:return n.a(2)}},n)}))),(n="recordingStatus",new Promise(function(e,t){f({action:"record/getInfo",keys:n,target:"offscreen"}).then(e).catch(t)})).then(function(n){void 0!==n&&t(n)}).catch(function(){}),window.addEventListener("offline",function(n){S(!1),_(!1)}),window.addEventListener("online",function(n){S(!0),_(!0)}),window.navigator.connection.onchange=_,chrome.runtime.onMessage.addListener(function(n,e,o){if("backupList"==n.target)switch(n.action){case"uploadingUpdate":A();break;case"updateRecordStatus":!function(n){t(n),C.current=n,A()}(n.data)}}),function(){window.onbeforeunload=null,M&&clearInterval(M)}},[]);var B=h.length>0||h.length>1?"uploading":e,V=h.length>1||"init"===e&&h.length>0;return(0,d.jsx)("div",{className:"record-bg",children:e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"logo"}),V&&x&&(0,d.jsx)("div",{className:"tip ",children:(0,d.jsxs)("div",{className:"alert-content ",children:[(0,d.jsx)("div",{className:"title-tip",children:"Uploading to our Cloud is slower than usual. Please ensure a stable network connection."}),(0,d.jsxs)("ul",{children:[(0,d.jsx)("li",{className:"sub-tip",children:"To avoid data loss, we suggest downloading the full recording to your local computer. Meanwhile, the upload to our Cloud will continue without any interruptions."}),(0,d.jsx)("li",{className:"sub-tip",children:"If your previous upload was canceled or failed, to avoid data loss, we suggest downloading the full recording to your computer and then re-uploading it to our Cloud."})]})]})}),(0,d.jsxs)("div",{className:"center-box "+(!(V&&x)&&"no-tip"),children:[(0,d.jsxs)(c.r,{test:B,children:[(0,d.jsx)(c.J,{value:"init",children:(0,d.jsxs)("div",{className:"empty-box",children:[(0,d.jsx)(s.c8,{}),(0,d.jsx)("div",{className:"tips",children:"All Videos Uploaded "}),(0,d.jsxs)("div",{children:["You can check out your recordings in"," ",(0,d.jsx)("a",{href:"https://www.awesomescreenshot.com/my_items",target:"_blank",children:"My Items"}),"."]})]})}),(0,d.jsx)(c.J,{value:"uploading",children:(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(u.Z,{lists:h,poorNetWork:O,isRecorder:!1})})})]}),"uploading"===B?(0,d.jsxs)("div",{className:"footer",children:[(0,d.jsx)(s.gD,{})," You can check out your uploaded recordings in"," ",(0,d.jsx)("a",{href:"https://www.awesomescreenshot.com/all_videos",target:"_blank",children:"My Videos"}),"."]}):(0,d.jsx)(d.Fragment,{})]})]}):(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"loading",children:(0,d.jsx)(a.Z,{size:"large"})})})})};o.render((0,d.jsx)(S,{}),document.getElementById("app"))},72769:(n,e,t)=>{"use strict";function o(){var n,e,t="function"==typeof Symbol?Symbol:{},c=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function a(t,o,c,i){var a=o&&o.prototype instanceof s?o:s,l=Object.create(a.prototype);return r(l,"_invoke",function(t,o,r){var c,i,a,s=0,l=r||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return c=e,i=0,a=n,d.n=t,u}};function p(t,o){for(i=t,a=o,e=0;!f&&s&&!r&&e<l.length;e++){var r,c=l[e],p=d.p,I=c[2];t>3?(r=I===o)&&(a=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=n):c[0]<=p&&((r=t<2&&p<c[1])?(i=0,d.v=o,d.n=c[1]):p<I&&(r=t<3||c[0]>o||o>I)&&(c[4]=t,c[5]=o,d.n=I,i=0))}if(r||t>1)return u;throw f=!0,o}return function(r,l,I){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,I),i=l,a=I;(e=i<2?n:a)||!f;){c||(i?i<3?(i>1&&(d.n=-1),p(i,a)):d.n=a:d.v=a);try{if(s=2,c){if(i||(r="next"),e=c[r]){if(!(e=e.call(c,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,i<2&&(i=0)}else 1===i&&(e=c.return)&&e.call(c),i<2&&(a=TypeError("The iterator does not provide a '"+r+"' method"),i=1);c=n}else if((e=(f=d.n<0)?a:t.call(o,d))!==u)break}catch(e){c=n,i=1,a=e}finally{s=1}}return{value:e,done:f}}}(t,c,i),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var d=[][c]?e(e([][c]())):(r(e={},c,function(){return this}),e),p=f.prototype=s.prototype=Object.create(d);function I(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,r(n,i,"GeneratorFunction")),n.prototype=Object.create(p),n}return l.prototype=f,r(p,"constructor",f),r(f,"constructor",l),l.displayName="GeneratorFunction",r(f,i,"GeneratorFunction"),r(p),r(p,i,"Generator"),r(p,c,function(){return this}),r(p,"toString",function(){return"[object Generator]"}),(o=function(){return{w:a,m:I}})()}function r(n,e,t,o){var c=Object.defineProperty;try{c({},"",{})}catch(n){c=0}r=function(n,e,t,o){function i(e,t){r(n,e,function(n){return this._invoke(e,t,n)})}e?c?c(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t:(i("next",0),i("throw",1),i("return",2))},r(n,e,t,o)}function c(n,e,t,o,r,c,i){try{var a=n[c](i),u=a.value}catch(n){return void t(n)}a.done?e(u):Promise.resolve(u).then(o,r)}function i(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var i=n.apply(e,t);function a(n){c(i,o,r,a,u,"next",n)}function u(n){c(i,o,r,a,u,"throw",n)}a(void 0)})}}function a(n){return u.apply(this,arguments)}function u(){return(u=i(o().m(function n(e){return o().w(function(n){for(;;)if(0===n.n)return n.a(2,new Promise(function(n){chrome.storage.local.get("options",function(t){n(e?t.options[e]:t.options)})}))},n)}))).apply(this,arguments)}t.d(e,{S1:()=>a})},86642:(n,e,t)=>{"use strict";t.d(e,{RB:()=>p,RD:()=>d,VC:()=>u,fx:()=>f});t(27484),t(9669),t(40705),t(28374);var o=t(72769);function r(){var n,e,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",i=t.toStringTag||"@@toStringTag";function a(t,o,r,i){var a=o&&o.prototype instanceof s?o:s,l=Object.create(a.prototype);return c(l,"_invoke",function(t,o,r){var c,i,a,s=0,l=r||[],f=!1,d={p:0,n:0,v:n,a:p,f:p.bind(n,4),d:function(e,t){return c=e,i=0,a=n,d.n=t,u}};function p(t,o){for(i=t,a=o,e=0;!f&&s&&!r&&e<l.length;e++){var r,c=l[e],p=d.p,I=c[2];t>3?(r=I===o)&&(a=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=n):c[0]<=p&&((r=t<2&&p<c[1])?(i=0,d.v=o,d.n=c[1]):p<I&&(r=t<3||c[0]>o||o>I)&&(c[4]=t,c[5]=o,d.n=I,i=0))}if(r||t>1)return u;throw f=!0,o}return function(r,l,I){if(s>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,I),i=l,a=I;(e=i<2?n:a)||!f;){c||(i?i<3?(i>1&&(d.n=-1),p(i,a)):d.n=a:d.v=a);try{if(s=2,c){if(i||(r="next"),e=c[r]){if(!(e=e.call(c,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,i<2&&(i=0)}else 1===i&&(e=c.return)&&e.call(c),i<2&&(a=TypeError("The iterator does not provide a '"+r+"' method"),i=1);c=n}else if((e=(f=d.n<0)?a:t.call(o,d))!==u)break}catch(e){c=n,i=1,a=e}finally{s=1}}return{value:e,done:f}}}(t,r,i),!0),l}var u={};function s(){}function l(){}function f(){}e=Object.getPrototypeOf;var d=[][o]?e(e([][o]())):(c(e={},o,function(){return this}),e),p=f.prototype=s.prototype=Object.create(d);function I(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,f):(n.__proto__=f,c(n,i,"GeneratorFunction")),n.prototype=Object.create(p),n}return l.prototype=f,c(p,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,i,"GeneratorFunction"),c(p),c(p,i,"Generator"),c(p,o,function(){return this}),c(p,"toString",function(){return"[object Generator]"}),(r=function(){return{w:a,m:I}})()}function c(n,e,t,o){var r=Object.defineProperty;try{r({},"",{})}catch(n){r=0}c=function(n,e,t,o){function i(e,t){c(n,e,function(n){return this._invoke(e,t,n)})}e?r?r(n,e,{value:t,enumerable:!o,configurable:!o,writable:!o}):n[e]=t:(i("next",0),i("throw",1),i("return",2))},c(n,e,t,o)}function i(n,e,t,o,r,c,i){try{var a=n[c](i),u=a.value}catch(n){return void t(n)}a.done?e(u):Promise.resolve(u).then(o,r)}function a(n){return function(){var e=this,t=arguments;return new Promise(function(o,r){var c=n.apply(e,t);function a(n){i(c,o,r,a,u,"next",n)}function u(n){i(c,o,r,a,u,"throw",n)}a(void 0)})}}function u(n){return s.apply(this,arguments)}function s(){return(s=a(r().m(function n(e){return r().w(function(n){for(;;)if(0===n.n)return n.a(2,new Promise(function(n){var t=e.filename;(0,o.S1)("download_directory").then(function(o){o&&(e.filename=o+"/"+e.filename),chrome.downloads.download(e,function(o){(void 0===o||chrome.runtime.lastError)&&l(e.url,t),n()})})}))},n)}))).apply(this,arguments)}function l(n,e){var t=document.createElement("a"),o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.setAttribute("href",n),t.setAttribute("download",e),t.rel="noopener",t.dispatchEvent(o)}function f(){var n=navigator.userAgent,e=n.indexOf("Chrome/"),t=n.substring(e+7,n.length),o=t.indexOf("."),r=t.substring(0,o);return parseInt(r)<116}function d(n){if(0===n)return"0 Bytes";var e=parseInt(Math.floor(Math.log(n)/Math.log(1e3)),10);return(n/Math.pow(1e3,e)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB"][e]}function p(n){var e,t;e={},t=function(e){var t={url:n};e&&e.incognito||!e?chrome.windows.getAll(function(n){n.forEach(function(n){n.incognito||"normal"!==n.type||(t.windowId=n.id)}),I(t)}):(t.index=(e?e.index:currentTabIndex||0)+1,t.windowId=e?e.windowId:currentWindowId,I(t))},chrome.tabs.query(Object.assign({active:!0},e),function(n){t(n[0])})}function I(n){n&&n.url&&(n.hasOwnProperty("index")&&!n.index&&delete n.index,chrome.tabs.create(n,function(n){chrome.windows.update(n.windowId,{focused:!0})}))}Math.pow(2,31)}},r={};function c(n){var e=r[n];if(void 0!==e)return e.exports;var t=r[n]={exports:{}};return o[n].call(t.exports,t,t.exports,c),t.exports}c.m=o,n=[],c.O=(e,t,o,r)=>{if(!t){var i=1/0;for(l=0;l<n.length;l++){for(var[t,o,r]=n[l],a=!0,u=0;u<t.length;u++)(!1&r||i>=r)&&Object.keys(c.O).every(n=>c.O[n](t[u]))?t.splice(u--,1):(a=!1,r<i&&(i=r));if(a){n.splice(l--,1);var s=o();void 0!==s&&(e=s)}}return e}r=r||0;for(var l=n.length;l>0&&n[l-1][2]>r;l--)n[l]=n[l-1];n[l]=[t,o,r]},c.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return c.d(e,{a:e}),e},t=Object.getPrototypeOf?n=>Object.getPrototypeOf(n):n=>n.__proto__,c.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var r=Object.create(null);c.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach(e=>i[e]=()=>n[e]);return i.default=()=>n,c.d(r,i),r},c.d=(n,e)=>{for(var t in e)c.o(e,t)&&!c.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),c.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),c.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{var n={168:0};c.O.j=e=>0===n[e];var e=(e,t)=>{var o,r,[i,a,u]=t,s=0;if(i.some(e=>0!==n[e])){for(o in a)c.o(a,o)&&(c.m[o]=a[o]);if(u)var l=u(c)}for(e&&e(t);s<i.length;s++)r=i[s],c.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return c.O(l)},t=self.webpackChunkawesomescreenshot_extension=self.webpackChunkawesomescreenshot_extension||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))})(),c.O(void 0,[775,629,982,925,610,932,654,825,700,1],()=>c(32082));var i=c.O(void 0,[775,629,982,925,610,932,654,825,700,1],()=>c(51816));i=c.O(i)})();