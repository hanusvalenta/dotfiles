(()=>{var n={40873:n=>{var e={en_GB:"en-gb",en_US:"en",zh_CN:"zh-cn",zh_TW:"zh-tw"};n.exports=function(n,t,i){var o=t.prototype.locale;t.prototype.locale=function(n){var t;return"string"==typeof n&&(n=e[t=n]||t.split("_")[0]),o.call(this,n)}}},27484:function(n){n.exports=function(){"use strict";var n=1e3,e=6e4,t=36e5,i="millisecond",o="second",r="minute",a="hour",s="day",c="week",d="month",l="quarter",u="year",p="date",h="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(n,e,t){var i=String(n);return!i||i.length>=e?n:""+Array(e+1-i.length).join(t)+n},g={s:v,z:function(n){var e=-n.utcOffset(),t=Math.abs(e),i=Math.floor(t/60),o=t%60;return(e<=0?"+":"-")+v(i,2,"0")+":"+v(o,2,"0")},m:function n(e,t){if(e.date()<t.date())return-n(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(i,d),r=t-o<0,a=e.clone().add(i+(r?-1:1),d);return+(-(i+(t-o)/(r?o-a:a-o))||0)},a:function(n){return n<0?Math.ceil(n)||0:Math.floor(n)},p:function(n){return{M:d,y:u,w:c,d:s,D:p,h:a,m:r,s:o,ms:i,Q:l}[n]||String(n||"").toLowerCase().replace(/s$/,"")},u:function(n){return void 0===n}},x="en",w={};w[x]=b;var y=function(n){return n instanceof M},_=function n(e,t,i){var o;if(!e)return x;if("string"==typeof e){var r=e.toLowerCase();w[r]&&(o=r),t&&(w[r]=t,o=r);var a=e.split("-");if(!o&&a.length>1)return n(a[0])}else{var s=e.name;w[s]=e,o=s}return!i&&o&&(x=o),o||!i&&x},k=function(n,e){if(y(n))return n.clone();var t="object"==typeof e?e:{};return t.date=n,t.args=arguments,new M(t)},$=g;$.l=_,$.i=y,$.w=function(n,e){return k(n,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var M=function(){function b(n){this.$L=_(n.locale,null,!0),this.parse(n)}var v=b.prototype;return v.parse=function(n){this.$d=function(n){var e=n.date,t=n.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var i=e.match(f);if(i){var o=i[2]-1||0,r=(i[7]||"0").substring(0,3);return t?new Date(Date.UTC(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)):new Date(i[1],o,i[3]||1,i[4]||0,i[5]||0,i[6]||0,r)}}return new Date(e)}(n),this.$x=n.x||{},this.init()},v.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},v.$utils=function(){return $},v.isValid=function(){return!(this.$d.toString()===h)},v.isSame=function(n,e){var t=k(n);return this.startOf(e)<=t&&t<=this.endOf(e)},v.isAfter=function(n,e){return k(n)<this.startOf(e)},v.isBefore=function(n,e){return this.endOf(e)<k(n)},v.$g=function(n,e,t){return $.u(n)?this[e]:this.set(t,n)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(n,e){var t=this,i=!!$.u(e)||e,l=$.p(n),h=function(n,e){var o=$.w(t.$u?Date.UTC(t.$y,e,n):new Date(t.$y,e,n),t);return i?o:o.endOf(s)},f=function(n,e){return $.w(t.toDate()[n].apply(t.toDate("s"),(i?[0,0,0,0]:[23,59,59,999]).slice(e)),t)},m=this.$W,b=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case u:return i?h(1,0):h(31,11);case d:return i?h(1,b):h(0,b+1);case c:var x=this.$locale().weekStart||0,w=(m<x?m+7:m)-x;return h(i?v-w:v+(6-w),b);case s:case p:return f(g+"Hours",0);case a:return f(g+"Minutes",1);case r:return f(g+"Seconds",2);case o:return f(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(n){return this.startOf(n,!1)},v.$set=function(n,e){var t,c=$.p(n),l="set"+(this.$u?"UTC":""),h=(t={},t[s]=l+"Date",t[p]=l+"Date",t[d]=l+"Month",t[u]=l+"FullYear",t[a]=l+"Hours",t[r]=l+"Minutes",t[o]=l+"Seconds",t[i]=l+"Milliseconds",t)[c],f=c===s?this.$D+(e-this.$W):e;if(c===d||c===u){var m=this.clone().set(p,1);m.$d[h](f),m.init(),this.$d=m.set(p,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](f);return this.init(),this},v.set=function(n,e){return this.clone().$set(n,e)},v.get=function(n){return this[$.p(n)]()},v.add=function(i,l){var p,h=this;i=Number(i);var f=$.p(l),m=function(n){var e=k(h);return $.w(e.date(e.date()+Math.round(n*i)),h)};if(f===d)return this.set(d,this.$M+i);if(f===u)return this.set(u,this.$y+i);if(f===s)return m(1);if(f===c)return m(7);var b=(p={},p[r]=e,p[a]=t,p[o]=n,p)[f]||1,v=this.$d.getTime()+i*b;return $.w(v,this)},v.subtract=function(n,e){return this.add(-1*n,e)},v.format=function(n){var e=this,t=this.$locale();if(!this.isValid())return t.invalidDate||h;var i=n||"YYYY-MM-DDTHH:mm:ssZ",o=$.z(this),r=this.$H,a=this.$m,s=this.$M,c=t.weekdays,d=t.months,l=function(n,t,o,r){return n&&(n[t]||n(e,i))||o[t].slice(0,r)},u=function(n){return $.s(r%12||12,n,"0")},p=t.meridiem||function(n,e,t){var i=n<12?"AM":"PM";return t?i.toLowerCase():i},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:$.s(s+1,2,"0"),MMM:l(t.monthsShort,s,d,3),MMMM:l(d,s),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:l(t.weekdaysMin,this.$W,c,2),ddd:l(t.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(r),HH:$.s(r,2,"0"),h:u(1),hh:u(2),a:p(r,a,!0),A:p(r,a,!1),m:String(a),mm:$.s(a,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:o};return i.replace(m,function(n,e){return e||f[n]||o.replace(":","")})},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(i,p,h){var f,m=$.p(p),b=k(i),v=(b.utcOffset()-this.utcOffset())*e,g=this-b,x=$.m(this,b);return x=(f={},f[u]=x/12,f[d]=x,f[l]=x/3,f[c]=(g-v)/6048e5,f[s]=(g-v)/864e5,f[a]=g/t,f[r]=g/e,f[o]=g/n,f)[m]||g,h?x:$.a(x)},v.daysInMonth=function(){return this.endOf(d).$D},v.$locale=function(){return w[this.$L]},v.locale=function(n,e){if(!n)return this.$L;var t=this.clone(),i=_(n,e,!0);return i&&(t.$L=i),t},v.clone=function(){return $.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},b}(),S=M.prototype;return k.prototype=S,[["$ms",i],["$s",o],["$m",r],["$H",a],["$W",s],["$M",d],["$y",u],["$D",p]].forEach(function(n){S[n[1]]=function(e){return this.$g(e,n[0],n[1])}}),k.extend=function(n,e){return n.$i||(n(e,M,k),n.$i=!0),k},k.locale=_,k.isDayjs=y,k.unix=function(n){return k(1e3*n)},k.en=w[x],k.Ls=w,k.p={},k}()},28734:function(n){n.exports=function(){"use strict";return function(n,e,t){var i=e.prototype,o=i.format;t.en.ordinal=function(n){var e=["th","st","nd","rd"],t=n%100;return"["+n+(e[(t-20)%10]||e[t]||e[0])+"]"},i.format=function(n){var e=this,t=this.$locale();if(!this.isValid())return o.bind(this)(n);var i=this.$utils(),r=(n||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(n){switch(n){case"Q":return Math.ceil((e.$M+1)/3);case"Do":return t.ordinal(e.$D);case"gggg":return e.weekYear();case"GGGG":return e.isoWeekYear();case"wo":return t.ordinal(e.week(),"W");case"w":case"ww":return i.s(e.week(),"w"===n?1:2,"0");case"W":case"WW":return i.s(e.isoWeek(),"W"===n?1:2,"0");case"k":case"kk":return i.s(String(0===e.$H?24:e.$H),"k"===n?1:2,"0");case"X":return Math.floor(e.$d.getTime()/1e3);case"x":return e.$d.getTime();case"z":return"["+e.offsetName()+"]";case"zzz":return"["+e.offsetName("long")+"]";default:return n}});return o.bind(this)(r)}}}()},10285:function(n){n.exports=function(){"use strict";var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d\d/,i=/\d\d?/,o=/\d*[^\s\d-_:/()]+/,r={},a=function(n){return(n=+n)+(n>68?1900:2e3)},s=function(n){return function(e){this[n]=+e}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(n){(this.zone||(this.zone={})).offset=function(n){if(!n)return 0;if("Z"===n)return 0;var e=n.match(/([+-]|\d\d)/g),t=60*e[1]+(+e[2]||0);return 0===t?0:"+"===e[0]?-t:t}(n)}],d=function(n){var e=r[n];return e&&(e.indexOf?e:e.s.concat(e.f))},l=function(n,e){var t,i=r.meridiem;if(i){for(var o=1;o<=24;o+=1)if(n.indexOf(i(o,0,e))>-1){t=o>12;break}}else t=n===(e?"pm":"PM");return t},u={A:[o,function(n){this.afternoon=l(n,!1)}],a:[o,function(n){this.afternoon=l(n,!0)}],S:[/\d/,function(n){this.milliseconds=100*+n}],SS:[t,function(n){this.milliseconds=10*+n}],SSS:[/\d{3}/,function(n){this.milliseconds=+n}],s:[i,s("seconds")],ss:[i,s("seconds")],m:[i,s("minutes")],mm:[i,s("minutes")],H:[i,s("hours")],h:[i,s("hours")],HH:[i,s("hours")],hh:[i,s("hours")],D:[i,s("day")],DD:[t,s("day")],Do:[o,function(n){var e=r.ordinal,t=n.match(/\d+/);if(this.day=t[0],e)for(var i=1;i<=31;i+=1)e(i).replace(/\[|\]/g,"")===n&&(this.day=i)}],M:[i,s("month")],MM:[t,s("month")],MMM:[o,function(n){var e=d("months"),t=(d("monthsShort")||e.map(function(n){return n.slice(0,3)})).indexOf(n)+1;if(t<1)throw new Error;this.month=t%12||t}],MMMM:[o,function(n){var e=d("months").indexOf(n)+1;if(e<1)throw new Error;this.month=e%12||e}],Y:[/[+-]?\d+/,s("year")],YY:[t,function(n){this.year=a(n)}],YYYY:[/\d{4}/,s("year")],Z:c,ZZ:c};function p(t){var i,o;i=t,o=r&&r.formats;for(var a=(t=i.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,t,i){var r=i&&i.toUpperCase();return t||o[i]||n[i]||o[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(n,e,t){return e||t.slice(1)})})).match(e),s=a.length,c=0;c<s;c+=1){var d=a[c],l=u[d],p=l&&l[0],h=l&&l[1];a[c]=h?{regex:p,parser:h}:d.replace(/^\[|\]$/g,"")}return function(n){for(var e={},t=0,i=0;t<s;t+=1){var o=a[t];if("string"==typeof o)i+=o.length;else{var r=o.regex,c=o.parser,d=n.slice(i),l=r.exec(d)[0];c.call(e,l),n=n.replace(l,"")}}return function(n){var e=n.afternoon;if(void 0!==e){var t=n.hours;e?t<12&&(n.hours+=12):12===t&&(n.hours=0),delete n.afternoon}}(e),e}}return function(n,e,t){t.p.customParseFormat=!0,n&&n.parseTwoDigitYear&&(a=n.parseTwoDigitYear);var i=e.prototype,o=i.parse;i.parse=function(n){var e=n.date,i=n.utc,a=n.args;this.$u=i;var s=a[1];if("string"==typeof s){var c=!0===a[2],d=!0===a[3],l=c||d,u=a[2];d&&(u=a[2]),r=this.$locale(),!c&&u&&(r=t.Ls[u]),this.$d=function(n,e,t){try{if(["x","X"].indexOf(e)>-1)return new Date(("X"===e?1e3:1)*n);var i=p(e)(n),o=i.year,r=i.month,a=i.day,s=i.hours,c=i.minutes,d=i.seconds,l=i.milliseconds,u=i.zone,h=new Date,f=a||(o||r?1:h.getDate()),m=o||h.getFullYear(),b=0;o&&!r||(b=r>0?r-1:h.getMonth());var v=s||0,g=c||0,x=d||0,w=l||0;return u?new Date(Date.UTC(m,b,f,v,g,x,w+60*u.offset*1e3)):t?new Date(Date.UTC(m,b,f,v,g,x,w)):new Date(m,b,f,v,g,x,w)}catch(n){return new Date("")}}(e,s,i),this.init(),u&&!0!==u&&(this.$L=this.locale(u).$L),l&&e!=this.format(s)&&(this.$d=new Date("")),r={}}else if(s instanceof Array)for(var h=s.length,f=1;f<=h;f+=1){a[1]=s[f-1];var m=t.apply(this,a);if(m.isValid()){this.$d=m.$d,this.$L=m.$L,this.init();break}f===h&&(this.$d=new Date(""))}else o.call(this,n)}}}()},1646:function(n){n.exports=function(){"use strict";var n,e,t=1e3,i=6e4,o=36e5,r=864e5,a=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,s=31536e6,c=2592e6,d=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,l={years:s,months:c,days:r,hours:o,minutes:i,seconds:t,milliseconds:1,weeks:6048e5},u=function(n){return n instanceof g},p=function(n,e,t){return new g(n,t,e.$l)},h=function(n){return e.p(n)+"s"},f=function(n){return n<0},m=function(n){return f(n)?Math.ceil(n):Math.floor(n)},b=function(n){return Math.abs(n)},v=function(n,e){return n?f(n)?{negative:!0,format:""+b(n)+e}:{negative:!1,format:""+n+e}:{negative:!1,format:""}},g=function(){function f(n,e,t){var i=this;if(this.$d={},this.$l=t,void 0===n&&(this.$ms=0,this.parseFromMilliseconds()),e)return p(n*l[h(e)],this);if("number"==typeof n)return this.$ms=n,this.parseFromMilliseconds(),this;if("object"==typeof n)return Object.keys(n).forEach(function(e){i.$d[h(e)]=n[e]}),this.calMilliseconds(),this;if("string"==typeof n){var o=n.match(d);if(o){var r=o.slice(2).map(function(n){return null!=n?Number(n):0});return this.$d.years=r[0],this.$d.months=r[1],this.$d.weeks=r[2],this.$d.days=r[3],this.$d.hours=r[4],this.$d.minutes=r[5],this.$d.seconds=r[6],this.calMilliseconds(),this}}return this}var b=f.prototype;return b.calMilliseconds=function(){var n=this;this.$ms=Object.keys(this.$d).reduce(function(e,t){return e+(n.$d[t]||0)*l[t]},0)},b.parseFromMilliseconds=function(){var n=this.$ms;this.$d.years=m(n/s),n%=s,this.$d.months=m(n/c),n%=c,this.$d.days=m(n/r),n%=r,this.$d.hours=m(n/o),n%=o,this.$d.minutes=m(n/i),n%=i,this.$d.seconds=m(n/t),n%=t,this.$d.milliseconds=n},b.toISOString=function(){var n=v(this.$d.years,"Y"),e=v(this.$d.months,"M"),t=+this.$d.days||0;this.$d.weeks&&(t+=7*this.$d.weeks);var i=v(t,"D"),o=v(this.$d.hours,"H"),r=v(this.$d.minutes,"M"),a=this.$d.seconds||0;this.$d.milliseconds&&(a+=this.$d.milliseconds/1e3);var s=v(a,"S"),c=n.negative||e.negative||i.negative||o.negative||r.negative||s.negative,d=o.format||r.format||s.format?"T":"",l=(c?"-":"")+"P"+n.format+e.format+i.format+d+o.format+r.format+s.format;return"P"===l||"-P"===l?"P0D":l},b.toJSON=function(){return this.toISOString()},b.format=function(n){var t=n||"YYYY-MM-DDTHH:mm:ss",i={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return t.replace(a,function(n,e){return e||String(i[n])})},b.as=function(n){return this.$ms/l[h(n)]},b.get=function(n){var e=this.$ms,t=h(n);return"milliseconds"===t?e%=1e3:e="weeks"===t?m(e/l[t]):this.$d[t],0===e?0:e},b.add=function(n,e,t){var i;return i=e?n*l[h(e)]:u(n)?n.$ms:p(n,this).$ms,p(this.$ms+i*(t?-1:1),this)},b.subtract=function(n,e){return this.add(n,e,!0)},b.locale=function(n){var e=this.clone();return e.$l=n,e},b.clone=function(){return p(this.$ms,this)},b.humanize=function(e){return n().add(this.$ms,"ms").locale(this.$l).fromNow(!e)},b.milliseconds=function(){return this.get("milliseconds")},b.asMilliseconds=function(){return this.as("milliseconds")},b.seconds=function(){return this.get("seconds")},b.asSeconds=function(){return this.as("seconds")},b.minutes=function(){return this.get("minutes")},b.asMinutes=function(){return this.as("minutes")},b.hours=function(){return this.get("hours")},b.asHours=function(){return this.as("hours")},b.days=function(){return this.get("days")},b.asDays=function(){return this.as("days")},b.weeks=function(){return this.get("weeks")},b.asWeeks=function(){return this.as("weeks")},b.months=function(){return this.get("months")},b.asMonths=function(){return this.as("months")},b.years=function(){return this.get("years")},b.asYears=function(){return this.as("years")},f}();return function(t,i,o){n=o,e=o().$utils(),o.duration=function(n,e){var t=o.locale();return p(n,{$l:t},e)},o.isDuration=u;var r=i.prototype.add,a=i.prototype.subtract;i.prototype.add=function(n,e){return u(n)&&(n=n.asMilliseconds()),r.bind(this)(n,e)},i.prototype.subtract=function(n,e){return u(n)&&(n=n.asMilliseconds()),a.bind(this)(n,e)}}}()},34425:function(n){n.exports=function(){"use strict";return function(n,e,t){t.isMoment=function(n){return t.isDayjs(n)}}}()},79212:function(n){n.exports=function(){"use strict";return function(n,e){e.prototype.isSameOrAfter=function(n,e){return this.isSame(n,e)||this.isAfter(n,e)}}}()},37412:function(n){n.exports=function(){"use strict";return function(n,e){e.prototype.isSameOrBefore=function(n,e){return this.isSame(n,e)||this.isBefore(n,e)}}}()},96036:function(n){n.exports=function(){"use strict";return function(n,e,t){var i=e.prototype,o=function(n){return n&&(n.indexOf?n:n.s)},r=function(n,e,t,i,r){var a=n.name?n:n.$locale(),s=o(a[e]),c=o(a[t]),d=s||c.map(function(n){return n.slice(0,i)});if(!r)return d;var l=a.weekStart;return d.map(function(n,e){return d[(e+(l||0))%7]})},a=function(){return t.Ls[t.locale()]},s=function(n,e){return n.formats[e]||function(n){return n.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(n,e,t){return e||t.slice(1)})}(n.formats[e.toUpperCase()])},c=function(){var n=this;return{months:function(e){return e?e.format("MMMM"):r(n,"months")},monthsShort:function(e){return e?e.format("MMM"):r(n,"monthsShort","months",3)},firstDayOfWeek:function(){return n.$locale().weekStart||0},weekdays:function(e){return e?e.format("dddd"):r(n,"weekdays")},weekdaysMin:function(e){return e?e.format("dd"):r(n,"weekdaysMin","weekdays",2)},weekdaysShort:function(e){return e?e.format("ddd"):r(n,"weekdaysShort","weekdays",3)},longDateFormat:function(e){return s(n.$locale(),e)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return c.bind(this)()},t.localeData=function(){var n=a();return{firstDayOfWeek:function(){return n.weekStart||0},weekdays:function(){return t.weekdays()},weekdaysShort:function(){return t.weekdaysShort()},weekdaysMin:function(){return t.weekdaysMin()},months:function(){return t.months()},monthsShort:function(){return t.monthsShort()},longDateFormat:function(e){return s(n,e)},meridiem:n.meridiem,ordinal:n.ordinal}},t.months=function(){return r(a(),"months")},t.monthsShort=function(){return r(a(),"monthsShort","months",3)},t.weekdays=function(n){return r(a(),"weekdays",null,null,n)},t.weekdaysShort=function(n){return r(a(),"weekdaysShort","weekdays",3,n)},t.weekdaysMin=function(n){return r(a(),"weekdaysMin","weekdays",2,n)}}}()},56176:function(n){n.exports=function(){"use strict";var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,t,i){var o=t.prototype,r=o.format;i.en.formats=n,o.format=function(e){void 0===e&&(e="YYYY-MM-DDTHH:mm:ssZ");var t=this.$locale().formats,i=function(e,t){return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(e,i,o){var r=o&&o.toUpperCase();return i||t[o]||n[o]||t[r].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(n,e,t){return e||t.slice(1)})})}(e,void 0===t?{}:t);return r.call(this,i)}}}()},70178:function(n){n.exports=function(){"use strict";var n="minute",e=/[+-]\d\d(?::?\d\d)?/g,t=/([+-]|\d\d)/g;return function(i,o,r){var a=o.prototype;r.utc=function(n){return new o({date:n,utc:!0,args:arguments})},a.utc=function(e){var t=r(this.toDate(),{locale:this.$L,utc:!0});return e?t.add(this.utcOffset(),n):t},a.local=function(){return r(this.toDate(),{locale:this.$L,utc:!1})};var s=a.parse;a.parse=function(n){n.utc&&(this.$u=!0),this.$utils().u(n.$offset)||(this.$offset=n.$offset),s.call(this,n)};var c=a.init;a.init=function(){if(this.$u){var n=this.$d;this.$y=n.getUTCFullYear(),this.$M=n.getUTCMonth(),this.$D=n.getUTCDate(),this.$W=n.getUTCDay(),this.$H=n.getUTCHours(),this.$m=n.getUTCMinutes(),this.$s=n.getUTCSeconds(),this.$ms=n.getUTCMilliseconds()}else c.call(this)};var d=a.utcOffset;a.utcOffset=function(i,o){var r=this.$utils().u;if(r(i))return this.$u?0:r(this.$offset)?d.call(this):this.$offset;if("string"==typeof i&&(i=function(n){void 0===n&&(n="");var i=n.match(e);if(!i)return null;var o=(""+i[0]).match(t)||["-",0,0],r=o[0],a=60*+o[1]+ +o[2];return 0===a?0:"+"===r?a:-a}(i),null===i))return this;var a=Math.abs(i)<=16?60*i:i,s=this;if(o)return s.$offset=a,s.$u=0===i,s;if(0!==i){var c=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(s=this.local().add(a+c,n)).$offset=a,s.$x.$localOffset=c}else s=this.utc();return s};var l=a.format;a.format=function(n){var e=n||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,e)},a.valueOf=function(){var n=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||(new Date).getTimezoneOffset());return this.$d.valueOf()-6e4*n},a.isUTC=function(){return!!this.$u},a.toISOString=function(){return this.toDate().toISOString()},a.toString=function(){return this.toDate().toUTCString()};var u=a.toDate;a.toDate=function(n){return"s"===n&&this.$offset?r(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var p=a.diff;a.diff=function(n,e,t){if(n&&this.$u===n.$u)return p.call(this,n,e,t);var i=this.local(),o=r(n).local();return p.call(i,o,e,t)}}}()},55183:function(n){n.exports=function(){"use strict";var n="week",e="year";return function(t,i,o){var r=i.prototype;r.week=function(t){if(void 0===t&&(t=null),null!==t)return this.add(7*(t-this.week()),"day");var i=this.$locale().yearStart||1;if(11===this.month()&&this.date()>25){var r=o(this).startOf(e).add(1,e).date(i),a=o(this).endOf(n);if(r.isBefore(a))return 1}var s=o(this).startOf(e).date(i).startOf(n).subtract(1,"millisecond"),c=this.diff(s,n,!0);return c<0?o(this).startOf("week").week():Math.ceil(c)},r.weeks=function(n){return void 0===n&&(n=null),this.week(n)}}}()},172:function(n){n.exports=function(){"use strict";return function(n,e){e.prototype.weekYear=function(){var n=this.month(),e=this.week(),t=this.year();return 1===e&&11===n?t+1:0===n&&e>=52?t-1:t}}}()},6833:function(n){n.exports=function(){"use strict";return function(n,e){e.prototype.weekday=function(n){var e=this.$locale().weekStart||0,t=this.$W,i=(t<e?t+7:t)-e;return this.$utils().u(n)?i:this.subtract(i,"day").add(n,"day")}}}()}},e={};function t(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return n[i].call(r.exports,r,r.exports,t),r.exports}(()=>{var n=t(27484),e=t(37412),i=t(79212),o=t(28734),r=t(10285),a=t(6833),s=t(172),c=t(55183),d=t(34425),l=t(96036),u=t(56176),p=t(70178),h=t(1646);n.extend(e),n.extend(i),n.extend(o),n.extend(r),n.extend(a),n.extend(s),n.extend(c),n.extend(d),n.extend(l),n.extend(u),n.extend(p),n.extend(h);var f=t(40873);n.extend(f)})(),(()=>{"use strict";function n(n,e){var t;null===(t=chrome.runtime)||void 0===t||t.sendMessage(n,e)}function e(n){document.getElementById(n)&&document.getElementById(n).remove()}function t(n,e){this.type=n,this.data=e,this.exec()}function i(n,e,t){var i="";switch(e){case"success":i='<div class="success-message" style="box-sizing:content-box;padding: 10px 30px;height: 36px;text-align: center;background-color:rgba(0,0,0,.9);;color: white;position: fixed;left: 50%;top: 20px;transform:translateX(-50%);line-height: 36px;font-size:16px;font-weight:bold;border-radius: 4px;z-index: 9999;box-shadow: 0 3px 6px -4px rgba(0,0,0,.12),0 6px 16px 0 rgba(0,0,0,.08),0 9px 28px 8px rgba(0,0,0,.05);">\n    <span class="mes-text">'+n+"</span></div>";break;case"error":i='<div class="error-message" style="padding:0 20px;height: 40px;text-align: center;background-color: #FF7474;color: #FFFFFF;position: fixed;left: calc(50% - 184px);top: 80px;font-size:16px;line-height: 40px;border-radius: 8px;;z-index: 9999">\n    <span class="mes-text">'+n+"</span></div>"}$("body").append(i),setTimeout(function(){$("."+e+"-message").remove()},t)}function o(n){return n.replace(/\$i18n\{([^}]+)}/g,function(n,e){return chrome.i18n.getMessage(e)})}t.prototype={constructor:t,exec:function(){try{"changeCssText"===this.type?(this.cssTextBefore=this.data.element.style.cssText,this.data.element.style.cssText=this.cssTextBefore+";"+function(n){var e="";for(var t in n)e+=t.replace(/([a-zA-Z](?=[A-Z]))/g,"$1-").toLowerCase()+":"+n[t]+" !important;";return e}(this.data.cssObj)):"addStyle"===this.type?(n=this.data.id,e=this.data.css,t=document.head,(i=document.createElement("style")).setAttribute("type","text/css"),i.setAttribute("id",n),i.appendChild(document.createTextNode(e)),t.appendChild(i)):"changeAttr"===this.type&&(this.attrValueBefore=this.data.element[this.data.attrName],this.data.element[this.data.attrName]=this.data.attrValue)}catch(n){}var n,e,t,i},undo:function(){try{"changeCssText"===this.type?this.data.element.style.cssText=this.cssTextBefore:"addStyle"===this.type?e(this.data.id):"changeAttr"===this.type&&(this.data.element[this.data.attrName]=this.attrValueBefore)}catch(n){}}};var r;r=0;function a(){var n=document.querySelectorAll("video"),e=!1;return n.forEach(function(n){(function(n){var e=window.innerWidth,t=window.innerHeight;if(n){var i=n.getBoundingClientRect(),o=i.width,r=i.height;if(3*o>e&&3*r>t)return!0}return!1})(n)&&(e=!0)}),e}const s=".frame-container {\n  position: fixed !important;\n  bottom: 10px;\n  right: 10px;\n  width: 320px;\n  height: 180px;\n  z-index: 9999999;\n}\n.frame-container:hover .action {\n  display: block;\n  background-image: linear-gradient(rgba(0, 0, 0, 0.5), transparent);\n}\n.frame-container:hover .size-ctl {\n  display: flex;\n}\n.frame-container .size-ctl {\n  display: none;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 12px;\n  justify-content: center;\n  align-items: baseline;\n}\n.frame-container .size-ctl .resize-btn {\n  background-color: transparent;\n  border: 2px solid white;\n  cursor: pointer;\n  margin-left: 8px;\n  margin-right: 8px;\n}\n.frame-container .size-ctl .resize-btn.ative {\n  background-color: #5794FF;\n}\n.frame-container .size-ctl .small {\n  width: 19px;\n  height: 11px;\n}\n.frame-container .size-ctl .middle {\n  width: 26px;\n  height: 15px;\n}\n.frame-container .size-ctl .big {\n  width: 39px;\n  height: 22px;\n}\n.frame-container .action {\n  display: none;\n  position: absolute;\n  height: 40px;\n  top: 0;\n  left: 0;\n  right: 0;\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n}\n.frame-container .action-item {\n  height: 30px;\n  width: 30px;\n  float: right;\n  color: white;\n  font-size: 30px;\n  cursor: pointer;\n}\n.frame-container .action-item.close {\n  transform: rotate(45deg);\n  position: relative;\n  top: 5px;\n  right: 7px;\n  text-align: center;\n  line-height: 30px;\n}\n.frame-container iframe {\n  border: none;\n  outline: none;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  border-radius: 8px;\n}\n";const c='<div class="frame-container"><div class="action"><div class="action-item close">+</div></div><div class="size-ctl"><div class="small resize-btn" data-type="small"></div><div class="middle resize-btn" data-type="middle"></div><div class="big resize-btn" data-type="big"></div></div></div>';function d(n,e){return chrome.runtime.sendMessage(n,e)}function l(n,e){return n.target="offscreen",d(n,e)}var u,p=null,h=null,f=null,m=0;function b(n){var e=parseInt(h.css("top")),t=parseInt(h.css("left")),i=e+parseInt(h.css("height")),o=t+parseInt(h.css("width"));0==m&&(m=1920/1080);var r=".resize-btn",a=320;"small"===n?(a=190,r+=".small"):"big"===n?(a=400,r+=".big"):r+=".middle";var s=a/m;if(h.css("width",a+"px"),h.css("height",s+"px"),!isNaN(e)&&!isNaN(t)){var c=window.innerWidth,d=window.innerHeight;if(u){var l=u.x*window.innerWidth;d=u.y*window.innerHeight+u.h*window.innerHeight,c=l+u.w*window.innerWidth}i>d&&(i=d),o>c&&(o=c);var p=!1;o>c/2&&(p=!0),e+s>d-10&&(e=d-s-10,h.css("top",e+"px")),t+a>c-10&&(t=c-a-10,h.css("left",t+"px")),e+s<i&&h.css("top",i-s+"px"),p&&t+a<o&&h.css("left",o-a+"px")}h.find(".resize-btn").removeClass("ative"),h.find(r).addClass("ative")}function v(n){if("cameraDimension"===n.data.action){var e=n.data.ratio;m=e,u?(b("small"),function(){if(u){var n=u.x*window.innerWidth,e=u.y*window.innerHeight,t=u.h*window.innerHeight,i=u.w*window.innerWidth,o=window.innerHeight-e-t+6,r=window.innerWidth-n-i+6;h.css("bottom",o+"px"),h.css("right",r+"px")}}()):b("middle")}}chrome.runtime.onMessage.addListener(function(n,e,t){switch(n.action){case"setup-camera":var i=n.crop;u=i?n.crop:null,function(n){if(window.self!==window.top)return;if(document.querySelector("#aws-container")&&f)return void $(f)[0].contentWindow.postMessage({type:"changeDevice",data:n},"*");if((p=document.createElement("aws-camera")).id="aws-container",!p.style)return;var e=p.attachShadow({mode:"open"}),t=document.createElement("style");t.innerHTML=s,e.appendChild(t);var i=document.createElement("style");i.innerHTML=".ui-resizable { position: relative; } .ui-resizable-handle { position: absolute; font-size: 0.1px; display: block; -ms-touch-action: none; touch-action: none; } .ui-resizable-disabled .ui-resizable-handle, .ui-resizable-autohide .ui-resizable-handle { display: none; } .ui-resizable-n { cursor: n-resize; height: 7px; width: 100%; top: -5px; left: 0; } .ui-resizable-s { cursor: s-resize; height: 7px; width: 100%; bottom: -5px; left: 0; } .ui-resizable-e { cursor: e-resize; width: 7px; right: -5px; top: 0; height: 100%; } .ui-resizable-w { cursor: w-resize; width: 7px; left: -5px; top: 0; height: 100%; } .ui-resizable-se { cursor: nwse-resize; width: 12px; height: 12px; right: 1px; bottom: 1px; } .ui-resizable-sw { cursor: nesw-resize; width: 9px; height: 9px; left: -5px; bottom: -5px; } .ui-resizable-nw { cursor: nwse-resize; width: 9px; height: 9px; left: -5px; top: -5px; } .ui-resizable-ne { cursor: nesw-resize; width: 9px; height: 9px; right: -5px; top: -5px; }",e.appendChild(i);var o=$(c);h=o;var r=o.find(".action");r.find(".close").on("click",function(){document.documentElement.removeChild(p),l({action:"close-camera",manually:!0})}),o.find(".resize-btn").on("click",function(){b($(this).attr("data-type"))}),r.appendTo(o);var a=document.createElement("iframe");a.setAttribute("allow","camera; microphone"),a.src=chrome.runtime.getURL("/camera-embed.html?deviceId="+n),f=a,$.Draggable(o[0],{container:document}),o.resizable({handles:"ne,se,sw,nw",aspectRatio:!0}),window.addEventListener("message",v),o.append(a),o.appendTo(e),document.documentElement.appendChild(p)}(n.deviceId||"default");break;case"stop-camera":p&&p.parentNode&&(document.documentElement.removeChild(p),window.removeEventListener("message",v));break;case"insertRecordDiv":break;case"removeRecordDiv":$("#aws-record-div").remove()}});const g=".countdown-wrapper {\n  font-family: Arial;\n  position: fixed;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  z-index: 2147483647;\n}\n.countdown-wrapper .center {\n  width: 300px;\n  height: 220px;\n  font-size: 1px;\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 232px;\n  margin: auto;\n  color: white;\n  text-align: center;\n}\n.countdown-wrapper .sec {\n  line-height: 120px;\n  font-size: 100px;\n}\n.countdown-wrapper .tip {\n  font-size: 30px;\n  margin-bottom: 10px;\n}\n.countdown-wrapper .cancel-btn {\n  font-size: 12px;\n  padding: 4px 10px;\n  border: 1px solid white;\n  border-radius: 4px;\n  cursor: pointer;\n  margin-top: 30px;\n  display: inline-block;\n  line-height: 14px;\n  opacity: 0.6;\n}\n.countdown-wrapper .cancel-btn:hover {\n  opacity: 1;\n}\n";const x='<div class="countdown-wrapper"><div class="center"><div class="tip">Recording will start in</div><div class="sec"></div></div></div>';var w=null;function y(){$("#aws-countdown").remove()}function _(n){return new Promise(function(e,t){"string"==typeof n?chrome.storage.local.get([n],function(t){e(t[n])}):Array.isArray(n)?chrome.storage.local.get(null,function(t){e(n.map(function(n){return t[n]}))}):n||chrome.storage.local.get(null,function(n){e(n)})})}function k(){var n,e,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function r(t,i,o,r){var c=i&&i.prototype instanceof s?i:s,d=Object.create(c.prototype);return M(d,"_invoke",function(t,i,o){var r,s,c,d=0,l=o||[],u=!1,p={p:0,n:0,v:n,a:h,f:h.bind(n,4),d:function(e,t){return r=e,s=0,c=n,p.n=t,a}};function h(t,i){for(s=t,c=i,e=0;!u&&d&&!o&&e<l.length;e++){var o,r=l[e],h=p.p,f=r[2];t>3?(o=f===i)&&(c=r[(s=r[4])?5:(s=3,3)],r[4]=r[5]=n):r[0]<=h&&((o=t<2&&h<r[1])?(s=0,p.v=i,p.n=r[1]):h<f&&(o=t<3||r[0]>i||i>f)&&(r[4]=t,r[5]=i,p.n=f,s=0))}if(o||t>1)return a;throw u=!0,i}return function(o,l,f){if(d>1)throw TypeError("Generator is already running");for(u&&1===l&&h(l,f),s=l,c=f;(e=s<2?n:c)||!u;){r||(s?s<3?(s>1&&(p.n=-1),h(s,c)):p.n=c:p.v=c);try{if(d=2,r){if(s||(o="next"),e=r[o]){if(!(e=e.call(r,c)))throw TypeError("iterator result is not an object");if(!e.done)return e;c=e.value,s<2&&(s=0)}else 1===s&&(e=r.return)&&e.call(r),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);r=n}else if((e=(u=p.n<0)?c:t.call(i,p))!==a)break}catch(e){r=n,s=1,c=e}finally{d=1}}return{value:e,done:u}}}(t,o,r),!0),d}var a={};function s(){}function c(){}function d(){}e=Object.getPrototypeOf;var l=[][i]?e(e([][i]())):(M(e={},i,function(){return this}),e),u=d.prototype=s.prototype=Object.create(l);function p(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,d):(n.__proto__=d,M(n,o,"GeneratorFunction")),n.prototype=Object.create(u),n}return c.prototype=d,M(u,"constructor",d),M(d,"constructor",c),c.displayName="GeneratorFunction",M(d,o,"GeneratorFunction"),M(u),M(u,o,"Generator"),M(u,i,function(){return this}),M(u,"toString",function(){return"[object Generator]"}),(k=function(){return{w:r,m:p}})()}function M(n,e,t,i){var o=Object.defineProperty;try{o({},"",{})}catch(n){o=0}M=function(n,e,t,i){function r(e,t){M(n,e,function(n){return this._invoke(e,t,n)})}e?o?o(n,e,{value:t,enumerable:!i,configurable:!i,writable:!i}):n[e]=t:(r("next",0),r("throw",1),r("return",2))},M(n,e,t,i)}function S(n,e,t,i,o,r,a){try{var s=n[r](a),c=s.value}catch(n){return void t(n)}s.done?e(c):Promise.resolve(c).then(i,o)}chrome.runtime.onMessage.addListener(function(n,e,t){switch(n.action){case"startCountDown":!function(n){if(document.querySelector("#aws-countdown"))return;var e=document.createElement("div");if(e.id="aws-countdown",!e.style)return;var t=e.attachShadow({mode:"open"}),i=document.createElement("style");i.innerHTML=g,t.appendChild(i);var o=$(x),r=o.find(".sec"),a=n;r.text(a),a--,w=setInterval(function(){if(0===a)return clearInterval(w),w=null,void y();r.text(a),a--},980),o.appendTo(t),document.documentElement.appendChild(e)}(n.countdown);break;case"stop-countdown":clearInterval(w),w=null,y()}});var C=[{name:"trello",reg:/trello\.com/,container:".js-desc,.js-comment,.window-wrapper",observeContainer:[".window-overlay",".js-react-root"]},{name:"github",reg:/github\.com/,container:".js-comment-body,.react-issue-comment,.react-issue-body",observeContainer:["#discussion_bucket,div[data-testid=issue-viewer-container]"]},{name:"asana",reg:/app\.asana\.com/,container:".TruncatedRichText-richText,#TaskDescription-textEditor",observeContainer:[".SpreadsheetPageStructure-detailsOverlay"]},{name:"jira",reg:/atlassian\.net/,container:".ak-renderer-document",observeContainer:[".atlaskit-portal-container","div[data-testid='Content']"]},{name:"slack",reg:/app\.slack\.com/,container:".p-rich_text_section,.c-message_attachment__title",observeContainer:[".p-workspace__primary_view_body"]},{name:"gmail",reg:/mail\.google\.com/,container:"div[role=listitem]",observeContainer:["#\\:1"]}],z={slack:{width:"40%",paddingBottom:"25%"},gmail:{width:"50%",paddingBottom:"30%"},default:{width:"80%",paddingBottom:"50%"}},D=/https:\/\/www\.awesomescreenshot\.com\/video\/(.*)/,T=function(n){return C.find(function(e){return e.reg.test(n)})||null},Y=function(n,e){if(function(n){if(!n)return!1;var e=decodeURIComponent(n);return D.test(e)}(n.href)){var t=function(n){try{var e=decodeURIComponent(n);if(/slack-redir\.net/.test(e)){var t=e.match(/\?url=(.*)$/);t&&(e=t[1])}var i=new URL(e),o=i.searchParams.get("key"),r=i.pathname.substring(7);return r&&o?{id:r,shareKey:o}:null}catch(n){return null}}(n.href),i=!!function(n){if(!n)return null;for(var e=n.parentElement,t=0;e&&t<7&&e!==document.body;){if(e.isContentEditable)return e;e=e.parentElement,t++}return null}(n);if(t&&!n.classList.contains("aws-expanded")&&!i){var o=function(n,e){var t=z[e]||z.default,i=document.createElement("div");i.style.cssText="\n    width: ".concat(t.width,";\n    position: relative;\n    max-width: 500px;\n    min-width: 400px;\n  ");var o=document.createElement("iframe");return o.style.cssText="\n    display: inline;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n  ",o.frameBorder="0",o.setAttribute("webkitallowfullscreen",""),o.setAttribute("mozallowfullscreen",""),o.setAttribute("allowfullscreen",""),o.src="https://www.awesomescreenshot.com/embed?id=".concat(n.id,"&shareKey=").concat(n.shareKey),i.appendChild(o),i}(t,e);n.parentNode.insertBefore(o,n);var r=o.offsetWidth;o.style.height="".concat(.7*r,"px"),n.classList.add("aws-expanded"),function(n){if(n.classList.contains("c-message_attachment__title_link")){var e=n.closest(".c-message_attachment__body");e&&(e.querySelectorAll(".c-message_attachment__row--has_trigger").forEach(function(n){return n.remove()}),e.querySelectorAll("a[data-qa=attachment_image]").forEach(function(n){var e=n.closest(".c-message_attachment__row");e&&e.remove()}),n.remove())}}(n)}}},L=function(n){var e=function(n){return new MutationObserver(function(e){e.some(function(n){return"childList"===n.type||"subtree"===n.type})&&requestAnimationFrame(function(){$(n.container).find("a").each(function(e,t){Y(t,n.name)})})})}(n);return n.observeContainer.forEach(function(n){var t=function(n){try{return document.querySelector(n)}catch(n){return null}}(n)||document;e.observe(t,{childList:!0,subtree:!0})}),e},E=function(){var n,e=(n=k().m(function n(){var e,t;return k().w(function(n){for(;;)switch(n.p=n.n){case 0:return n.p=0,n.n=1,_("options");case 1:if(null!=(e=n.v)&&e["expand-link"]){n.n=2;break}return n.a(2);case 2:if((t=T(window.location.href))&&e["expand-link-".concat(t.name)]){n.n=3;break}return n.a(2);case 3:L(t),n.n=5;break;case 4:n.p=4,n.v;case 5:return n.a(2)}},n,null,[[0,4]])}),function(){var e=this,t=arguments;return new Promise(function(i,o){var r=n.apply(e,t);function a(n){S(r,i,o,a,s,"next",n)}function s(n){S(r,i,o,a,s,"throw",n)}a(void 0)})});return function(){return e.apply(this,arguments)}}();E();const H='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n.dropdown-text-btn {\n  padding: 7px 10px;\n  line-height: 16px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.dropdown-text-btn .dropdown-arrow {\n  margin-left: 5px;\n  font-size: 8px;\n  top: -1px;\n}\n.dropdown-text-btn.ant-dropdown-open {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn.ant-dropdown-open:hover {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn:hover {\n  background-color: var(--as-dropdown-btn-bg-color);\n}\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n.container {\n  font-size: 12px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  pointer-events: none;\n  font: normal normal normal 12px/1 Helvetica, arial, sans-serif;\n  z-index: 2147483641;\n}\n.container * {\n  box-sizing: border-box;\n}\n.toolbar {\n  position: fixed;\n  left: 12px;\n  bottom: 12px;\n  display: flex;\n  background: #484e59;\n  color: white;\n  z-index: 2147483643;\n  pointer-events: all;\n  border-radius: 8px;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);\n}\n.toolbar .toolbar-action-btn,\n.toolbar .collapse-btn,\n.toolbar .expand-btn,\n.toolbar .toolbar-item,\n.toolbar .action-item:not(.stop) .device-item,\n.toolbar .sub-menu-item {\n  position: relative;\n}\n.toolbar .toolbar-action-btn:hover::after,\n.toolbar .collapse-btn:hover::after,\n.toolbar .expand-btn:hover::after,\n.toolbar .toolbar-item:hover::after,\n.toolbar .action-item:not(.stop) .device-item:hover::after,\n.toolbar .sub-menu-item:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.toolbar .toolbar-action-btn[data-tooltip-placement="left"]::after,\n.toolbar .collapse-btn[data-tooltip-placement="left"]::after,\n.toolbar .expand-btn[data-tooltip-placement="left"]::after,\n.toolbar .toolbar-item[data-tooltip-placement="left"]::after,\n.toolbar .action-item:not(.stop) .device-item[data-tooltip-placement="left"]::after,\n.toolbar .sub-menu-item[data-tooltip-placement="left"]::after {\n  left: -6px;\n  transform: translate3d(0, 0, 0);\n}\n.toolbar .toolbar-action-btn::after,\n.toolbar .collapse-btn::after,\n.toolbar .expand-btn::after,\n.toolbar .toolbar-item::after,\n.toolbar .action-item:not(.stop) .device-item::after,\n.toolbar .sub-menu-item::after {\n  content: attr(aria-label);\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 12px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 8px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.toolbar.discard .discard-view {\n  display: flex !important;\n}\n.toolbar.discard .discarded {\n  display: none !important;\n}\n.toolbar.discard .bar-area::after {\n  display: none !important;\n}\n.toolbar.discard .bar-area::before {\n  display: none !important;\n}\n.toolbar.paused .action-item.paused {\n  display: block !important;\n}\n.toolbar.paused .action-item.pause {\n  display: none !important;\n}\n.toolbar .action-item.paused {\n  display: none;\n}\n.toolbar.collapsed .expand-able {\n  display: none !important;\n}\n.toolbar.collapsed .device-soure::after {\n  border-color: transparent !important;\n}\n.toolbar.collapsed .device-soure select {\n  display: none !important;\n}\n.toolbar.collapsed .device-soure.mic {\n  margin-right: 6px;\n}\n.toolbar.collapsed .record-actions .action-item.stop {\n  width: auto !important;\n  min-width: 42px !important;\n  background-color: transparent !important;\n}\n.toolbar.collapsed .collapse-btn {\n  display: none;\n}\n.toolbar.collapsed .expand-btn {\n  display: block;\n}\n.toolbar .bar-area {\n  display: flex;\n  height: 50px;\n  position: relative;\n}\n.toolbar .bar-area .close-action {\n  background-color: white;\n  border-radius: 50%;\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  z-index: 8;\n  bottom: 40px;\n  right: -8px;\n  display: none;\n  cursor: pointer;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);\n}\n.toolbar .bar-area .close-action:hover {\n  background-color: #d8d8d8;\n}\n.toolbar .bar-area .close-action .svg-icon {\n  margin: 3px;\n  width: 14px;\n  height: 14px;\n}\n.toolbar .bar-area .prepare-view {\n  z-index: 10;\n  background-color: rgba(0, 0, 0, 0.5);\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  pointer-events: all;\n  border-radius: 8px;\n}\n.toolbar .bar-area.prepare {\n  opacity: 0.4;\n}\n.toolbar .bar-area:hover::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 2px;\n  height: 14px;\n  border-width: 0px;\n  border-radius: 2px;\n  background-color: #8a8f99;\n  left: 4px;\n  top: 18px;\n  z-index: 2;\n  pointer-events: none;\n}\n.toolbar .bar-area:hover::before {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 2px;\n  height: 14px;\n  border-width: 0px;\n  border-radius: 2px;\n  background-color: #8a8f99;\n  left: 8px;\n  top: 18px;\n  z-index: 2;\n  pointer-events: none;\n}\n.toolbar .bar-area .discard-view {\n  display: none;\n  height: 30px;\n  margin-top: 10px;\n  margin-left: 10px;\n  margin-right: 10px;\n}\n.toolbar .bar-area .discard-view .action-item {\n  height: 30px;\n  cursor: pointer;\n  padding-left: 10px;\n  padding-right: 10px;\n  font-size: 16px;\n  line-height: 30px;\n}\n.toolbar .bar-area .discard-view .action-item.cancel {\n  margin-left: 12px;\n  border-radius: 8px;\n}\n.toolbar .bar-area .discard-view .action-item.cancel:hover {\n  background-color: #00000033;\n}\n.toolbar .bar-area .discard-view .action-item.cancel::after {\n  display: none;\n}\n.toolbar .bar-area .discard-view .action-item.discard {\n  display: flex;\n  width: auto;\n  color: white;\n  cursor: pointer;\n  background-color: #ee7975;\n  border-radius: 8px;\n  line-height: 30px;\n  user-select: none;\n}\n.toolbar .bar-area .discard-view .action-item.discard .svg-icon {\n  margin-right: 4px;\n  margin-left: 0px;\n}\n.toolbar .bar-area .discard-view .action-item.discard:after {\n  display: none;\n}\n.toolbar .bar-area .actions {\n  display: flex;\n  height: 50px;\n  margin-top: 0px;\n  position: relative;\n}\n.toolbar .bar-area .actions .time {\n  line-height: 50px;\n  margin-left: 6px;\n  font-size: 16px;\n  font-weight: 600;\n  text-align: center;\n  min-width: 50px;\n  padding-left: 8px;\n  user-select: none;\n  cursor: move;\n}\n.toolbar .bar-area .actions .action-item {\n  width: auto;\n  height: 30px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin-left: 5px;\n  margin-right: 5px;\n  margin-top: 10px;\n  cursor: pointer;\n}\n.toolbar .bar-area .actions .action-item.discard {\n  margin-left: 6px;\n  border-radius: 8px;\n  padding-left: 0px;\n  padding-right: 0px;\n}\n.toolbar .bar-area .actions .action-item.discard:hover {\n  background-color: #00000033;\n}\n.toolbar .bar-area .actions .action-item.drag {\n  margin-left: 0px;\n  margin-right: 0px;\n  padding-left: 0px;\n  padding-right: 0px;\n  width: 10px;\n  left: 0px;\n  position: absolute;\n}\n.toolbar .bar-area .actions .action-item.drag .svg-icon {\n  width: 10px;\n  margin-left: 0px;\n  margin-right: 0px;\n}\n.toolbar .bar-area .actions .action-item.play {\n  background-color: #5794ff;\n  width: 40px;\n  border-radius: 8px;\n}\n.toolbar .bar-area .actions .action-item.play .svg-icon {\n  filter: invert(100%) sepia(100%) saturate(123%) hue-rotate(176deg) brightness(103%) contrast(105%);\n}\n.toolbar .bar-area .actions .action-item.pause {\n  background-color: #5794ff;\n  border-radius: 8px;\n}\n.toolbar .bar-area .actions .action-item.pause .svg-icon {\n  filter: invert(100%) sepia(100%) saturate(123%) hue-rotate(176deg) brightness(103%) contrast(105%);\n}\n.toolbar .bar-area .actions .action-item.stop {\n  display: flex;\n  padding-right: 6px;\n  background-color: #ee7975;\n  border-radius: 8px;\n  font-weight: 600;\n  user-select: none;\n}\n.toolbar .bar-area .actions .record-actions {\n  display: flex;\n  margin: 0 6px;\n  line-height: 30px;\n}\n.toolbar .bar-area .actions .record-actions .record-item {\n  display: flex;\n}\n.toolbar .bar-area .svg-icon {\n  width: 20px;\n  height: 20px;\n  margin: 5px;\n}\n.toolbar .bar-area .svg-icon.white {\n  filter: invert(100%) sepia(0%) saturate(0%) hue-rotate(122deg) brightness(109%) contrast(101%);\n}\n.toolbar .bar-area .svg-icon.red {\n  filter: invert(77%) sepia(38%) saturate(1085%) hue-rotate(304deg) brightness(89%) contrast(111%);\n}\n.toolbar .bar-area .svg-icon.drag {\n  filter: invert(59%) sepia(2%) saturate(2485%) hue-rotate(185deg) brightness(100%) contrast(65%);\n}\n.toolbar .bar-area .svg-icon.stop {\n  filter: invert(100%) sepia(100%) saturate(2%) hue-rotate(307deg) brightness(103%) contrast(101%);\n}\n.toolbar .bar-area .devices {\n  display: flex;\n  height: 50px;\n  margin-top: 0px;\n}\n.toolbar .bar-area .devices .device-soure {\n  display: flex;\n  position: relative;\n  margin-right: 10px;\n  margin-top: 10px;\n}\n.toolbar .bar-area .devices .device-soure.hidde-select select {\n  display: none !important;\n}\n.toolbar .bar-area .devices .device-soure.hidde-select::after {\n  border-color: transparent !important;\n}\n.toolbar .bar-area .devices .device-soure .device-item {\n  width: 30px;\n  height: 30px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.toolbar .bar-area .devices .device-soure .device-item:hover {\n  background-color: #00000033;\n}\n.toolbar .bar-area .devices .device-soure .device-item.nocam.loading {\n  display: inline-block;\n  border: 3px solid #f3f3f3;\n  border-top: 3px solid #a3a3a3;\n  background-image: none !important;\n  width: 16px !important;\n  height: 16px !important;\n  margin-top: 7px;\n  margin-left: 7px;\n  margin-right: 7px;\n  border-radius: 20px;\n  animation: loading-animation 0.8s infinite linear;\n}\n.toolbar .bar-area .devices .device-soure .device-item.nocam.loading .svg-icon {\n  display: none;\n}\n.toolbar .bar-area .devices .device-soure .device-item.nocam.loading::after {\n  display: none;\n}\n.toolbar .bar-area .devices .device-soure select {\n  user-select: none;\n  display: inline-block;\n  width: 6px;\n  padding-right: 14px;\n  direction: ltr;\n  -moz-appearance: none;\n  -webkit-appearance: none;\n  appearance: none;\n  outline: none;\n  border: none;\n  background: transparent;\n  line-height: 20px;\n  padding-left: 0;\n  border-radius: 0;\n  color: #6e6e6e;\n  font-size: 12px;\n  height: 30px;\n  border-radius: 8px;\n}\n.toolbar .bar-area .devices .device-soure select:hover {\n  background-color: #00000033;\n}\n.toolbar .bar-area .devices .device-soure:hover::after {\n  border-color: #888a8f transparent transparent transparent;\n}\n.toolbar .bar-area .devices .device-soure::after {\n  content: "";\n  display: block;\n  position: absolute;\n  width: 0;\n  height: 0;\n  border-width: 5px 3px;\n  border-style: solid;\n  border-color: #a3a6ac transparent transparent transparent;\n  right: 4px;\n  top: 14px;\n  z-index: 2;\n  pointer-events: none;\n}\n.toolbar .svg-icon {\n  width: 20px;\n  height: 20px;\n}\n.toolbar .svg-icon svg {\n  color: #47d892;\n}\n.toolbar .svg-icon.disable {\n  filter: invert(82%) sepia(64%) saturate(3001%) hue-rotate(317deg) brightness(108%) contrast(90%);\n}\n.toolbar:hover {\n  opacity: 1;\n}\n.toolbar.sub-menu {\n  border-radius: 8px;\n}\n.toolbar.paused .sub-menu.mouse {\n  left: 60%;\n}\n.toolbar.paused .sub-menu.draw {\n  left: 62%;\n}\n.toolbar.paused .sub-menu.remove {\n  left: 82%;\n}\n.toolbar .sub-menu {\n  height: 40px;\n  min-width: 142px;\n  border-radius: 8px;\n  background-color: #484e59;\n  position: absolute;\n  justify-content: left;\n  left: 0;\n  top: -46px;\n  display: none;\n  padding: 0 6px;\n}\n.toolbar .sub-menu.mouse {\n  left: 45%;\n}\n.toolbar .sub-menu.draw {\n  left: 48%;\n}\n.toolbar .sub-menu.remove {\n  left: 75%;\n  min-width: 78px;\n}\n.toolbar .sub-menu .color-picker {\n  display: flex;\n  width: 60px;\n  margin: 12px 0 0 8px;\n  justify-content: space-between;\n}\n.toolbar .sub-menu .color-picker .color-item {\n  height: 16px;\n  width: 16px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n.toolbar .sub-menu .color-picker .color-item.active {\n  border: 2px solid white;\n}\n.toolbar .sub-menu .color-picker .color-item.blue {\n  background-color: #5794ff;\n}\n.toolbar .sub-menu .color-picker .color-item.red {\n  background-color: #ff0000;\n}\n.toolbar .sub-menu .color-picker .color-item.green {\n  background-color: #47d892;\n}\n.toolbar .sub-menu .sub-menu-item {\n  height: 28px;\n  width: 28px;\n  border-radius: 8px;\n  margin: 6px 6px 0 0;\n  cursor: pointer;\n}\n.toolbar .sub-menu .sub-menu-item:hover {\n  background-color: #00000033;\n}\n.toolbar .sub-menu .sub-menu-item:last-child {\n  margin-right: 0px;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-default b {\n  background-position: -126px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-background b {\n  background-position: -144px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-click b {\n  background-position: -162px 0;\n}\n.toolbar .sub-menu .sub-menu-item.mouse-focus b {\n  background-position: -180px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-freeline b {\n  background-position: -198px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-rect b {\n  background-position: -216px 0;\n}\n.toolbar .sub-menu .sub-menu-item.draw-arrow b {\n  background-position: -234px 0;\n}\n.toolbar .sub-menu .sub-menu-item.remove-single b {\n  background-position: -252px 0;\n}\n.toolbar .sub-menu .sub-menu-item.remove-all b {\n  background-position: -270px 0;\n}\n.toolbar .sub-menu .sub-menu-item b {\n  height: 18px;\n  width: 18px;\n  margin: 5px 0 0 5px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar .sub-menu .sub-menu-item b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar .sub-menu .sub-menu-item.active {\n  background-color: #00000033;\n}\n.toolbar .sub-menu .sub-menu-item.active:hover {\n  background-color: #00000033;\n}\n.toolbar .sep {\n  width: 1px;\n  height: 20px;\n  background: #ffffff33;\n  margin-top: 15px;\n}\n.toolbar .more-action {\n  margin-right: 8px;\n  display: none;\n}\n.toolbar .toolbar-action-btn {\n  height: 40px;\n  width: 40px;\n  cursor: pointer;\n  position: relative;\n}\n.toolbar .toolbar-action-btn b {\n  height: 18px;\n  width: 18px;\n  margin: 11px 0 0 11px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar .toolbar-action-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar .toolbar-action-btn:hover {\n  background-color: #272934;\n}\n.toolbar .toolbar-action-btn:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.toolbar .toolbar-action-btn.pause {\n  margin-right: 8px;\n}\n.toolbar .toolbar-action-btn.pause b {\n  background-position: -54px 0;\n}\n.toolbar .toolbar-action-btn.resume b {\n  background-position: -72px 0;\n}\n.toolbar .toolbar-action-btn.discard b {\n  background-position: -90px 0;\n}\n.toolbar .toolbar-action-btn.stop b {\n  background-position: -108px 0;\n}\n@keyframes loading-animation {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.annotation-tools {\n  display: flex;\n}\n.annotation-tools.disabled {\n  position: relative;\n}\n.annotation-tools.disabled:hover::after {\n  visibility: visible;\n  opacity: 1;\n}\n.annotation-tools.disabled[data-tooltip-placement="left"]::after {\n  left: -6px;\n  transform: translate3d(0, 0, 0);\n}\n.annotation-tools.disabled::after {\n  content: attr(aria-label);\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.8);\n  color: #fff;\n  padding: 6px 10px;\n  font-size: 12px;\n  line-height: 12px;\n  white-space: nowrap;\n  border-radius: 12px;\n  /* box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.3); */\n  bottom: calc(100% + 8px);\n  left: 50%;\n  position: absolute;\n  visibility: hidden;\n  opacity: 0;\n  z-index: 1000000;\n  pointer-events: none;\n  transition: 0.2s ease;\n  transition-delay: 0s;\n  transform: translate3d(-50%, 0, 0);\n}\n.toolbar-item {\n  height: 30px;\n  width: 30px;\n  margin-top: 10px;\n  margin-right: 6px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.toolbar-item.disabled {\n  pointer-events: none;\n}\n.toolbar-item.disabled b {\n  opacity: 0.6;\n}\n.toolbar-item:nth-child(1) {\n  margin-left: 8px;\n}\n.toolbar-item b {\n  height: 18px;\n  width: 18px;\n  margin: 6px 0 0 6px;\n  display: block;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .toolbar-item b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.toolbar-item.draw b {\n  background-position: -18px 0;\n}\n.toolbar-item.remove b {\n  background-position: -36px 0;\n}\n.toolbar-item.active {\n  background-color: #00000033;\n}\n.toolbar-item.active:after {\n  display: none;\n}\n.toolbar-item.active:hover {\n  background-color: #00000033;\n}\n.toolbar-item:hover {\n  background-color: #00000033;\n}\n.collapse-btn {\n  background-color: #484e59;\n  border-radius: 0 8px 8px 0;\n  cursor: pointer;\n}\n.collapse-btn::after {\n  display: none;\n}\n.collapse-btn .svg-icon {\n  margin-top: 15px !important;\n}\n.collapse-btn b {\n  display: block;\n  height: 10px;\n  width: 10px;\n  margin-left: 4px;\n  margin-top: 20px;\n  background-position: -288px 0;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .collapse-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.expand-btn {\n  display: none;\n  background-color: #484e59;\n  border-radius: 0 8px 8px 0;\n  cursor: pointer;\n}\n.expand-btn .svg-icon {\n  margin-top: 15px !important;\n  transform: rotate(180deg);\n}\n.expand-btn::after {\n  display: none;\n}\n.expand-btn b {\n  display: block;\n  height: 10px;\n  width: 10px;\n  transform: rotate(180deg);\n  margin-left: 5px;\n  margin-top: 20px;\n  background-position: -288px 0;\n  background-size: 308px auto;\n  background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic.png);\n}\n@media only screen and (-webkit-min-device-pixel-ratio: 1.5), only screen and (-moz-min-device-pixel-ratio: 1.5), only screen and (-o-min-device-pixel-ratio: 3/2), only screen and (min-device-pixel-ratio: 1.5) {\n  .expand-btn b {\n    background-image: url(@extension_path/images/video_toolbar/video_toolbar_ic@2x.png);\n  }\n}\n.mouse-block {\n  height: 48px;\n  width: 48px;\n  border-radius: 50%;\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  background: transparent;\n}\n.mouse-block.bg {\n  background: rgba(237, 241, 6, 0.5);\n}\n.mouse-block .inner-block {\n  height: 100%;\n  width: 100%;\n  border: 2px solid red;\n  transform: scale(0);\n  transition: transform 350ms ease;\n  border-radius: 50%;\n  position: relative;\n  top: -2px;\n  left: -2px;\n  pointer-events: none;\n}\n.mouse-block.mouse-down .inner-block {\n  transform: scale(1);\n  transition: none;\n}\n#draw-canvas {\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 2147483642;\n}\n#draw-canvas.freeline {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_pen_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_pen_ic@2x.png") 2x) 3 22, auto;\n}\n#draw-canvas.rect {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_box_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_box_ic@2x.png") 2x) 7 22, auto;\n}\n#draw-canvas.arrow {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/brush_mouse_arrow_ic.png") 1x, url("@extension_path/images/video_toolbar/brush_mouse_arrow_ic@2x.png") 2x) 7 22, auto;\n}\n#draw-canvas.remove {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/toolbar_clear_mouse_ic.png") 1x, url("@extension_path/images/video_toolbar/toolbar_clear_mouse_ic@2x.png") 2x) 11 11, auto;\n}\n#draw-canvas.do-remove {\n  cursor: -webkit-image-set(url("@extension_path/images/video_toolbar/toolbar_clear_mouse_hover_ic.png") 1x, url("@extension_path/images/video_toolbar/toolbar_clear_mouse_hover_ic@2x.png") 2x) 11 11, auto;\n}\n#layer-canvas {\n  position: fixed;\n  left: 0;\n  top: 0;\n  pointer-events: none;\n  z-index: 2147483641;\n}\n';const R='<div class="container"><div class="toolbar" id="toolbar"><div class="bar-area"><div class="prepare-view" id="prepare-view"></div><div class="actions">\x3c!-- <div class="action-item drag expand-able" aria-label="$i18n{drag_btn}" id="drag-menu">\n          <img class="svg-icon drag" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_drag.svg" />\n        </div> --\x3e<div class="time discarded" id="time">0:00</div><div class="record-actions discarded">\x3c!-- <div\n            class="action-item pause expand-able"\n            data-action="pause"\n            aria-label="$i18n{pause_btn}"\n          >\n            <img\n              class="svg-icon"\n              src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_pause.svg"\n            />\n          </div> --\x3e<div class="record-item expand-able"><div class="action-item pause expand-able" data-action="pause" aria-label="$i18n{pause_btn}"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_pause.svg"></div><div class="action-item play expand-able paused" data-action="resume" aria-label="$i18n{resume_btn}"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_play.svg"></div><div class="action-item stop expand-able" data-action="stop"><img class="svg-icon stop expand-able" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_stop.svg"></div><div class="action-item discard discarded expand-able paused" data-action="discard-view" aria-label="$i18n{discard_btn}"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_trash.svg"></div><div class="sep"></div></div></div></div><div class="discard-view"><div class="action-item discard" data-action="discard"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_trash.svg"><div>$i18n{discard_p_yes}</div></div><div class="action-item cancel" data-action="cancel" aria-label="">$i18n{capture_btn_cancel}</div></div><div class="devices discarded" id="devices"><div class="device-soure cam expand-able"><div class="device-item" data-action="camera" id="cam" aria-label="$i18n{off_cam_btn}"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_cam.svg"></div><div class="device-item nocam" data-action="camera" id="noCam" aria-label="$i18n{on_cam_btn}"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_no_cam.svg"></div><select id="cam-soure" data-source="cam" name="cam-soure"></select></div><div class="device-soure mic"><div class="device-item" data-action="audio" id="audio" aria-label="$i18n{off_mic_btn}"><img class="svg-icon white" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_mic.svg"></div><div class="device-item" data-action="audio" id="mute" aria-label="$i18n{on_mic_btn}"><img class="svg-icon red" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_mute.svg"></div><select id="mic-soure" class="expand-able" data-source="mic" name="mic-soure"></select></div><div class="sep expand-able discarded free"></div></div><div class="annotation-tools expand-able discarded free" aria-label="" data-tooltip-placement="left"><div class="toolbar-item mouse active" data-mode="mouse" aria-label="$i18n{vtoolbar_mouse_effect_btn}" data-tooltip-placement="left"><b></b></div><div class="toolbar-item draw" data-mode="draw" aria-label="$i18n{vtoolbar_annotation_btn}"><b></b></div><div class="toolbar-item remove" data-mode="remove" aria-label="$i18n{vtoolbar_remove_btn}"><b></b></div></div><div class="close-action"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_close.svg"></div><div class="collapse-btn close-btn discarded" aria-label="$i18n{vtoolbar_collapse_btn}"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_arrow_left.svg"></div><div class="expand-btn close-btn discarded" aria-label="$i18n{vtoolbar_expand_btn}"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_arrow_left.svg"></div></div><div class="sub-menu mouse" data-menu="mouse"><div class="sub-menu-item mouse-default active" data-type="default" aria-label="$i18n{vtoolbar_mouse_default_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item mouse-background" data-type="background" aria-label="$i18n{vtoolbar_highlight_mouse_btn}"><b></b></div><div class="sub-menu-item mouse-click" data-type="click" aria-label="$i18n{vtoolbar_highlight_click_btn}"><b></b></div><div class="sub-menu-item mouse-focus" data-type="focus" aria-label="$i18n{vtoolbar_spotlight_btn}"><b></b></div></div><div class="sub-menu draw" data-menu="draw"><div class="sub-menu-item draw-freeline active" data-type="freeline" aria-label="$i18n{vtoolbar_freeline_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item draw-rect" data-type="rect" aria-label="$i18n{vtoolbar_rect_btn}"><b></b></div><div class="sub-menu-item draw-arrow" data-type="arrow" aria-label="$i18n{vtoolbar_arrow_btn}"><b></b></div><div class="color-picker"><div class="color-item red active" data-color="red"></div><div class="color-item blue" data-color="blue"></div><div class="color-item green" data-color="green"></div></div></div><div class="sub-menu remove" data-menu="remove"><div class="sub-menu-item remove-single active" data-type="remove-single" aria-label="$i18n{vtoolbar_remove_single_btn}" data-tooltip-placement="left"><b></b></div><div class="sub-menu-item remove-all" data-type="remove-all" data-tooltip-placement="left" aria-label="$i18n{vtoolbar_remove_all_btn}"><b></b></div></div></div><div class="mouse-block"><div class="inner-block"></div></div><canvas id="draw-canvas"></canvas><canvas id="layer-canvas"></canvas></div>',W='/*************************************/\n/*********** Veriables ***************/\n/*************************************/\n/*************************************/\n/************** Mixins ***************/\n/*************************************/\n.dropdown-text-btn {\n  padding: 7px 10px;\n  line-height: 16px;\n  border-radius: 8px;\n  cursor: pointer;\n}\n.dropdown-text-btn .dropdown-arrow {\n  margin-left: 5px;\n  font-size: 8px;\n  top: -1px;\n}\n.dropdown-text-btn.ant-dropdown-open {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn.ant-dropdown-open:hover {\n  background-color: var(--as-dropdown-btn-open-bg-color);\n}\n.dropdown-text-btn:hover {\n  background-color: var(--as-dropdown-btn-bg-color);\n}\n/*************************************/\n/*************** Antd ****************/\n/*************************************/\n.ant-select-arrow {\n  color: rgba(0, 0, 0, 0.5);\n  font-size: 13px;\n}\n#select_wrapper {\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  z-index: 2147483620;\n  /* MAX:2147483647 */\n  cursor: crosshair;\n  background-color: rgba(0, 0, 0, 0.3);\n  font: normal normal normal 12px/1 Helvetica, arial, sans-serif;\n  box-sizing: content-box !important;\n}\n#select_wrapper > div {\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.3);\n  cursor: auto;\n}\n#select_top {\n  top: 0;\n  left: 0;\n}\n#select_right {\n  top: 0;\n  right: 0;\n}\n#select_bottom {\n  right: 0;\n  bottom: 0;\n}\n#select_left {\n  bottom: 0;\n  left: 0;\n}\ndiv#select_center {\n  cursor: move;\n  outline: 1.5px dashed #d5d5d5;\n  background-color: rgba(0, 0, 0, 0);\n}\n.dragresize {\n  display: block !important;\n  position: absolute !important;\n  z-index: 999 !important;\n  width: 9px !important;\n  height: 9px !important;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIxJREFUeNqMUDEOgCAMrA58CFZX3uDIU/iBX3D0DawkTCS8xhBYao84aOLgJZdy10sLTMxMgDHGSVmFizAKj5zzPpoIaa037z2nlLjWOio0/DFEDg5Ga42fgL6DbsYKay0ppegJaPjjCpI8seIL8NHHpFhKoS/cfkToCCFQ7/0VgIaP/q/XTX/+6RJgAEc6j4dkIiynAAAAAElFTkSuQmCC);\n  background-position: center center !important;\n  background-repeat: no-repeat !important;\n  font-size: 0.1px !important;\n}\n.dragresize-tl {\n  top: -5px;\n  left: -5px;\n  cursor: nw-resize;\n}\n.dragresize-tm {\n  top: -5px;\n  width: 100% !important;\n  cursor: n-resize;\n}\n.dragresize-tr {\n  top: -5px;\n  right: -5px;\n  cursor: ne-resize;\n}\n.dragresize-ml {\n  left: -5px;\n  height: 100% !important;\n  cursor: w-resize;\n}\n.dragresize-mr {\n  right: -5px;\n  height: 100% !important;\n  cursor: e-resize;\n}\n.dragresize-bl {\n  left: -5px;\n  bottom: -5px;\n  cursor: sw-resize;\n}\n.dragresize-bm {\n  bottom: -5px;\n  width: 100% !important;\n  cursor: s-resize;\n}\n.dragresize-br {\n  right: -5px;\n  bottom: -5px;\n  cursor: se-resize;\n}\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n  -webkit-appearance: none !important;\n}\n.action-bar {\n  background-color: #484e59 !important;\n  border-radius: 8px;\n  height: 50px;\n  padding-left: 12px;\n  padding-right: 12px;\n  width: auto;\n  z-index: 1000;\n  display: none;\n}\n.action-bar .size-container {\n  display: flex;\n  justify-content: space-between;\n  width: 194px;\n  margin-right: 10px;\n}\n.action-bar span {\n  color: #8a8f99;\n  font-size: 16px;\n  line-height: 50px;\n  margin-right: 10px;\n}\n.action-bar .input-item {\n  display: flex;\n  background-color: #0000001a;\n  border-radius: 8px;\n  height: 30px;\n  width: 80px;\n  margin-top: auto;\n  margin-bottom: auto;\n  padding-left: 6px;\n  box-sizing: content-box;\n  border: 2px solid transparent;\n}\n.action-bar .input-item.focus {\n  border: 2px solid #5794ff;\n}\n.action-bar .input-item .icon {\n  width: 16px;\n  height: 16px;\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.action-bar .input-item input {\n  width: 44px;\n  height: 20px;\n  font-size: 16px;\n  color: white;\n  margin-top: auto;\n  margin-bottom: auto;\n  outline: none;\n  border: none;\n  background: none;\n  padding-left: 2px;\n  caret-color: #5794ff;\n}\n.action-bar .input-item .step-change {\n  width: 20px;\n  height: 30px;\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.action-bar .input-item .step-change .step-plus {\n  width: 100%;\n  height: 50%;\n  display: flex;\n  position: relative;\n  border-top-right-radius: 8px;\n}\n.action-bar .input-item .step-change .step-plus:hover {\n  background-color: #ffffff1a;\n}\n.action-bar .input-item .step-change .step-plus:hover::after {\n  border-bottom-color: #ffffff !important;\n}\n.action-bar .input-item .step-change .step-plus::after {\n  content: "";\n  width: 0;\n  height: 0;\n  left: 5px;\n  bottom: 3px;\n  border-color: rgba(0, 0, 0, 0);\n  border-width: 6px 3px;\n  border-style: solid;\n  position: absolute;\n  border-bottom-color: #8a8f99;\n}\n.action-bar .input-item .step-change .step-minus {\n  width: 100%;\n  height: 50%;\n  display: flex;\n  position: relative;\n  border-bottom-right-radius: 8px;\n}\n.action-bar .input-item .step-change .step-minus:hover {\n  background-color: #ffffff1a;\n}\n.action-bar .input-item .step-change .step-minus:hover::after {\n  border-top-color: #ffffff !important;\n}\n.action-bar .input-item .step-change .step-minus::after {\n  content: "";\n  width: 0;\n  height: 0;\n  top: 3px;\n  left: 5px;\n  position: absolute;\n  border-color: rgba(0, 0, 0, 0);\n  border-width: 6px 3px;\n  border-style: solid;\n  border-top-color: #8a8f99;\n}\n.action-bar .record-btn {\n  margin-top: auto;\n  margin-bottom: auto;\n  height: 30px;\n  width: 92px;\n  border-radius: 8px;\n  background-color: #5794ff;\n  display: flex;\n  justify-content: center;\n  margin-left: 10px;\n  margin-right: 10px;\n  cursor: pointer;\n}\n.action-bar .record-btn:hover {\n  opacity: 0.9;\n}\n.action-bar .record-btn .icon {\n  width: 14px;\n  height: 14px;\n  border-radius: 7px;\n  background-color: white;\n  margin-top: auto;\n  margin-bottom: auto;\n  position: relative;\n}\n.action-bar .record-btn .icon::after {\n  content: "";\n  width: 0;\n  height: 0;\n  top: 5px;\n  left: 5px;\n  position: absolute;\n  border-color: #5794ff;\n  border-width: 2px;\n  border-radius: 2px;\n  border-style: solid;\n}\n.action-bar .record-btn .tip {\n  line-height: 30px;\n  font-size: 16px;\n  font-weight: bold;\n  color: white;\n  margin-left: 6px;\n  margin-top: auto;\n  margin-bottom: auto;\n}\n.action-bar .cancel-btn {\n  margin-top: auto;\n  margin-bottom: auto;\n  width: 30px;\n  height: 30px;\n  margin-left: 10px;\n  cursor: pointer;\n  position: relative;\n  border-radius: 8px;\n}\n.action-bar .cancel-btn:hover {\n  background-color: #0000001a;\n}\n.action-bar .cancel-btn::after,\n.action-bar .cancel-btn::before {\n  content: "";\n  width: 2px;\n  height: 15px;\n  top: 8px;\n  left: 14px;\n  border-radius: 2px;\n  position: absolute;\n  background-color: white;\n}\n.action-bar .cancel-btn::before {\n  transform: rotate(45deg);\n}\n.action-bar .cancel-btn::after {\n  transform: rotate(-45deg);\n}\n';const P='<div id="select_wrapper"><div id="select_top"></div><div id="select_right"></div><div id="select_bottom"></div><div id="select_left"></div><div id="select_center" class="drsElement drsMoveHandle"></div><div class="action-bar" id="action-bar"><span>Size:</span><div class="size-container"><div class="input-item width"><div class="icon"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_width.svg"></div><input type="number" step="10" id="width_input"><div class="step-change"><div class="step-plus step" data-type="add_width"></div><div class="step-minus step" data-type="minus_width"></div></div></div><div class="input-item height"><div class="icon"><img class="svg-icon" src="chrome-extension://__MSG_@@extension_id__/images/svgIcons/ic_height.svg"></div><input type="number" step="10" id="height_input"><div class="step-change"><div class="step-plus step" data-type="add_height"></div><div class="step-minus step" data-type="minus_height"></div></div></div></div><div class="record-btn" id="record"><div class="icon"></div><div class="tip">Record</div></div><div class="cancel-btn"></div></div></div>';var O,A,I,N,G,F,U,q,j,X;function B(n){if(27===n.keyCode)V()}function Z(n,e){on(G,F,n,e),nn(G,F,n,e),K(G,F,n,e)}function V(){A&&A.parentNode&&(A.parentNode.removeChild(A),A=null),document.body.removeEventListener("keydown",B,!1),O&&O.parentNode&&(O.parentNode.removeChild(O),O=null),I&&(I=null),n({action:"cancelSelectRecord"})}function J(){N.css("display","flex")}function Q(){N.hide()}function K(n,e,t,i){var o=t>=0?n:n+t,r=i>=0?e:e+i,a=A.querySelector("#action-bar"),s=r+Math.abs(i)+10;s>window.innerHeight-60&&(s=r-60)<0&&(s=window.innerHeight-60),an(a,"top",s+"px"),an(a,"left",o+"px"),a.querySelector("#width_input").value=Math.abs(t),a.querySelector("#height_input").value=Math.abs(i)}function nn(n,e,t,i){var o=t>=0?n:n+t,r=i>=0?e:e+i,a=A.querySelector("#select_center");an(a,"width",Math.abs(t)+"px"),an(a,"height",Math.abs(i)+"px"),an(a,"top",r+"px"),an(a,"left",o+"px"),F=r,G=o,U=Math.abs(t),q=Math.abs(i)}function en(n){if(0==n.button){var e,t,i=function(n){an(A,"background-color","rgba(0,0,0,0)"),t=n.x-r,e=n.y-a,on(r,a,t,e),nn(r,a,t,e),K(r,a,t,e)},o=function(n){if((n.x-r==0||n.y-a==0)&&0==A.querySelector("#select_center").clientWidth){an(A,"background-color","rgba(0,0,0,0)");var e=r-100;e<=0?e=0:e>window.innerWidth-200&&(e=window.innerWidth-200);var t=a-100;t<=0?t=0:t>window.innerHeight-200&&(t=window.innerHeight-200),on(e,t,200,200),nn(e,t,200,200),K(e,t,200,200)}var s;A.removeEventListener("mousedown",en,!1),A.removeEventListener("mousemove",i,!1),A.removeEventListener("mouseup",o,!1),J(),s=A.querySelector("#select_center"),(I=new DragResize("dragresize",{maxLeft:X,maxTop:j,minWidth:50,minHeight:50})).isElement=function(n){if(n.className&&n.className.indexOf("drsElement")>-1)return!0},I.isHandle=function(n){if(n.className&&n.className.indexOf("drsMoveHandle")>-1)return!0},I.ondragstart=function(){Q()},I.ondragmove=function(n,e){var t=I.elmX,i=I.elmY,o=I.elmW,r=I.elmH;on(t,i,o,r),nn(t,i,o,r),K(t,i,o,r)},I.ondragend=function(){J()},I.apply(A),I.select(s)},r=n.x,a=n.y;Q(),A.addEventListener("mousemove",i,!1),A.addEventListener("mouseup",o,!1)}}function tn(n){an(n,"display","none");var e=window.innerWidth,t=window.innerHeight;an(n,"display","block"),an(n,"visibility","visible"),n.querySelector("#height_input").max=t,n.querySelector("#width_input").max=e}function on(n,e,t,i){var o=window.innerWidth,r=window.innerHeight,a=t>=0?n+t:n,s=i>=0?e:e+i,c=t>=0?o-n-t:o-n,d=i>=0?e+i:e,l=t>=0?o-n:o-n-t,u=r-d,p=o-l,h=r-s,f=A.querySelector("#select_top"),m=A.querySelector("#select_right"),b=A.querySelector("#select_bottom"),v=A.querySelector("#select_left");an(f,"width",a+"px"),an(f,"height",s+"px"),an(m,"width",c+"px"),an(m,"height",d+"px"),an(m,"left",a+"px"),an(b,"width",l+"px"),an(b,"height",u+"px"),an(b,"top",d+"px"),an(b,"left",p+"px"),an(v,"width",p+"px"),an(v,"height",h+"px"),an(v,"top",s+"px")}function rn(){j=window.innerHeight,X=window.innerWidth}function an(n,e,t){n&&n.style.setProperty(e,t)}function sn(){return window.self!==window.top}function cn(){xn&&(xn.hasClass("paused")||xn.addClass("paused"))}chrome.runtime.onMessage.addListener(function(e,t,r){switch(e.action){case"setup-toolbar":Gn=e.isRecorded;var s=e.crop;if(s){var c=(mn=e.crop).x*window.innerWidth,d=mn.y*window.innerHeight,u=mn.h*window.innerHeight;!function(n,e,t,i){if(!document.querySelector("#aws-record-select")&&(G=n,F=e,U=t,q=i,(O=document.createElement("aws-record-select")).id="aws-record-select",O.style)){var r=O.attachShadow({mode:"open"}),a=document.createElement("style");a.innerHTML=W.replace(/@extension_path\//g,chrome.runtime.getURL("")),r.appendChild(a);var s=$(o(P).replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,chrome.runtime.getURL("")));s.appendTo(r),A=r.querySelector("#select_wrapper"),N=s.find("#action-bar"),rn(),tn(A),A.style.backgroundColor="transparent",A.style.pointerEvents="none",document.body.appendChild(O),on(G,F,U,q),nn(G,F,U,q);var c=A.querySelector("#select_center");an(c,"outline","none"),an(c,"cursor","default")}}(c,d,s.w*window.innerWidth,u)}e.audStatus&&(Fn=e.audStatus),e.camStatus&&(Un=e.camStatus),e.recordTime&&(Nn=e.recordTime),function(n){if(sn())return;if(document.querySelector("#aws-record-toolbar"))return void(Gn&&re());if((vn=document.createElement("aws-record-toolbar")).id="aws-record-toolbar",!vn.style)return;var e=vn.attachShadow({mode:"open"}),t=document.createElement("style");t.innerHTML=H.replace(/@extension_path\//g,chrome.runtime.getURL("")),e.appendChild(t),(gn=$(o(R).replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,chrome.runtime.getURL("")))).appendTo(e);var i=null,r=null;xn=gn.find(".toolbar"),Gn&&re();(function(){if(mn&&xn){var n=mn.x*window.innerWidth,e=mn.y*window.innerHeight,t=e+mn.h*window.innerHeight-window.innerHeight+72;t>0&&(t=e-window.innerHeight,Math.abs(t)>window.innerHeight-62&&(t=0)),xn.css("left",Math.abs(n)+"px"),xn.css("bottom",Math.abs(t)+"px")}})(),n&&cn();xn.find(".toolbar-item").on("mouseenter",function(){i&&clearTimeout(i);var n=$(this).attr("data-mode");n===wn&&(r=setTimeout(function(){xn.find(".sub-menu").hide(),xn.find(".sub-menu[data-menu="+n+"]").css("display","flex"),xn.addClass("sub-menu")},300))}).on("mouseleave",function(){r&&clearTimeout(r)}).on("click",function(){var n=$(this).attr("data-mode");wn===n&&xn.hasClass("sub-menu")?(xn.find(".sub-menu").hide(),xn.removeClass("sub-menu")):function(n,e){xn.find(".toolbar-item").removeClass("active"),xn.find(".toolbar-item[data-mode="+n+"]").addClass("active"),xn.find(".sub-menu").hide(),e||(xn.find(".sub-menu[data-menu="+n+"]").css("display","flex"),xn.addClass("sub-menu"));if(wn=n,Cn.removeClass("bg"),gn.css("background","transparent"),"draw"===n||"remove"===n){_n||function(n,e,t){var i=!1,o=!1,r=!1,a=!1,s=n.getContext("2d"),c=e.getContext("2d"),d=t.getContext("2d");pe(n,s),pe(e,c),pe(t,d),n.addEventListener("mousedown",function(c){if(c.preventDefault(),1===c.which){if($n)return r=!0,Sn={x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)},void Mn.editStart();if(kn)"remove"===wn?(be(kn),he(e),fe(t),s.clearRect(0,0,n.width,n.height)):(o=!0,Mn&&(Mn.selected=!1,s.clearRect(0,0,n.width,n.height)),kn.selected=!0,Mn=kn,kn.drawSelect(s),Sn={x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)},Mn.editStart(),he(e));else{if(Mn&&(Mn.selected=!1,Mn=null,he(e),fe(t),s.clearRect(0,0,n.width,n.height)),"remove"===wn)return void(a=!0);i=!0,"freeline"===Dn?En=new xe(s,10,Hn):"rect"===Dn?(En=new we(s,12,Hn)).points.push({x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)}):"arrow"===Dn?(En=new ye(s,8,Hn)).points.push({x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)}):En=new _e(s,16),this.color="#f00"}}},0),n.addEventListener("mouseleave",function(o){i&&(i=!1,En.points[1]&&(("freeline"===En.type||Math.abs(En.points[1].x-En.points[0].x)>100||Math.abs(En.points[1].y-En.points[0].y)>100)&&zn.push(En),En=null),he(e),fe(t),s.clearRect(0,0,n.width,n.height))}),n.addEventListener("mouseup",function(c){i&&(i=!1,En.points[1]&&(("freeline"===En.type||Math.abs(En.points[1].x-En.points[0].x)>100||Math.abs(En.points[1].y-En.points[0].y)>100)&&zn.push(En),En=null),he(e),fe(t),s.clearRect(0,0,n.width,n.height),l({action:"draw-annotation"})),o&&(o=!1,fe(t)),r&&(r=!1,fe(t)),a&&(a=!1),Rn=null},0),n.addEventListener("mousemove",function(c){if(c.preventDefault(),o&&null!==kn){var l={x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)};return Mn.points.forEach(function(n,e){n.x=Mn.pre_points[e].x+(l.x-Sn.x),n.y=Mn.pre_points[e].y+(l.y-Sn.y)}),s.clearRect(0,0,n.width,n.height),Mn.calcRegionPoints&&Mn.calcRegionPoints(),void Mn.drawSelect(s)}if(r&&null!==$n&&(Mn.resize({x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)},$n.index),s.clearRect(0,0,n.width,n.height),Mn.drawSelect(s)),i){if("rect"!==Dn&&"arrow"!==Dn){var u=En.points,p=En.points.length;0!==p&&u[p-1].x===Math.floor(c.offsetX*window.devicePixelRatio)&&u[p-1].y===Math.floor(c.offsetY*window.devicePixelRatio)||En.points.push({x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)})}else En.points[1]={x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)},En.calcRegionPoints();s.clearRect(0,0,n.width,n.height),En.draw(s)}if(!i&&!o&&!r){var h=function(n){if(Mn)for(var e=0;e<Mn.edit_regions.length;e++)if(Mn.edit_regions[e].isPointIn(n))return Mn.edit_regions[e];return null}({x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)});if(h)$n=h,n.style.cursor="pointer";else{$n=null,n.style.cursor="";var f={x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)},m=$e({x:Math.floor(c.offsetX*window.devicePixelRatio),y:Math.floor(c.offsetY*window.devicePixelRatio)},d);if(!m&&"remove"===wn&&a&&Rn)for(var b=0;b<10&&!(m=$e({x:Math.abs(f.x-Rn.x)/10*b+f.x,y:Math.abs(f.y-Rn.y)/10*b+f.y},d));b++);if(Rn=f,m){if("remove"===wn){if(a)return be(m),he(e),fe(t),void s.clearRect(0,0,n.width,n.height);$(n).addClass("do-remove")}kn=m,"draw"===wn&&(n.style.cursor="move")}else kn=null,n.style.cursor="",$(n).removeClass("do-remove")}}},0);var u=null,p=!1;n.addEventListener("wheel",function(n){!1===p&&(u&&(clearTimeout(u),u=null),p=!0,$(Tn).css("pointer-events","none"),$(e).css("pointer-events","none"),u=setTimeout(function(){p=!1,$(Tn).css("pointer-events","all"),$(e).css("pointer-events","all")},250))}),n.addEventListener("scroll",function(){Mn&&(Mn.selected=!1,Mn=null,he(e),fe(t),s.clearRect(0,0,n.width,n.height))}),window.addEventListener("scroll",function(n){he(e),fe(t)}),window.addEventListener("resize",function(){pe(n,s),pe(e,c),he(e),fe(t)}),_n=!0}(Tn,Yn,Ln),"draw"===n?Kn(Dn):$(Tn).removeClass("freeline rect arrow remove").addClass("remove");var t="all";$(Tn).css("pointer-events",t),$(Yn).css("pointer-events",t)}else if("mouse"===n){0;t="none";$(Tn).css("pointer-events",t),$(Yn).css("pointer-events",t),Qn(yn)}}(n)}),Zn(),Nn&&Nn.length>0&&"0:00"!==Nn&&Vn(Nn);xn.find(".annotation-tools").on("mouseleave",function(){i=setTimeout(function(){xn.find(".sub-menu").hide(),xn.removeClass("sub-menu")},2e3)}).on("mouseenter",function(){i&&clearTimeout(i)}),xn.find(".sub-menu").on("mouseenter",function(){i&&clearTimeout(i)}).on("mouseleave",function(){i=setTimeout(function(){xn.find(".sub-menu").hide(),xn.removeClass("sub-menu")},2e3)}),xn.find(".bar-area").on("mouseenter",function(){xn.find(".close-action").show()}).on("mouseleave",function(){xn.find(".close-action").hide()}),xn.find(".close-action").on("click",function(){l({action:"hideAnnBar"}),ze()}),xn.find(".collapse-btn").on("click",function(){$(this).hide(),xn.find(".expand-btn").show(),xn.find(".sub-menu").hide(),xn.removeClass("sub-menu"),xn.addClass("collapsed"),An=!0,l({action:"collapse"})}),xn.find(".expand-btn").on("click",function(){$(this).hide(),xn.find(".collapse-btn").show(),xn.find(".sub-menu").hide(),xn.removeClass("sub-menu"),xn.removeClass("collapsed"),An=!1,l({action:"expand"})}),xn.find("#time").on("mousedown",ne),Cn=gn.find(".mouse-block"),Tn=gn.find("#draw-canvas")[0],Yn=gn.find("#layer-canvas")[0];(Ln=document.createElement("canvas")).getContext("2d");xn.find(".sub-menu-item").on("click",function(n){var e=$(this).attr("data-type");"remove"!==$(this).parents(".sub-menu").attr("data-menu")?"mouse"===$(this).parents(".sub-menu").attr("data-menu")?Qn(e,n):Kn(e):"remove-all"===e&&(zn=[],he(Yn),fe(Ln),Tn.getContext("2d").clearRect(0,0,Tn.width,Tn.height))}),xn.find(".color-item").on("click",function(){!function(n){xn.find(".color-item").removeClass("active"),xn.find(".color-item[data-color="+n+"]").addClass("active"),Hn=bn[n]}($(this).attr("data-color"))}),xn.find(".toolbar-action-btn").on("click",function(){switch($(this).attr("data-action")){case"pause":l({action:"record/pause"}),$(this).hide(),xn.find(".more-action").css("display","flex");break;case"resume":l({action:"record/resume"}),xn.find(".more-action").hide(),xn.find(".toolbar-action-btn.pause").show();break;case"discard":break;case"stop":l({action:"record/stop",from:"control bar click"})}}),xn.find(".action-item").on("click",function(){switch($(this).attr("data-action")){case"pause":l({action:"record/pause"});break;case"resume":l({action:"record/resume"});break;case"discard-view":xn.addClass("discard");break;case"cancel":xn.removeClass("discard");break;case"discard":l({action:"record/discard"});break;case"stop":An||l({action:"record/stop"})}}),xn.find(".device-item").on("click",function(){switch($(this).attr("data-action")){case"audio":l({action:"record/toggleMic"});break;case"camera":l({action:"init-camera"}),xn.find(".device-item.nocam").addClass("loading")}}),xn.find(".device-soure").find("select").on("change",function(){var n=$(this).attr("data-source"),e=$(this).val();"mic"===n?l({action:"record/changeMic",deviceId:e}):"cam"===n&&l({action:"record/changeCamera",deviceId:e})}),function(){var n,e=document.getElementsByTagName("iframe");Xn=hn=0,fn=void 0;for(var t=0;t<e.length-1;t++){var i=e[t],o=window.getComputedStyle(i);"hidden"!==o.getPropertyValue("visibility")&&"none"!==o.getPropertyValue("display")&&i.offsetWidth>.7*window.innerWidth&&i.offsetHeight>.7*window.innerHeight&&i.offsetTop<window.innerHeight/3&&(n?i.offsetWidth>n.offsetWidth&&i.offsetHeight>n.offsetWidth&&(n=i):n=i)}if(n){try{fn=n.contentDocument||n.contentWindow.document}catch(n){}if(fn){var r=n.getBoundingClientRect();hn=r.top,Xn=r.left,fn.addEventListener("mousemove",ae),fn.addEventListener("mouseenter",se),fn.addEventListener("documentMouseLeave",ce),fn.addEventListener("mousedown",le),fn.addEventListener("mouseup",ue),n.onload=function(){(fn=n.contentDocument||n.contentWindow.document).addEventListener("mousemove",ae),fn.addEventListener("mouseenter",se),fn.addEventListener("documentMouseLeave",ce),fn.addEventListener("mousedown",le),fn.addEventListener("mouseup",ue)}}}$(document).on("mousemove",de).on("mouseenter",se).on("mouseleave",ce).on("mousedown",le).on("mouseup",ue)}(),document.documentElement.appendChild(vn),(Wn.length>0||Pn.length>0)&&(Bn("mic",Wn,On),Bn("cam",Pn,In),!0)}(e.isPaused);break;case"pause":cn();break;case"resume":xn&&xn.removeClass("paused");break;case"record-err":i(e.obj,"error",6e3);break;case"remove-toolbar":ze();break;case"endSelect":V(),mn=null;break;case"check-videos":if(!sn())n({action:"page-video-status",status:a()||function(){if(/meet.google.com/.test(window.location.host))return!0;if(/teams.live.com/.test(window.location.host))return!0;if(/\.zoom\.us$/.test(window.location.host)&&/^\/wc/.test(document.location.pathname))return!0}()});break;case"devices":Wn=e.data.audios,Pn=e.data.cams,On=e.data.defaultMic,In=e.data.defaultCam,Bn("mic",Wn,On),Bn("cam",Pn,In);break;case"defaultDevice":On=e.data.defaultMic,In=e.data.defaultCam,Jn("mic",On),Jn("cam",In);break;case"updateRecordTime":Nn=e.data,Vn(e.data);break;case"updateRecordUI":var p=e.data;p&&(Fn=p.audStatus,Un=p.camStatus,Zn());break;case"done_start":re();break;case"prepareCustom":!function(){if(!document.querySelector("#aws-record-select")&&((O=document.createElement("aws-record-select")).id="aws-record-select",O.style)){var e=O.attachShadow({mode:"open"}),t=document.createElement("style");t.innerHTML=W.replace(/@extension_path\//g,chrome.runtime.getURL("")),e.appendChild(t);var i=$(o(P).replace(/chrome-extension:\/\/__MSG_@@extension_id__\//g,chrome.runtime.getURL("")));i.appendTo(e),A=e.querySelector("#select_wrapper"),N=i.find("#action-bar"),rn(),tn(A),A.addEventListener("mousedown",en,!1),document.body.appendChild(O),N.find("#width_input").focus(function(n){N.find(".input-item.width").addClass("focus")}),N.find("#width_input").blur(function(n){N.find(".input-item.width").removeClass("focus");var e=N.find("#width_input")[0].value,t=parseInt(e);t&&!isNaN(t)||(t=U),G+t>window.innerWidth-20&&(t=window.innerWidth-20-G),t<50&&(t=50),Z(t,q)}),N.find("#height_input").focus(function(n){N.find(".input-item.height").addClass("focus")}),N.find("#height_input").blur(function(n){N.find(".input-item.height").removeClass("focus");var e=N.find("#height_input")[0].value,t=parseInt(e);t&&!isNaN(t)||(t=q),F+t>window.innerHeight-20&&(t=window.innerHeight-20-F),t<50&&(t=50),Z(U,t)}),N.find("#height_input").keyup(function(n){if(n&&13===n.keyCode){var e=N.find("#height_input")[0].value;N.find("#height_input")[0].blur();var t=parseInt(e);t&&!isNaN(t)||(t=q),t<50&&(t=50),F+t>window.innerHeight-20&&(t=window.innerHeight-20-F),Z(U,t)}}),N.find("#width_input").keyup(function(n){if(n&&13===n.keyCode){var e=N.find("#width_input")[0].value;N.find("#width_input")[0].blur();var t=parseInt(e);t&&!isNaN(t)||(t=U),G+t>window.innerWidth-20&&(t=window.innerWidth-20-G),t<50&&(t=50),Z(t,q)}}),N.find(".step").on("click",function(){var n=$(this).attr("data-type"),e=U,t=q;"add_width"===n?(e++,G+e>window.innerWidth-20&&(e=window.innerWidth-20-G)):"minus_width"===n?--e<=50&&(e=50):"add_height"===n?(t++,F+t>window.innerHeight-20&&(t=window.innerHeight-20-F)):"minus_height"===n&&--t<=50&&(t=50),Z(e,t)}),N.find(".cancel-btn").on("click",function(){V()}),document.body.addEventListener("keydown",B,!1),N.find("#record").on("click",function(){try{I.deselect(e)}catch(n){}I.enabled=!1;var e=A.querySelector("#select_center");an(e,"outline","none"),an(e,"cursor","default"),A.style.pointerEvents="none",n({action:"record/startCustom",data:{x:G/window.innerWidth,y:F/window.innerHeight,w:U/window.innerWidth,h:q/window.innerHeight,ww:window.innerWidth*window.devicePixelRatio,wh:window.innerHeight*window.devicePixelRatio},ratio:window.innerHeight/window.innerWidth}),Q()})}}()}});var dn,ln,un,pn,hn,fn,mn,bn={red:"#f00",blue:"#5B94FF",green:"#47D897"},vn=null,gn=null,xn=null,wn="mouse",yn="default",_n=!1,kn=null,$n=null,Mn=null,Sn={x:0,y:0},Cn=null,zn=[],Dn="freeline",Tn=null,Yn=null,Ln=null,En=null,Hn="#f00",Rn=null,Wn=[],Pn=[],On="",An=!1,In="",Nn="",Gn=!1,Fn=1,Un=1,qn=0,jn=0,Xn=0;function Bn(n,e,t){if(e.length&&xn){var i=xn.find("#"+n+"-soure");e.length<2?i.parent().addClass("hidde-select"):i.children().length<1&&(i.parent().removeClass("hidde-select"),e.forEach(function(n){$("<option value='"+n.deviceId+"'>"+n.label+"</option>").appendTo(i)}),t&&function(n,e){for(var t=0;t<e.length;t++)if(n===e[t].deviceId)return!0;return!1}(t,e)&&i.val(t))}}function Zn(){if(xn){var n=xn.find("#devices");2===Fn?(n.find("#audio").show(),n.find("#mute").hide()):3===Fn?(n.find("#audio").hide(),n.find("#mute").find(".svg-icon").addClass("red"),n.find("#mute").find(".svg-icon").removeClass("white"),n.find("#mute").show()):(n.find("#audio").hide(),n.find("#mute").find(".svg-icon").addClass("white"),n.find("#mute").find(".svg-icon").removeClass("red"),n.find("#mute").show()),xn.find(".device-item.nocam").removeClass("loading"),2===Un?(n.find("#cam").show(),n.find("#noCam").hide()):3==Un?(n.find("#cam").hide(),n.find("#noCam").show(),n.find("#noCam").find(".svg-icon").addClass("red"),n.find("#noCam").find(".svg-icon").removeClass("white")):(n.find("#cam").hide(),n.find("#noCam").show(),n.find("#noCam").find(".svg-icon").addClass("white"),n.find("#noCam").find(".svg-icon").removeClass("red"))}}function Vn(n){Nn=n,xn&&(xn.find("#time").text(Nn),re())}function Jn(n,e){if(xn){var t=xn.find("#"+n+"-soure");e&&t.val(e)}}function Qn(n,e,t){var i,o;(xn.find(".sub-menu-item[data-type="+n+"]").siblings(".sub-menu-item").removeClass("active").end().addClass("active"),null===(i=Cn)||void 0===i||i.removeClass("bg"),gn.css("background","transparent"),yn=n,"background"===n)?null===(o=Cn)||void 0===o||o.addClass("bg"):"focus"===n&&e&&gn.css("background","radial-gradient(circle at "+e.clientX+"px "+e.clientY+"px, transparent 4%, rgba(0, 0, 0,.6) 6%)")}function Kn(n,e){xn.find(".sub-menu-item[data-type="+n+"]").siblings(".sub-menu-item").removeClass("active").end().addClass("active"),Dn=n,$(Tn).removeClass("freeline rect arrow remove").addClass(n)}function ne(n){n.preventDefault(),un=n.pageX,pn=n.pageY,dn=void 0,ln=void 0,document.documentElement.addEventListener("mousemove",ee,!1),document.documentElement.addEventListener("mouseup",oe,!1)}function ee(n){n.preventDefault(),un>=0&&pn>=0&&(dn=parseInt(n.pageX-un)+parseInt(qn),ln=te(ln=parseInt(n.pageY-pn)+parseInt(jn)),dn=ie(dn),xn.css("transform","translate("+dn+"px,"+ln+"px)"))}function te(n){if(isNaN(n))return 0;var e=parseInt(xn.css("bottom")),t=parseInt(xn.css("height"));return n>e?n=e:n<0-window.innerHeight+e+t&&(n=e+t-window.innerHeight),n}function ie(n){if(isNaN(n))return 0;var e=parseInt(xn.css("width")),t=parseInt(xn.css("left"));return t+n+e>window.innerWidth-20&&e<window.innerWidth?n=window.innerWidth-20-e-t:n<=10-t&&(n=10-t),n}function oe(n){n.preventDefault(),un>0&&pn>0&&void 0!==dn&&void 0!==ln&&(jn=te(ln),qn=ie(dn),un=-1,pn=-1,dn=void 0,ln=void 0),document.documentElement.removeEventListener("mousemove",ee,!1),document.documentElement.removeEventListener("mouseup",oe,!1)}function re(){xn&&xn.find("#prepare-view").hide()}function ae(n){de(n,!0,hn,Xn)}function se(){"mouse"===wn&&"background"===yn&&Cn.addClass("bg")}function ce(){var n;null===(n=Cn)||void 0===n||n.removeClass("bg")}function de(n,e,t,i){if("focus"===yn&&"mouse"===wn&&gn.css("background","radial-gradient(circle at "+(n.clientX+(e?i:0))+"px "+(n.clientY+(e?t:0))+"px, transparent 4%, rgba(0, 0, 0,.6) 6%)"),"background"===yn||"click"===yn){var o=n.clientX-24+(e?i:0)+"px",r=n.clientY-24+(e?t:0)+"px";Cn.css("transform","translate3d("+o+","+r+",0)")}}function le(){"click"===yn&&"mouse"===wn&&Cn.addClass("mouse-down")}function ue(){"click"===yn&&"mouse"===wn&&Cn.removeClass("mouse-down")}function pe(n,e){var t=document.documentElement.offsetWidth,i=document.documentElement.clientHeight,o=t,r=i;n.style.width=t+"px",n.style.height=i+"px",n.width=o*window.devicePixelRatio,n.height=r*window.devicePixelRatio,e.lineCap="round"}function he(n){var e=n.getContext("2d");e.clearRect(0,0,n.width,n.height),zn.forEach(function(n){n.selected||n.draw(e)})}function fe(n){var e=n.getContext("2d");e.clearRect(0,0,n.width,n.height),zn.forEach(function(n,t){var i,o,r,a,s=(o=(16711680&(i=t)).toString(16),r=(65280&i).toString(16),a=(255&i).toString(16),"#"+(1===o.length?"0":"")+o+(1===r.length?"0":"")+r+(1===a.length?"0":"")+a);n.draw(e,s)})}function me(n,e){return{x:(n.x+e.x)/2,y:(n.y+e.y)/2}}function be(n){for(var e=0;e<zn.length;e++)zn[e]===n&&zn.splice(e,1)}function ve(n,e){var t=function(n){function e(){}return e.prototype=n,new e}(e.prototype);t.constructor=n,n.prototype=t}function ge(n,e,t){this.penWidth=e,this.color=t,this.points=[],this.pre_points=[],this.ctx=n,this.scrollTop=document.scrollingElement.scrollTop,this.selected=!1}function xe(n,e,t){ge.call(this,n,e),this.edit_regions=[],this.region_points=[],this.type="freeline",this.color=t}function we(n,e,t){ge.call(this,n,e),this.type="rect",this.color=t,this.region_points=[],this.edit_regions=[],this.region_points=Me(4)}function ye(n,e,t){ge.call(this,n,e),this.type="rect",this.color=t,this.region_points=[],this.edit_regions=[],this.region_points=Me(2)}function _e(n,e){ge.call(this,n,e),this.type="eraser"}function ke(n,e,t,i){var o=n.points.map(function(e){return{x:e.x,y:e.y+(n.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}}),r=t||n.color,a=n.penWidth;i||(e.lineWidth=a,e.strokeStyle=r);var s=o.length;if(0!==s&&1!==s){e.beginPath(),"freeline"===n.type?e.globalCompositeOperation="source-over":(e.globalCompositeOperation="destination-out",e.lineWidth=64);var c=null,d=o[0];e.moveTo(d.x,d.y);for(var l=0;l<o.length-1;l++)c=me(o[l],o[l+1]),e.quadraticCurveTo(d.x,d.y,c.x,c.y),d=o[l+1];c=o[o.length-1],e.quadraticCurveTo(d.x,d.y,c.x,c.y),e.stroke(),e.closePath()}}function $e(n,e,t){var i=e.getImageData(n.x,n.y,1,1).data;if(i[3]<10)return null;var o,r=(o=i)[0]<<16|o[1]<<8|o[2];return zn[r]}function Me(n){for(var e=[],t=0;t<n;t++)e.push({x:0,y:0});return e}function Se(n,e){return null!=n?Math.round((Math.max(n,20)+10)/2):8}function Ce(n,e,t,i){this.shape=n,this.center=e,this.disabled=!1,this.radius=t,this.index=i}function ze(){$("#aws-record-toolbar").remove(),$(document).off("mousemove",de).off("mouseenter",se).off("mouseleave",ce).off("mousedown",le).off("mouseup",ue),fn&&(fn.removeEventListener("mousemove",ae),fn.removeEventListener("mouseenter",se),fn.removeEventListener("documentMouseLeave",ce),fn.removeEventListener("mousedown",le),fn.removeEventListener("mouseup",ue)),vn=null,gn=null,xn=null,wn="mouse",yn="default",_n=!1,kn=null,$n=null,Mn=null,Sn={x:0,y:0},Cn=null,zn=[],Dn="freeline",Tn=null,Yn=null,Ln=null,En=null,Hn="#f00",Rn=null,Nn="",qn=0,jn=0}ge.prototype.editStart=function(){this.pre_points=this.points.map(function(n){return{x:n.x,y:n.y}})},ge.prototype.drawSelect=function(n){this.calcRegionPoints&&this.calcRegionPoints(),n.save(),n.strokeStyle="#fff",n.shadowColor="rgba(0, 0, 0, 0.4)",n.shadowOffsetX=2,n.shadowOffsetY=2,n.shadowBlur=4,n.lineWidth=Math.floor(this.penWidth+10),this.draw(n,"#fff",!0),n.restore(),this.draw(n),this.edit_regions&&this.edit_regions.forEach(function(e){return e.draw(n)})},ve(xe,ge),xe.prototype.draw=function(n,e,t){ke(this,n,e,t)},ve(we,ge),we.prototype.draw=function(n,e,t){!function(n,e,t,i){var o=n.points.map(function(e){return{x:e.x,y:e.y+(n.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}}),r=t||n.color,a=i?n.penWidth+6:n.penWidth;e.lineJoin="round",e.globalCompositeOperation="source-over",e.lineWidth=a,e.strokeStyle=r;Math.abs(o[1].x-o[0].x),Math.abs(o[1].y-o[0].y);e.beginPath(),e.moveTo(o[0].x,o[0].y),e.lineTo(o[1].x,o[0].y),e.lineTo(o[1].x,o[1].y),e.lineTo(o[0].x,o[1].y),e.closePath(),e.stroke()}(this,n,e,t)},we.prototype.calcRegionPoints=function(){var n=this,e=this.points,t=this.region_points;t[0]={x:e[0].x,y:e[0].y},t[1]={x:e[1].x,y:e[0].y},t[2]={x:e[0].x,y:e[1].y},t[3]={x:e[1].x,y:e[1].y},this.edit_regions=t.map(function(e,t){return new Ce(n,e,Se(n.penWidth,window.devicePixelRatio),t)})},we.prototype.resize=function(n,e){var t=this.points,i=this.pre_points;switch(e){case 0:t[0].x=i[0].x+(n.x-Sn.x),t[0].y=i[0].y+(n.y-Sn.y);break;case 1:t[1].x=i[1].x+(n.x-Sn.x),t[0].y=i[0].y+(n.y-Sn.y);break;case 2:t[0].x=i[0].x+(n.x-Sn.x),t[1].y=i[1].y+(n.y-Sn.y);break;case 3:t[1].x=i[1].x+(n.x-Sn.x),t[1].y=i[1].y+(n.y-Sn.y)}this.calcRegionPoints()},ve(ye,ge),ye.prototype.draw=function(n,e,t){!function(n,e,t,i){var o=n.points.map(function(e){return{x:e.x,y:e.y+(n.scrollTop-document.scrollingElement.scrollTop)*window.devicePixelRatio}}),r=function(n,e,t,i,o){function r(n,e,t,i,o){var r=[0,0],a=n*Math.cos(t)-e*Math.sin(t),s=n*Math.sin(t)+e*Math.cos(t);if(i){var c=Math.sqrt(a*a+s*s);a=a/c*o,s=s/c*o,r[0]=a,r[1]=s}return r}var a=function(n,e,t,i){return Math.sqrt(Math.pow(n-t,2)+Math.pow(e-i,2))}(n,e,t,i),s=o,c=.52*s,d=Math.atan(c/s),l=Math.sqrt(c*c+s*s),u=r(t-n,i-e,d,!0,l),p=r(t-n,i-e,-d,!0,l),h=r(t-n,i-e,d,!0,l+5),f=r(t-n,i-e,-d,!0,l+5),m=Math.floor(t-u[0]),b=Math.floor(i-u[1]),v=Math.floor(t-p[0]),g=Math.floor(i-p[1]),x=m+(v-m)/4,w=b+(g-b)/4,y=m+(v-m)/4*3,_=b+(g-b)/4*3,k=Math.floor(t-h[0]),$=Math.floor(i-h[1]),M=Math.floor(t-f[0]),S=Math.floor(i-f[1]),C=s/a,z=Math.floor(t-(t-n)*C),D=Math.floor(i-(i-e)*C);return{ax:k,ay:$,bx:M,by:S,cx:z,cy:D,dx:t,dy:i,ex:x,ey:w,fx:y,fy:_}}(o[0].x,o[0].y,o[1].x,o[1].y,64),a=t||n.color;var s=i?n.penWidth+10:n.penWidth;e.lineJoin="round",e.globalCompositeOperation="source-over",e.lineWidth=s,e.lineJoin="round",e.strokeStyle=a,e.beginPath(),e.moveTo(o[0].x,o[0].y),e.lineTo(r.ex,r.ey),e.lineTo(r.ax,r.ay),e.lineTo(r.dx,r.dy),e.lineTo(r.bx,r.by),e.lineTo(r.fx,r.fy),e.closePath(),e.stroke(),e.fillStyle=a,e.fill(),e.beginPath(),e.moveTo(r.cx,r.cy),e.lineTo(r.ax,r.ay),e.lineTo(r.dx,r.dy),e.lineTo(r.bx,r.by),e.lineTo(r.cx,r.cy),e.stroke(),e.closePath()}(this,n,e,t)},ye.prototype.calcRegionPoints=function(){var n=this,e=this.points,t=this.region_points;t[0]={x:e[0].x,y:e[0].y},t[1]={x:e[1].x,y:e[1].y},this.edit_regions=t.map(function(e,t){return new Ce(n,e,Se(n.penWidth,window.devicePixelRatio),t)})},ye.prototype.resize=function(n,e){var t=this.points,i=this.pre_points;switch(e){case 0:t[0].x=i[0].x+(n.x-Sn.x),t[0].y=i[0].y+(n.y-Sn.y);break;case 1:t[1].x=i[1].x+(n.x-Sn.x),t[1].y=i[1].y+(n.y-Sn.y)}this.calcRegionPoints()},ve(_e,ge),_e.prototype.draw=function(n){ke(this,n)},Ce.prototype.isPointIn=function(n){return!this.disabled&&(e=this.center,t=n,Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))<=this.getRadius());var e,t},Ce.prototype.getRadius=function(){return this.radius},Ce.prototype.draw=function(n){n.save(),n.strokeStyle="rgba(0,0,0,0.1)",n.lineWidth=1,n.save(),n.shadowColor="rgba(0,0,0,0.25)",n.shadowBlur=4,n.shadowOffsetX=0,n.shadowOffsetY=2,n.beginPath(),n.arc(this.center.x,this.center.y,this.getRadius(),0,2*Math.PI,!1),n.stroke(),n.closePath(),n.fillStyle="#fff",n.fill(),n.restore();var e=this.center.x-this.getRadius()+2,t=this.center.y-this.getRadius()+2,i=n.createLinearGradient(e,t,e,t+2*(this.getRadius()-2));i.addColorStop(0,"#09f"),i.addColorStop(1,"#07f"),n.fillStyle=i,n.beginPath(),n.arc(this.center.x,this.center.y,this.getRadius()-2,0,2*Math.PI,!1),n.closePath(),n.fill(),n.restore()}})()})();