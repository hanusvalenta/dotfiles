import{r as u}from"./index-8b3efc3f.js";import{t as l,U as T,aY as c,s as b,aZ as g}from"./store-f163b43d.js";import{g as w,s as p}from"./options-d8a3c135.js";import{j as s,c as f,I as x,a as m}from"./Icon-f3e43e02.js";import{Z as E,a as v}from"./index-eeca2896.js";import{ay as h,az as R}from"./Button-97d280d1.js";import{S as y}from"./Switch-3bd90944.js";import{T as O,a as j,b as N,c as P}from"./Tooltip-cd1b4e9d.js";var d=(r=>(r.VIEWER_TO_CREATOR="viewer_to_creator",r.FREE_TO_PRO="free_to_pro",r))(d||{});const F={[d.VIEWER_TO_CREATOR]:"show_free_to_pro_feature_gate",[d.FREE_TO_PRO]:"show_pro_features"},k=({location:r,frontendUrl:i,variant:n,additionalParams:t})=>{const e=new URL(`${i}/workspace?${F[n]}=true`);return e.searchParams.set("ext_location",r),t&&Object.entries(t).forEach(([a,o])=>{e.searchParams.set(a,o)}),e.toString()},A=m("bg-transparent select-none inline-flex h-4 w-auto items-center gap-[3px] rounded px-1 bg-gradient-to-r",{variants:{type:{pro:"from-brand-600/10 to-fuchsia-500/10 dark:from-brand-700 dark:to-fuchsia-600",proTrial:"from-brand-600/10 to-fuchsia-500/10 dark:from-brand-700 dark:to-fuchsia-600",proTeam:"from-brand-600/10 to-fuchsia-500/10 dark:from-brand-700 dark:to-fuchsia-600",team:"from-brand-600/10 to-fuchsia-500/10 dark:from-brand-700 dark:to-fuchsia-600",enterprise:"from-blue-100 to-blue-50 dark:from-blue-700 dark:to-blue-500"}}}),C=m("font-sans bg-clip-text text-transparent text-[10px] leading-none tracking-wide font-bold uppercase bg-gradient-to-r",{variants:{type:{pro:"from-brand-600 to-fuchsia-500 dark:from-white dark:to-fuchsia-200",proTrial:"from-brand-600 to-fuchsia-500 dark:from-white dark:to-fuchsia-200",proTeam:"from-brand-600 to-fuchsia-500 dark:from-white dark:to-fuchsia-200",team:"from-brand-600 to-fuchsia-500 dark:from-white dark:to-fuchsia-200",enterprise:"from-blue-600 to-blue-500 dark:from-white dark:to-blue-100"}}}),U=m("size-2",{variants:{type:{pro:"text-fuchsia-500 dark:text-fuchsia-200",proTrial:"text-fuchsia-500 dark:text-fuchsia-200",proTeam:"text-fuchsia-500 dark:text-fuchsia-200",team:"text-fuchsia-500 dark:text-fuchsia-200",enterprise:"text-blue-500 dark:text-blue-200"}}}),_=({className:r,onClick:i,theme:n="light",type:t,isIconHidden:e=!1})=>{const a={pro:{icon:h,label:"Pro"},proTrial:{icon:R,label:"Pro"},proTeam:{icon:h,label:"Pro Team"},team:{icon:h,label:"Team"},enterprise:{icon:E,label:"Ent"}},o=i?"button":"span";return s.jsxs(o,{onClick:i,className:f(A({type:t}),r),"data-theme":n,"data-testid":"brand-badge",children:[s.jsx("span",{className:C({type:t}),children:a[t].label}),!e&&s.jsx(x,{"data-testid":"brand-badge-icon",icon:a[t].icon,className:U({type:t})})]})},I=(r,i=!0)=>{const[n,t]=u.useState(void 0);return u.useEffect(()=>{w().then(e=>{e.recordAudio&&(t(!1),p("recordAudio",!1).then(()=>{chrome.runtime.sendMessage({messageType:"optionsChanged"})}))})},[]),{audioRecordingEnabled:n,toggleAudioRecording:()=>{if(!i){l("show_pro_features_workspace_page",{location:"extension_dropdown",wildCardFeature:"voice_transcription"});const e=k({location:"extension_dropdown",frontendUrl:T.FRONTEND_URL,variant:d.FREE_TO_PRO,additionalParams:{wild_card_feature:"voice_transcription"}});window.open(e);return}t(e=>{const a=!e,o=a?c.ON:c.OFF;return l("toggle_voice_transcription",{voiceTranscriptionEnabed:o,location:r}),b.dispatch(g(a)),p("recordAudio",a).then(()=>{chrome.runtime.sendMessage({messageType:"optionsChanged"})}),a})},setAudioRecordingMode:e=>{t(a=>{if(a===e)return a;const o=e?c.ON:c.OFF;return l("toggle_voice_transcription",{voiceTranscriptionEnabed:o,location:r}),b.dispatch(g(e)),p("recordAudio",e).then(()=>{chrome.runtime.sendMessage({messageType:"optionsChanged"})}),e})}}},S=({enabled:r,onToggle:i,showBrandBadge:n=!1,theme:t="light",className:e,disabled:a=!1})=>s.jsx(O,{children:s.jsxs(j,{children:[s.jsx(N,{children:s.jsxs("div",{onClick:o=>{o.stopPropagation(),i&&i(!r)},onKeyDown:o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),i&&i(!r))},role:"button",tabIndex:0,className:f("border-1 flex items-center gap-1.5 self-stretch rounded-lg border border-slate-200 bg-white p-3 text-slate-500 cursor-pointer",e),children:[s.jsx(x,{height:16,width:16,icon:v,className:"text-base text-slate-500"}),s.jsx(y,{theme:t,checked:r,disabled:a,label:n?s.jsxs("div",{className:"flex items-center gap-1",children:["Voice Transcription ",s.jsx(_,{type:"pro",theme:"dark"})]}):"Voice Transcription",className:f("align-center flex flex-1 flex-shrink-0 basis-0 justify-between text-slate-800",e),id:"capturewithaudio"})]})}),s.jsx(P,{side:"top",variant:"compact",children:a?"Upgrade to pro to enable this feature":"Speak to add context as you capture"})]})});export{S as A,_ as B,d as F,k as g,I as u};
