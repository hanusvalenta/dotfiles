import{j as u,c as q,a as J}from"./Icon-f3e43e02.js";import{r as a}from"./index-8b3efc3f.js";import{c as Q,u as H,P as U,a as w,b as A,o as W,l as Z,f as ee}from"./index-3744168d.js";import{D as te,P as ne}from"./index-0b89f2da.js";import{c as B,A as re,C as oe,a as ae,R as ie}from"./index-6034fac0.js";import{R as se}from"./index-025f2019.js";var[k,Ke]=Q("Tooltip",[B]),D=B(),F="TooltipProvider",le=700,P="tooltip.open",[ce,L]=k(F),z=e=>{const{__scopeTooltip:n,delayDuration:t=le,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,l=a.useRef(!0),x=a.useRef(!1),i=a.useRef(0);return a.useEffect(()=>{const p=i.current;return()=>window.clearTimeout(p)},[]),u.jsx(ce,{scope:n,isOpenDelayedRef:l,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(i.current),l.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:x,onPointerInTransitChange:a.useCallback(p=>{x.current=p},[]),disableHoverableContent:o,children:s})};z.displayName=F;var j="Tooltip",[ue,_]=k(j),S=e=>{const{__scopeTooltip:n,children:t,open:r,defaultOpen:o,onOpenChange:s,disableHoverableContent:l,delayDuration:x}=e,i=L(j,e.__scopeTooltip),p=D(n),[c,f]=a.useState(null),h=Z(),d=a.useRef(0),m=l??i.disableHoverableContent,v=x??i.delayDuration,g=a.useRef(!1),[b,y]=ee({prop:r,defaultProp:o??!1,onChange:I=>{I?(i.onOpen(),document.dispatchEvent(new CustomEvent(P))):i.onClose(),s==null||s(I)},caller:j}),T=a.useMemo(()=>b?g.current?"delayed-open":"instant-open":"closed",[b]),E=a.useCallback(()=>{window.clearTimeout(d.current),d.current=0,g.current=!1,y(!0)},[y]),R=a.useCallback(()=>{window.clearTimeout(d.current),d.current=0,y(!1)},[y]),N=a.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{g.current=!0,y(!0),d.current=0},v)},[v,y]);return a.useEffect(()=>()=>{d.current&&(window.clearTimeout(d.current),d.current=0)},[]),u.jsx(ie,{...p,children:u.jsx(ue,{scope:n,contentId:h,open:b,stateAttribute:T,trigger:c,onTriggerChange:f,onTriggerEnter:a.useCallback(()=>{i.isOpenDelayedRef.current?N():E()},[i.isOpenDelayedRef,N,E]),onTriggerLeave:a.useCallback(()=>{m?R():(window.clearTimeout(d.current),d.current=0)},[R,m]),onOpen:E,onClose:R,disableHoverableContent:m,children:t})})};S.displayName=j;var O="TooltipTrigger",K=a.forwardRef((e,n)=>{const{__scopeTooltip:t,...r}=e,o=_(O,t),s=L(O,t),l=D(t),x=a.useRef(null),i=H(n,x,o.onTriggerChange),p=a.useRef(!1),c=a.useRef(!1),f=a.useCallback(()=>p.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(re,{asChild:!0,...l,children:u.jsx(U.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:i,onPointerMove:w(e.onPointerMove,h=>{h.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:w(e.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:w(e.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:w(e.onFocus,()=>{p.current||o.onOpen()}),onBlur:w(e.onBlur,o.onClose),onClick:w(e.onClick,o.onClose)})})});K.displayName=O;var M="TooltipPortal",[de,pe]=k(M,{forceMount:void 0}),V=e=>{const{__scopeTooltip:n,forceMount:t,children:r,container:o}=e,s=_(M,n);return u.jsx(de,{scope:n,forceMount:t,children:u.jsx(A,{present:t||s.open,children:u.jsx(ne,{asChild:!0,container:o,children:r})})})};V.displayName=M;var C="TooltipContent",X=a.forwardRef((e,n)=>{const t=pe(C,e.__scopeTooltip),{forceMount:r=t.forceMount,side:o="top",...s}=e,l=_(C,e.__scopeTooltip);return u.jsx(A,{present:r||l.open,children:l.disableHoverableContent?u.jsx(Y,{side:o,...s,ref:n}):u.jsx(fe,{side:o,...s,ref:n})})}),fe=a.forwardRef((e,n)=>{const t=_(C,e.__scopeTooltip),r=L(C,e.__scopeTooltip),o=a.useRef(null),s=H(n,o),[l,x]=a.useState(null),{trigger:i,onClose:p}=t,c=o.current,{onPointerInTransitChange:f}=r,h=a.useCallback(()=>{x(null),f(!1)},[f]),d=a.useCallback((m,v)=>{const g=m.currentTarget,b={x:m.clientX,y:m.clientY},y=ge(b,g.getBoundingClientRect()),T=ve(b,y),E=ye(v.getBoundingClientRect()),R=we([...T,...E]);x(R),f(!0)},[f]);return a.useEffect(()=>()=>h(),[h]),a.useEffect(()=>{if(i&&c){const m=g=>d(g,c),v=g=>d(g,i);return i.addEventListener("pointerleave",m),c.addEventListener("pointerleave",v),()=>{i.removeEventListener("pointerleave",m),c.removeEventListener("pointerleave",v)}}},[i,c,d,h]),a.useEffect(()=>{if(l){const m=v=>{const g=v.target,b={x:v.clientX,y:v.clientY},y=(i==null?void 0:i.contains(g))||(c==null?void 0:c.contains(g)),T=!be(b,l);y?h():T&&(h(),p())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[i,c,l,p,h]),u.jsx(Y,{...e,ref:s})}),[xe,he]=k(j,{isInside:!1}),me=W("TooltipContent"),Y=a.forwardRef((e,n)=>{const{__scopeTooltip:t,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:l,...x}=e,i=_(C,t),p=D(t),{onClose:c}=i;return a.useEffect(()=>(document.addEventListener(P,c),()=>document.removeEventListener(P,c)),[c]),a.useEffect(()=>{if(i.trigger){const f=h=>{var d;(d=h.target)!=null&&d.contains(i.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[i.trigger,c]),u.jsx(te,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:u.jsxs(oe,{"data-state":i.stateAttribute,...p,...x,ref:n,style:{...x.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(me,{children:r}),u.jsx(xe,{scope:t,isInside:!0,children:u.jsx(se,{id:i.contentId,role:"tooltip",children:o||r})})]})})});X.displayName=C;var G="TooltipArrow",$=a.forwardRef((e,n)=>{const{__scopeTooltip:t,...r}=e,o=D(t);return he(G,t).isInside?null:u.jsx(ae,{...o,...r,ref:n})});$.displayName=G;function ge(e,n){const t=Math.abs(n.top-e.y),r=Math.abs(n.bottom-e.y),o=Math.abs(n.right-e.x),s=Math.abs(n.left-e.x);switch(Math.min(t,r,o,s)){case s:return"left";case o:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ve(e,n,t=5){const r=[];switch(n){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function ye(e){const{top:n,right:t,bottom:r,left:o}=e;return[{x:o,y:n},{x:t,y:n},{x:t,y:r},{x:o,y:r}]}function be(e,n){const{x:t,y:r}=e;let o=!1;for(let s=0,l=n.length-1;s<n.length;l=s++){const x=n[s],i=n[l],p=x.x,c=x.y,f=i.x,h=i.y;c>r!=h>r&&t<(f-p)*(r-c)/(h-c)+p&&(o=!o)}return o}function we(e){const n=e.slice();return n.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Ce(n)}function Ce(e){if(e.length<=1)return e.slice();const n=[];for(let r=0;r<e.length;r++){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(o.y-l.y)>=(s.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}n.pop();const t=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(o.y-l.y)>=(s.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}return t.pop(),n.length===1&&t.length===1&&n[0].x===t[0].x&&n[0].y===t[0].y?n:n.concat(t)}var Te=z,Ee=S,Re=K,je=V,_e=X,ke=$;const De=Te,Pe=e=>u.jsx(Ee,{delayDuration:100,...e}),Le=({asChild:e=!0,...n})=>u.jsx(Re,{asChild:e,...n}),Oe=J("font-sans animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden bg-slate-800 dark:ring-1 dark:ring-slate-700/80 text-slate-100 flex items-center",{variants:{variant:{default:"min-h-9 px-3 py-2 rounded-lg text-sm font-medium",compact:"text-xs px-2 py-1 rounded"}},defaultVariants:{variant:"default"}}),Me=a.forwardRef(({className:e,sideOffset:n=10,variant:t="default",...r},o)=>u.jsx(_e,{ref:o,sideOffset:n,className:q(Oe({variant:t}),e),...r})),Ne=ke,Ie=je;export{De as T,Pe as a,Le as b,Me as c,Ne as d,Ie as e};
