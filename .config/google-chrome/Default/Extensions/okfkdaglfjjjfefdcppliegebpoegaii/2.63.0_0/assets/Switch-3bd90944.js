import{j as t,c as q}from"./Icon-f3e43e02.js";import{r as d}from"./index-8b3efc3f.js";import{c as I,u as y,f as T,P as g,a as F,d as L,e as O,L as $}from"./index-3744168d.js";var k="Switch",[B,K]=I(k),[H,M]=B(k),j=d.forwardRef((s,c)=>{const{__scopeSwitch:e,name:o,checked:r,defaultChecked:i,required:u,disabled:l,value:h="on",onCheckedChange:b,form:a,...p}=s,[n,f]=d.useState(null),_=y(c,x=>f(x)),v=d.useRef(!1),w=n?a||!!n.closest("form"):!0,[m,E]=T({prop:r,defaultProp:i??!1,onChange:b,caller:k});return t.jsxs(H,{scope:e,checked:m,disabled:l,children:[t.jsx(g.button,{type:"button",role:"switch","aria-checked":m,"aria-required":u,"data-state":R(m),"data-disabled":l?"":void 0,disabled:l,value:h,...p,ref:_,onClick:F(s.onClick,x=>{E(P=>!P),w&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),w&&t.jsx(C,{control:n,bubbles:!v.current,name:o,value:h,checked:m,required:u,disabled:l,form:a,style:{transform:"translateX(-100%)"}})]})});j.displayName=k;var N="SwitchThumb",S=d.forwardRef((s,c)=>{const{__scopeSwitch:e,...o}=s,r=M(N,e);return t.jsx(g.span,{"data-state":R(r.checked),"data-disabled":r.disabled?"":void 0,...o,ref:c})});S.displayName=N;var z="SwitchBubbleInput",C=d.forwardRef(({__scopeSwitch:s,control:c,checked:e,bubbles:o=!0,...r},i)=>{const u=d.useRef(null),l=y(u,i),h=L(e),b=O(c);return d.useEffect(()=>{const a=u.current;if(!a)return;const p=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(p,"checked").set;if(h!==e&&n){const f=new Event("click",{bubbles:o});n.call(a,e),a.dispatchEvent(f)}},[h,e,o]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...r,tabIndex:-1,ref:l,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});C.displayName=z;function R(s){return s?"checked":"unchecked"}var A=j,D=S;const G=d.forwardRef(({theme:s="light",id:c,label:e,disabled:o,name:r,helpText:i,className:u,...l},h)=>{const b=d.useId(),a=c??b,p=e?`${a}-label`:void 0,n=i?`${a}-help`:void 0,f=q("flex items-center justify-between font-sans text-sm font-medium flex-row-reverse",u);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:f,"data-theme":s,children:[t.jsx(A,{className:"relative h-4 w-8 shrink-0 cursor-pointer select-none rounded-full shadow-inner transition-colors data-[state=checked]:bg-green-400 data-[disabled]:opacity-50 dark:data-[disabled]:opacity-30 data-[disabled]:cursor-not-allowed data-[state=unchecked]:bg-slate-300/40 dark:data-[state=unchecked]:bg-slate-300/25 focus-visible:outline-[1.5px] focus-visible:outline-brand-500 outline-offset-4",name:r,"aria-labelledby":p||void 0,"aria-describedby":n||void 0,id:a,disabled:o,...l,ref:h,children:t.jsx(D,{className:"pointer-events-none absolute -left-px -top-px block h-[18px] w-[18px] rounded-full bg-white outline outline-1 outline-slate-500/20 dark:outline-slate-900/20 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"})}),e&&t.jsx($,{id:p,htmlFor:a,className:"pr-2",children:e})]}),i&&t.jsx("p",{id:n,className:"mt-1 pr-9 text-sm font-normal leading-5 text-slate-500",children:i})]})});export{G as S};
