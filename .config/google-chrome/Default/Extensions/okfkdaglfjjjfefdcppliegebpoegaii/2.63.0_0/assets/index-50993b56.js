import{r as s}from"./index-8b3efc3f.js";import{c as O,u as R,P as j,a as I,b as T,d as H,e as X,f as z}from"./index-3744168d.js";import{j as u}from"./Icon-f3e43e02.js";var g="Checkbox",[A,W]=O(g),[G,w]=A(g);function J(r){const{__scopeCheckbox:c,checked:a,children:l,defaultChecked:o,disabled:e,form:f,name:h,onCheckedChange:d,required:k,value:m="on",internal_do_not_use_render:i}=r,[p,v]=z({prop:a,defaultProp:o??!1,onChange:d,caller:g}),[C,x]=s.useState(null),[_,t]=s.useState(null),n=s.useRef(!1),E=C?!!f||!!C.closest("form"):!0,y={checked:p,disabled:e,setChecked:v,control:C,setControl:x,name:h,form:f,value:m,hasConsumerStoppedPropagationRef:n,required:k,defaultChecked:b(o)?!1:o,isFormControl:E,bubbleInput:_,setBubbleInput:t};return u.jsx(G,{scope:c,...y,children:Q(i)?i(y):l})}var q="CheckboxTrigger",P=s.forwardRef(({__scopeCheckbox:r,onKeyDown:c,onClick:a,...l},o)=>{const{control:e,value:f,disabled:h,checked:d,required:k,setControl:m,setChecked:i,hasConsumerStoppedPropagationRef:p,isFormControl:v,bubbleInput:C}=w(q,r),x=R(o,m),_=s.useRef(d);return s.useEffect(()=>{const t=e==null?void 0:e.form;if(t){const n=()=>i(_.current);return t.addEventListener("reset",n),()=>t.removeEventListener("reset",n)}},[e,i]),u.jsx(j.button,{type:"button",role:"checkbox","aria-checked":b(d)?"mixed":d,"aria-required":k,"data-state":L(d),"data-disabled":h?"":void 0,disabled:h,value:f,...l,ref:x,onKeyDown:I(c,t=>{t.key==="Enter"&&t.preventDefault()}),onClick:I(a,t=>{i(n=>b(n)?!0:!n),C&&v&&(p.current=t.isPropagationStopped(),p.current||t.stopPropagation())})})});P.displayName=q;var S=s.forwardRef((r,c)=>{const{__scopeCheckbox:a,name:l,checked:o,defaultChecked:e,required:f,disabled:h,value:d,onCheckedChange:k,form:m,...i}=r;return u.jsx(J,{__scopeCheckbox:a,checked:o,defaultChecked:e,disabled:h,required:f,onCheckedChange:k,name:l,form:m,value:d,internal_do_not_use_render:({isFormControl:p})=>u.jsxs(u.Fragment,{children:[u.jsx(P,{...i,ref:c,__scopeCheckbox:a}),p&&u.jsx(B,{__scopeCheckbox:a})]})})});S.displayName=g;var D="CheckboxIndicator",F=s.forwardRef((r,c)=>{const{__scopeCheckbox:a,forceMount:l,...o}=r,e=w(D,a);return u.jsx(T,{present:l||b(e.checked)||e.checked===!0,children:u.jsx(j.span,{"data-state":L(e.checked),"data-disabled":e.disabled?"":void 0,...o,ref:c,style:{pointerEvents:"none",...r.style}})})});F.displayName=D;var N="CheckboxBubbleInput",B=s.forwardRef(({__scopeCheckbox:r,...c},a)=>{const{control:l,hasConsumerStoppedPropagationRef:o,checked:e,defaultChecked:f,required:h,disabled:d,name:k,value:m,form:i,bubbleInput:p,setBubbleInput:v}=w(N,r),C=R(a,v),x=H(e),_=X(l);s.useEffect(()=>{const n=p;if(!n)return;const E=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(E,"checked").set,K=!o.current;if(x!==e&&y){const M=new Event("click",{bubbles:K});n.indeterminate=b(e),y.call(n,b(e)?!1:e),n.dispatchEvent(M)}},[p,x,e,o]);const t=s.useRef(b(e)?!1:e);return u.jsx(j.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??t.current,required:h,disabled:d,name:k,value:m,form:i,...c,tabIndex:-1,ref:C,style:{...c.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});B.displayName=N;function Q(r){return typeof r=="function"}function b(r){return r==="indeterminate"}function L(r){return b(r)?"indeterminate":r?"checked":"unchecked"}export{S as C,F as a};
