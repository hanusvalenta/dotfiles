import{j as o,r as je,c as D,I as Pe,a as Ne}from"./Icon-f3e43e02.js";import{I as De,S as _e,J as Ie,V as Ae,W as Fe}from"./index-eeca2896.js";import{r as n}from"./index-8b3efc3f.js";import{c as Le,u as ae,P as _,f as ke,b as Me,h as X,a as b,m as Oe,j as Ke}from"./index-3744168d.js";import{a as Ve}from"./index-3e4171d5.js";import{B as $e,R as Ue,P as Xe}from"./index-0b89f2da.js";import{V as ie}from"./index-025f2019.js";import{B as ce}from"./Button-97d280d1.js";var Y="ToastProvider",[G,ze,We]=Ve("Toast"),[le,kt]=Le("Toast",[We]),[qe,z]=le(Y),de=e=>{const{__scopeToast:s,label:t="Notification",duration:r=5e3,swipeDirection:c="right",swipeThreshold:d=50,children:p}=e,[f,m]=n.useState(null),[a,y]=n.useState(0),h=n.useRef(!1),I=n.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Y}\`. Expected non-empty \`string\`.`),o.jsx(G.Provider,{scope:s,children:o.jsx(qe,{scope:s,label:t,duration:r,swipeDirection:c,swipeThreshold:d,toastCount:a,viewport:f,onViewportChange:m,onToastAdd:n.useCallback(()=>y(S=>S+1),[]),onToastRemove:n.useCallback(()=>y(S=>S-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:I,children:p})})};de.displayName=Y;var ue="ToastViewport",Be=["F8"],J="toast.viewportPause",Q="toast.viewportResume",pe=n.forwardRef((e,s)=>{const{__scopeToast:t,hotkey:r=Be,label:c="Notifications ({hotkey})",...d}=e,p=z(ue,t),f=ze(t),m=n.useRef(null),a=n.useRef(null),y=n.useRef(null),h=n.useRef(null),I=ae(s,h,p.onViewportChange),S=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=p.toastCount>0;n.useEffect(()=>{const l=x=>{var w;r.length!==0&&r.every(v=>x[v]||x.code===v)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",l),()=>document.removeEventListener("keydown",l)},[r]),n.useEffect(()=>{const l=m.current,x=h.current;if(j&&l&&x){const w=()=>{if(!p.isClosePausedRef.current){const E=new CustomEvent(J);x.dispatchEvent(E),p.isClosePausedRef.current=!0}},v=()=>{if(p.isClosePausedRef.current){const E=new CustomEvent(Q);x.dispatchEvent(E),p.isClosePausedRef.current=!1}},T=E=>{!l.contains(E.relatedTarget)&&v()},g=()=>{l.contains(document.activeElement)||v()};return l.addEventListener("focusin",w),l.addEventListener("focusout",T),l.addEventListener("pointermove",w),l.addEventListener("pointerleave",g),window.addEventListener("blur",w),window.addEventListener("focus",v),()=>{l.removeEventListener("focusin",w),l.removeEventListener("focusout",T),l.removeEventListener("pointermove",w),l.removeEventListener("pointerleave",g),window.removeEventListener("blur",w),window.removeEventListener("focus",v)}}},[j,p.isClosePausedRef]);const u=n.useCallback(({tabbingDirection:l})=>{const x=f().map(w=>{const v=w.ref.current,T=[v,...at(v)];return l==="forwards"?T:T.reverse()});return(l==="forwards"?x.reverse():x).flat()},[f]);return n.useEffect(()=>{const l=h.current;if(l){const x=w=>{var T,g,E;const v=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!v){const A=document.activeElement,P=w.shiftKey;if(w.target===l&&P){(T=a.current)==null||T.focus();return}const F=u({tabbingDirection:P?"backwards":"forwards"}),K=F.findIndex(N=>N===A);te(F.slice(K+1))?w.preventDefault():P?(g=a.current)==null||g.focus():(E=y.current)==null||E.focus()}};return l.addEventListener("keydown",x),()=>l.removeEventListener("keydown",x)}},[f,u]),o.jsxs($e,{ref:m,role:"region","aria-label":c.replace("{hotkey}",S),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&o.jsx(Z,{ref:a,onFocusFromOutsideViewport:()=>{const l=u({tabbingDirection:"forwards"});te(l)}}),o.jsx(G.Slot,{scope:t,children:o.jsx(_.ol,{tabIndex:-1,...d,ref:I})}),j&&o.jsx(Z,{ref:y,onFocusFromOutsideViewport:()=>{const l=u({tabbingDirection:"backwards"});te(l)}})]})});pe.displayName=ue;var fe="ToastFocusProxy",Z=n.forwardRef((e,s)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...c}=e,d=z(fe,t);return o.jsx(ie,{tabIndex:0,...c,ref:s,style:{position:"fixed"},onFocus:p=>{var m;const f=p.relatedTarget;!((m=d.viewport)!=null&&m.contains(f))&&r()}})});Z.displayName=fe;var M="Toast",He="toast.swipeStart",Ye="toast.swipeMove",Ge="toast.swipeCancel",Je="toast.swipeEnd",me=n.forwardRef((e,s)=>{const{forceMount:t,open:r,defaultOpen:c,onOpenChange:d,...p}=e,[f,m]=ke({prop:r,defaultProp:c??!0,onChange:d,caller:M});return o.jsx(Me,{present:t||f,children:o.jsx(et,{open:f,...p,ref:s,onClose:()=>m(!1),onPause:X(e.onPause),onResume:X(e.onResume),onSwipeStart:b(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:b(e.onSwipeMove,a=>{const{x:y,y:h}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:b(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:b(e.onSwipeEnd,a=>{const{x:y,y:h}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),m(!1)})})})});me.displayName=M;var[Qe,Ze]=le(M,{onClose(){}}),et=n.forwardRef((e,s)=>{const{__scopeToast:t,type:r="foreground",duration:c,open:d,onClose:p,onEscapeKeyDown:f,onPause:m,onResume:a,onSwipeStart:y,onSwipeMove:h,onSwipeCancel:I,onSwipeEnd:S,...j}=e,u=z(M,t),[l,x]=n.useState(null),w=ae(s,i=>x(i)),v=n.useRef(null),T=n.useRef(null),g=c||u.duration,E=n.useRef(0),A=n.useRef(g),P=n.useRef(0),{onToastAdd:F,onToastRemove:K}=u,N=X(()=>{var i;l!=null&&l.contains(document.activeElement)&&((i=u.viewport)==null||i.focus()),p()}),V=n.useCallback(i=>{!i||i===1/0||(window.clearTimeout(P.current),E.current=new Date().getTime(),P.current=window.setTimeout(N,i))},[N]);n.useEffect(()=>{const i=u.viewport;if(i){const C=()=>{V(A.current),a==null||a()},R=()=>{const L=new Date().getTime()-E.current;A.current=A.current-L,window.clearTimeout(P.current),m==null||m()};return i.addEventListener(J,R),i.addEventListener(Q,C),()=>{i.removeEventListener(J,R),i.removeEventListener(Q,C)}}},[u.viewport,g,m,a,V]),n.useEffect(()=>{d&&!u.isClosePausedRef.current&&V(g)},[d,g,u.isClosePausedRef,V]),n.useEffect(()=>(F(),()=>K()),[F,K]);const ne=n.useMemo(()=>l?Ee(l):null,[l]);return u.viewport?o.jsxs(o.Fragment,{children:[ne&&o.jsx(tt,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:ne}),o.jsx(Qe,{scope:t,onClose:N,children:je.createPortal(o.jsx(G.ItemSlot,{scope:t,children:o.jsx(Ue,{asChild:!0,onEscapeKeyDown:b(f,()=>{u.isFocusedToastEscapeKeyDownRef.current||N(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(_.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection,...j,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:b(e.onKeyDown,i=>{i.key==="Escape"&&(f==null||f(i.nativeEvent),i.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,N()))}),onPointerDown:b(e.onPointerDown,i=>{i.button===0&&(v.current={x:i.clientX,y:i.clientY})}),onPointerMove:b(e.onPointerMove,i=>{if(!v.current)return;const C=i.clientX-v.current.x,R=i.clientY-v.current.y,L=!!T.current,k=["left","right"].includes(u.swipeDirection),$=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,Re=k?$(0,C):0,Se=k?0:$(0,R),H=i.pointerType==="touch"?10:2,U={x:Re,y:Se},oe={originalEvent:i,delta:U};L?(T.current=U,W(Ye,h,oe,{discrete:!1})):ge(U,u.swipeDirection,H)?(T.current=U,W(He,y,oe,{discrete:!1}),i.target.setPointerCapture(i.pointerId)):(Math.abs(C)>H||Math.abs(R)>H)&&(v.current=null)}),onPointerUp:b(e.onPointerUp,i=>{const C=T.current,R=i.target;if(R.hasPointerCapture(i.pointerId)&&R.releasePointerCapture(i.pointerId),T.current=null,v.current=null,C){const L=i.currentTarget,k={originalEvent:i,delta:C};ge(C,u.swipeDirection,u.swipeThreshold)?W(Je,S,k,{discrete:!0}):W(Ge,I,k,{discrete:!0}),L.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),tt=e=>{const{__scopeToast:s,children:t,...r}=e,c=z(M,s),[d,p]=n.useState(!1),[f,m]=n.useState(!1);return nt(()=>p(!0)),n.useEffect(()=>{const a=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(a)},[]),f?null:o.jsx(Xe,{asChild:!0,children:o.jsx(ie,{...r,children:d&&o.jsxs(o.Fragment,{children:[c.label," ",t]})})})},st="ToastTitle",we=n.forwardRef((e,s)=>{const{__scopeToast:t,...r}=e;return o.jsx(_.div,{...r,ref:s})});we.displayName=st;var rt="ToastDescription",ve=n.forwardRef((e,s)=>{const{__scopeToast:t,...r}=e;return o.jsx(_.div,{...r,ref:s})});ve.displayName=rt;var xe="ToastAction",Te=n.forwardRef((e,s)=>{const{altText:t,...r}=e;return t.trim()?o.jsx(ye,{altText:t,asChild:!0,children:o.jsx(ee,{...r,ref:s})}):(console.error(`Invalid prop \`altText\` supplied to \`${xe}\`. Expected non-empty \`string\`.`),null)});Te.displayName=xe;var he="ToastClose",ee=n.forwardRef((e,s)=>{const{__scopeToast:t,...r}=e,c=Ze(he,t);return o.jsx(ye,{asChild:!0,children:o.jsx(_.button,{type:"button",...r,ref:s,onClick:b(e.onClick,c.onClose)})})});ee.displayName=he;var ye=n.forwardRef((e,s)=>{const{__scopeToast:t,altText:r,...c}=e;return o.jsx(_.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...c,ref:s})});function Ee(e){const s=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&s.push(t.textContent),ot(t)){const r=t.ariaHidden||t.hidden||t.style.display==="none",c=t.dataset.radixToastAnnounceExclude==="";if(!r)if(c){const d=t.dataset.radixToastAnnounceAlt;d&&s.push(d)}else s.push(...Ee(t))}}),s}function W(e,s,t,{discrete:r}){const c=t.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});s&&c.addEventListener(e,s,{once:!0}),r?Ke(c,d):c.dispatchEvent(d)}var ge=(e,s,t=0)=>{const r=Math.abs(e.x),c=Math.abs(e.y),d=r>c;return s==="left"||s==="right"?d&&r>t:!d&&c>t};function nt(e=()=>{}){const s=X(e);Oe(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(s)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[s])}function ot(e){return e.nodeType===e.ELEMENT_NODE}function at(e){const s=[],t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const c=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||c?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)s.push(t.currentNode);return s}function te(e){const s=document.activeElement;return e.some(t=>t===s?!0:(t.focus(),document.activeElement!==s))}var it=de,ct=pe,lt=me,dt=we,ut=ve,pt=Te,ft=ee;const mt=it,wt=n.forwardRef(({className:e,...s},t)=>o.jsx(ct,{ref:t,className:D("fixed bottom-auto right-0 top-0 z-[999999] flex max-h-screen w-[400px] max-w-full p-4",e),...s})),vt=({children:e})=>o.jsx("div",{className:"mt-3 flex flex-row gap-2",children:e}),xt=n.forwardRef(({className:e,children:s,variant:t,onClick:r,href:c,rel:d,target:p,altText:f,...m},a)=>o.jsx(pt,{asChild:!0,ref:a,onClick:r,altText:f,...m,children:o.jsx(ce,{size:"small",variant:t,className:e,theme:"dark",href:c,rel:d,target:p,children:s})})),Tt=n.forwardRef(({className:e,onClick:s,...t},r)=>o.jsx(ft,{ref:r,"aria-label":"Close",className:D("bg-transparent p-0 text-slate-400 opacity-0 transition-opacity hover:text-slate-100 focus:opacity-100 group-hover:opacity-100",e),asChild:!0,"toast-close":"",onClick:s,...t,children:o.jsx(ce,{variant:"ghost",className:"-m-0.5 h-6 w-6 p-0",icon:De,"aria-label":"Dismiss"})})),ht=n.forwardRef(({className:e,...s},t)=>o.jsx(dt,{ref:t,className:D("m-0 font-sans text-sm font-semibold leading-5 text-slate-100",e),...s})),yt=n.forwardRef(({className:e,...s},t)=>o.jsx(ut,{ref:t,className:D("m-0 font-sans text-sm font-normal leading-5 text-slate-400",e),...s})),Et=Ne("h-5 w-5",{variants:{variant:{info:"text-brand-400",error:"text-red-500",success:"text-green-400",warning:"text-yellow-500"}},defaultVariants:{variant:"info"}}),gt=n.forwardRef(({className:e,variant:s="info",icon:t,children:r,onDismiss:c,title:d,description:p,...f},m)=>{const a=()=>{switch(s){case"error":return Fe;case"success":return Ae;case"warning":return Ie;default:return _e}};return o.jsxs(lt,{ref:m,className:D("data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full shadow-toast group pointer-events-auto relative flex w-[400px] max-w-full justify-between gap-2.5 overflow-hidden rounded-lg bg-slate-800 p-4 transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none",e),...f,children:[o.jsx(Pe,{icon:t??a(),"data-testid":"toast-icon",className:D(Et({variant:s}),"mt-0.5 size-4")}),o.jsxs("div",{className:"flex flex-1 flex-col items-start",children:[d&&o.jsx(ht,{children:d}),p&&o.jsx(yt,{className:"mt-0.5",children:p}),r]}),o.jsx(Tt,{onClick:c})]})}),bt=1,Ct=1e6;let se=0;function Rt(){return se=(se+1)%Number.MAX_SAFE_INTEGER,se.toString()}const re=new Map,be=e=>{if(re.has(e))return;const s=setTimeout(()=>{re.delete(e),O({type:"REMOVE_TOAST",toastId:e})},Ct);re.set(e,s)},St=(e,s)=>{switch(s.type){case"ADD_TOAST":return{...e,toasts:[s.toast,...e.toasts].slice(0,bt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(t=>t.id===s.toast.id?{...t,...s.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=s;return t?be(t):e.toasts.forEach(r=>{be(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(t=>t.id!==s.toastId)}}},q=[];let B={toasts:[]};function O(e){B=St(B,e),q.forEach(s=>{s(B)})}function Ce({...e}){const s=Rt(),t=c=>O({type:"UPDATE_TOAST",toast:{...c,id:s}}),r=()=>O({type:"DISMISS_TOAST",toastId:s});return O({type:"ADD_TOAST",toast:{...e,id:s,open:!0,onOpenChange:c=>{c||r()}}}),{id:s,dismiss:r,update:t}}function jt(){const[e,s]=n.useState(B);return n.useEffect(()=>(q.push(s),()=>{const t=q.indexOf(s);t>-1&&q.splice(t,1)}),[e]),{...e,toast:Ce,dismiss:t=>O({type:"DISMISS_TOAST",toastId:t})}}export{mt as T,wt as a,gt as b,vt as c,xt as d,Ce as t,jt as u};
