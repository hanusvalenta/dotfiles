import{j as t,c as q}from"./Icon-709cfd25.js";import{r as o}from"./index-8b3efc3f.js";import{c as I,u as y,e as T,P as g,a as F,d as O,L as $}from"./Label-7e7b0c43.js";import{u as B}from"./index-a72790c3.js";var k="Switch",[H,Q]=I(k),[L,M]=H(k),j=o.forwardRef((s,i)=>{const{__scopeSwitch:e,name:d,checked:r,defaultChecked:c,required:u,disabled:l,value:p="on",onCheckedChange:b,form:a,...h}=s,[n,f]=o.useState(null),_=y(i,x=>f(x)),v=o.useRef(!1),w=n?a||!!n.closest("form"):!0,[m,E]=T({prop:r,defaultProp:c??!1,onChange:b,caller:k});return t.jsxs(L,{scope:e,checked:m,disabled:l,children:[t.jsx(g.button,{type:"button",role:"switch","aria-checked":m,"aria-required":u,"data-state":R(m),"data-disabled":l?"":void 0,disabled:l,value:p,...h,ref:_,onClick:F(s.onClick,x=>{E(P=>!P),w&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})}),w&&t.jsx(C,{control:n,bubbles:!v.current,name:d,value:p,checked:m,required:u,disabled:l,form:a,style:{transform:"translateX(-100%)"}})]})});j.displayName=k;var N="SwitchThumb",S=o.forwardRef((s,i)=>{const{__scopeSwitch:e,...d}=s,r=M(N,e);return t.jsx(g.span,{"data-state":R(r.checked),"data-disabled":r.disabled?"":void 0,...d,ref:i})});S.displayName=N;var z="SwitchBubbleInput",C=o.forwardRef(({__scopeSwitch:s,control:i,checked:e,bubbles:d=!0,...r},c)=>{const u=o.useRef(null),l=y(u,c),p=B(e),b=O(i);return o.useEffect(()=>{const a=u.current;if(!a)return;const h=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(h,"checked").set;if(p!==e&&n){const f=new Event("click",{bubbles:d});n.call(a,e),a.dispatchEvent(f)}},[p,e,d]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...r,tabIndex:-1,ref:l,style:{...r.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});C.displayName=z;function R(s){return s?"checked":"unchecked"}var A=j,D=S;const J=o.forwardRef(({theme:s="light",id:i,label:e,disabled:d,name:r,helpText:c,className:u,...l},p)=>{const b=o.useId(),a=i??b,h=e?`${a}-label`:void 0,n=c?`${a}-help`:void 0,f=q("flex items-center justify-between font-sans text-sm font-medium flex-row-reverse",u);return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:f,"data-theme":s,children:[t.jsx(A,{className:"relative h-4 w-8 shrink-0 cursor-pointer select-none rounded-full shadow-inner transition-colors data-[state=checked]:bg-green-400 data-[disabled]:opacity-50 dark:data-[disabled]:opacity-30 data-[disabled]:cursor-not-allowed data-[state=unchecked]:bg-slate-300/40 dark:data-[state=unchecked]:bg-slate-300/25 focus-visible:outline-[1.5px] focus-visible:outline-brand-500 outline-offset-4",name:r,"aria-labelledby":h||void 0,"aria-describedby":n||void 0,id:a,disabled:d,...l,ref:p,children:t.jsx(D,{className:"pointer-events-none absolute -left-px -top-px block h-[18px] w-[18px] rounded-full bg-white outline outline-1 outline-slate-500/20 dark:outline-slate-900/20 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0"})}),e&&t.jsx($,{id:h,htmlFor:a,className:"pr-2",children:e})]}),c&&t.jsx("p",{id:n,className:"mt-1 pr-9 text-sm font-normal leading-5 text-slate-500",children:c})]})});export{J as S};
