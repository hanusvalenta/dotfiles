import{R as c}from"./index-8b3efc3f.js";import{c as I,u as C,j as h}from"./Label-7e7b0c43.js";import{j as m}from"./Icon-709cfd25.js";function O(i){const a=i+"CollectionProvider",[y,S]=I(a),[j,s]=y(a,{collectionRef:{current:null},itemMap:new Map}),d=n=>{const{scope:e,children:r}=n,o=c.useRef(null),l=c.useRef(new Map).current;return m.jsx(j,{scope:e,itemMap:l,collectionRef:o,children:r})};d.displayName=a;const f=i+"CollectionSlot",v=h(f),p=c.forwardRef((n,e)=>{const{scope:r,children:o}=n,l=s(f,r),t=C(e,l.collectionRef);return m.jsx(v,{ref:t,children:o})});p.displayName=f;const u=i+"CollectionItemSlot",R="data-radix-collection-item",w=h(u),M=c.forwardRef((n,e)=>{const{scope:r,children:o,...l}=n,t=c.useRef(null),N=C(e,t),x=s(u,r);return c.useEffect(()=>(x.itemMap.set(t,{ref:t,...l}),()=>void x.itemMap.delete(t))),m.jsx(w,{[R]:"",ref:N,children:o})});M.displayName=u;function A(n){const e=s(i+"CollectionConsumer",n);return c.useCallback(()=>{const r=e.collectionRef.current;if(!r)return[];const o=Array.from(r.querySelectorAll(`[${R}]`));return Array.from(e.itemMap.values()).sort((l,t)=>o.indexOf(l.ref.current)-o.indexOf(t.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:d,Slot:p,ItemSlot:M},A,S]}export{O as c};
