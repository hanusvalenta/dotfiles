import"./modulepreload-polyfill-3cfb730f.js";import{j as e,I as c}from"./Icon-709cfd25.js";import{r as a,R as g}from"./index-8b3efc3f.js";import{c as v}from"./client-e8432e69.js";import{u as N,P as _}from"./react-redux-52a3bd12.js";import{x as k,z as r,C as m,m as d,J as y,s as C}from"./store-09c6166c.js";import{p as S}from"./production-ca86ce5a.js";import{h as B,i as T}from"./index-7ec85ebb.js";import{a as P,B as i}from"./Button-28102c4e.js";import{A as D,a as H}from"./AllowedDomainsManagerAppTags-b2a2eb42.js";import{T as I}from"./Toolbar-76b5973a.js";import{s as p,a as x}from"./allowedDomainsDB-47151ce3.js";import{s as G}from"./scribeSuggestions-59cbe47c.js";import{B as A}from"./Badge-efc00514.js";import{B as U}from"./Banner-ea20b168.js";import{C as W}from"./Checkbox-9f05bf9c.js";import"./_commonjsHelpers-de833af9.js";import"./v4-c70744d4.js";import"./appTagUtils-c74c75cd.js";import"./Chip-fcb36839.js";import"./Label-7e7b0c43.js";import"./index-dec57878.js";import"./ScrollArea-64a9fc3d.js";import"./index-84d1a71c.js";import"./TextInput-531917ab.js";import"./index-961cf08f.js";import"./options-7a3fe88d.js";import"./index-cbd90b1e.js";import"./index-a72790c3.js";const z=()=>{const n=N(s=>k(s).dwApptagUi),[t,l]=a.useState("defaultDenied"),[o,f]=a.useState([]),[u,b]=a.useState([]),j=async()=>{r("autocapture_onboarding_back_clicked",{location:"sidepanel_autocapture_onboarding"}),n?p([]):x([]),await m(d.Home)},w=async()=>{if(r("try_auto_capture_get_started_clicked",{location:"extension",allow_previous_scribes_for_suggestions_clicked:t==="consented",auto_capture_domains_added:o,domainsCount:o.length}),t!=="consented"){l("denied");return}await Promise.all([x(o),p(u),G(!0),m(d.Home)])};return e.jsxs("div",{className:"flex flex-col h-screen overflow-y-auto",children:[e.jsx("div",{className:"flex-none p-4",children:e.jsx(I,{onVisitWorkspaceDocuments:()=>{},onGoToOptionsPage:()=>{},onBack:j,showTeamSelector:!1,showHomeIcon:!1,showSettingsIcon:!1,centerContent:null})}),e.jsxs("div",{className:"flex-1 pt-6 px-6 flex flex-col grow items-center text-center min-h-0",children:[e.jsx("div",{className:"mb-10 flex justify-center items-center",children:e.jsxs("div",{className:"relative",children:[e.jsx(c,{icon:B,className:"text-[38px] text-brand-300"}),e.jsx("div",{className:"absolute -bottom-1 -right-3",children:e.jsx(c,{icon:P,className:"text-[28px] rounded-full text-brand-500",style:{stroke:"white",strokeWidth:"30"}})})]})}),e.jsxs("h3",{className:"text-lg font-bold leading-7 text-slate-800 m-0 mb-2 flex items-center gap-2",children:["Try Workflow Discovery ",e.jsx(A,{children:"Beta"})]}),e.jsx("div",{className:"min-w-[260px]",children:e.jsxs("p",{className:"text-slate-600 text-sm font-normal mb-10",children:["Get Scribes captured for you based on your ",e.jsx("br",{})," workflows on approved domains ",e.jsx("br",{}),"(and their subdomains)."]})}),e.jsxs("div",{className:"flex flex-col min-w-[280px] w-full text-left flex-1 min-h-0 relative",children:[e.jsx("h3",{className:"text-slate-600 text-[13px] font-semibold m-0 pb-2",children:"Your approved parent domains"}),n?e.jsx(D,{className:"w-full flex-1 min-h-0",maxChipHeight:"calc(100vh - 550px)",includeTopDomains:!0,onChange:b}):e.jsx(H,{className:"w-full flex-1 min-h-0",maxChipHeight:"calc(100vh - 550px)",includeTopDomains:!0,addButtonType:"text",onChange:f}),e.jsx("div",{className:"absolute -bottom-2 left-0 right-0 h-8 bg-gradient-to-t from-white to-white/0 pointer-events-none"})]})]}),e.jsxs("div",{className:"w-full flex flex-col flex-none items-center mx-auto mt-2 pb-10 backdrop-blur-xs bg-gradient-to-t from-white via-white/95 to-white/0",children:[e.jsxs("div",{className:"pb-6 px-6",children:[e.jsx(W,{checked:t==="consented",className:"mb-2",onCheckedChange:s=>{r("autocapture_onboarding_checkbox_toggled",{location:"sidepanel_autocapture_onboarding",checked:s===!0}),l(s===!0?"consented":"denied")},label:"Yes, capture workflows for me based on my activity on approved domains."}),e.jsx(i,{variant:"link",href:"https://support.scribehow.com/hc/en-us/articles/30708953411229-Using-discover-workflows",target:"_blank",rel:"noreferrer",className:"ml-4 text-slate-600 decoration-dotted",children:"Learn more about workflow capture"})]}),t==="denied"&&e.jsx("div",{className:"w-full px-6 pb-4",children:e.jsx(U,{title:"Please enable workflow capture",description:"",variant:"error"})}),e.jsx("div",{className:"px-6 w-full",children:e.jsx(i,{variant:"primary",icon:T,iconPosition:"right",onClick:w,className:"mt-auto text-[15px] py-3 m-auto w-full",size:"default",children:"Get Started!"})}),e.jsx("div",{className:"mt-3",children:e.jsx(i,{variant:"link",href:"https://scribehow.com/legal/privacy",target:"_blank",rel:"noreferrer",className:"text-slate-600 decoration-dotted",children:"Privacy policy"})})]})]})},E=()=>e.jsxs(g.StrictMode,{children:[e.jsx("style",{type:"text/css",children:S}),e.jsx(_,{store:C,children:e.jsx(z,{})})]});y.persist();const h=document.getElementById("root");h&&v(h).render(e.jsx(E,{}));
