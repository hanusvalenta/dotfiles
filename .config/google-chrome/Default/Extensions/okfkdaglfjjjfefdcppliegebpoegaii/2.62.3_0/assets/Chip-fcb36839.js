import{r as c}from"./index-8b3efc3f.js";import{c as X,u as A,P as _,a as m,b as E,j as Y,e as ee,k as re}from"./Label-7e7b0c43.js";import{c as F,A as D,D as oe,C as te,a as ne,P as ae,R as se}from"./index-dec57878.js";import{h as ie,a as le,u as ce,F as de}from"./ScrollArea-64a9fc3d.js";import{j as l,c as P,I as ue,a as w}from"./Icon-709cfd25.js";import{G as fe}from"./index-7ec85ebb.js";import{B as pe}from"./Button-28102c4e.js";var y="Popover",[I,He]=X(y,[F]),k=F(),[he,v]=I(y),S=e=>{const{__scopePopover:o,children:r,open:n,defaultOpen:a,onOpenChange:s,modal:t=!1}=e,i=k(o),d=c.useRef(null),[f,p]=c.useState(!1),[u,h]=ee({prop:n,defaultProp:a??!1,onChange:s,caller:y});return l.jsx(se,{...i,children:l.jsx(he,{scope:o,contentId:re(),triggerRef:d,open:u,onOpenChange:h,onOpenToggle:c.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:f,onCustomAnchorAdd:c.useCallback(()=>p(!0),[]),onCustomAnchorRemove:c.useCallback(()=>p(!1),[]),modal:t,children:r})})};S.displayName=y;var M="PopoverAnchor",z=c.forwardRef((e,o)=>{const{__scopePopover:r,...n}=e,a=v(M,r),s=k(r),{onCustomAnchorAdd:t,onCustomAnchorRemove:i}=a;return c.useEffect(()=>(t(),()=>i()),[t,i]),l.jsx(D,{...s,...n,ref:o})});z.displayName=M;var V="PopoverTrigger",K=c.forwardRef((e,o)=>{const{__scopePopover:r,...n}=e,a=v(V,r),s=k(r),t=A(o,a.triggerRef),i=l.jsx(_.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":G(a.open),...n,ref:t,onClick:m(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?i:l.jsx(D,{asChild:!0,...s,children:i})});K.displayName=V;var j="PopoverPortal",[ge,ve]=I(j,{forceMount:void 0}),T=e=>{const{__scopePopover:o,forceMount:r,children:n,container:a}=e,s=v(j,o);return l.jsx(ge,{scope:o,forceMount:r,children:l.jsx(E,{present:r||s.open,children:l.jsx(ae,{asChild:!0,container:a,children:n})})})};T.displayName=j;var x="PopoverContent",L=c.forwardRef((e,o)=>{const r=ve(x,e.__scopePopover),{forceMount:n=r.forceMount,...a}=e,s=v(x,e.__scopePopover);return l.jsx(E,{present:n||s.open,children:s.modal?l.jsx(be,{...a,ref:o}):l.jsx(me,{...a,ref:o})})});L.displayName=x;var xe=Y("PopoverContent.RemoveScroll"),be=c.forwardRef((e,o)=>{const r=v(x,e.__scopePopover),n=c.useRef(null),a=A(o,n),s=c.useRef(!1);return c.useEffect(()=>{const t=n.current;if(t)return ie(t)},[]),l.jsx(le,{as:xe,allowPinchZoom:!0,children:l.jsx(B,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,t=>{var i;t.preventDefault(),s.current||((i=r.triggerRef.current)==null||i.focus())}),onPointerDownOutside:m(e.onPointerDownOutside,t=>{const i=t.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0,f=i.button===2||d;s.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:m(e.onFocusOutside,t=>t.preventDefault(),{checkForDefaultPrevented:!1})})})}),me=c.forwardRef((e,o)=>{const r=v(x,e.__scopePopover),n=c.useRef(!1),a=c.useRef(!1);return l.jsx(B,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var t,i;(t=e.onCloseAutoFocus)==null||t.call(e,s),s.defaultPrevented||(n.current||((i=r.triggerRef.current)==null||i.focus()),s.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:s=>{var i,d;(i=e.onInteractOutside)==null||i.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const t=s.target;(d=r.triggerRef.current)!=null&&d.contains(t)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),B=c.forwardRef((e,o)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:s,disableOutsidePointerEvents:t,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,...u}=e,h=v(x,r),g=k(r);return ce(),l.jsx(de,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:s,children:l.jsx(oe,{asChild:!0,disableOutsidePointerEvents:t,onInteractOutside:p,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:f,onDismiss:()=>h.onOpenChange(!1),children:l.jsx(te,{"data-state":G(h.open),role:"dialog",id:h.contentId,...g,...u,ref:o,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),U="PopoverClose",Z=c.forwardRef((e,o)=>{const{__scopePopover:r,...n}=e,a=v(U,r);return l.jsx(_.button,{type:"button",...n,ref:o,onClick:m(e.onClick,()=>a.onOpenChange(!1))})});Z.displayName=U;var ke="PopoverArrow",q=c.forwardRef((e,o)=>{const{__scopePopover:r,...n}=e,a=k(r);return l.jsx(ne,{...a,...n,ref:o})});q.displayName=ke;function G(e){return e?"open":"closed"}var Ce=S,we=z,ye=K,Pe=T,je=L,Re=Z,Oe=q;const Ne={xxs:16,xs:20,sm:24,md:32,lg:40,xl:48,"2xl":56,"3xl":96},Ae={xxs:10,xs:10,sm:12,md:16,lg:20,xl:24,"2xl":24,"3xl":32},R={orange:{dark:"bg-orange-500",light:"bg-orange-100"},yellow:{dark:"bg-yellow-500",light:"bg-yellow-100"},lime:{dark:"bg-lime-500",light:"bg-lime-100"},emerald:{dark:"bg-green-500",light:"bg-green-100"},cyan:{dark:"bg-cyan-500",light:"bg-cyan-100"},blue:{dark:"bg-blue-500",light:"bg-blue-100"},violet:{dark:"bg-purple-500",light:"bg-purple-100"},fuchsia:{dark:"bg-fuchsia-500",light:"bg-fuchsia-100"},rose:{dark:"bg-rose-500",light:"bg-rose-100"},gray:{dark:"bg-slate-500",light:"bg-slate-100"}},_e={xxs:"rounded",xs:"rounded",sm:"rounded",md:"rounded",lg:"rounded-lg",xl:"rounded-lg","2xl":"rounded-lg","3xl":"rounded-lg"},J=c.forwardRef(({shape:e="circle",size:o="md",color:r="blue",theme:n="dark",uuid:a,style:s,children:t,className:i,...d},f)=>{var g,C;const p=Ne[o],u=a?Q(a).color:r,h=typeof t=="string";return l.jsx("div",{ref:f,style:{width:p,height:p,fontSize:Ae[o],...n==="dark"?{textShadow:"0px 1px 1px rgba(15, 23, 42, 0.25)"}:{},...o==="3xl"&&n==="dark"?{textShadow:"0px 2px 4px rgba(15, 23, 42, 0.25)"}:{},...s},className:P("flex shrink-0 items-center justify-center overflow-hidden font-sans font-bold uppercase leading-none",(g=R[u])==null?void 0:g[n],{[(C=R[u])==null?void 0:C[n]]:h,"bg-slate-100":!h,"text-white":n==="dark","text-slate-900":n!=="dark"},e==="circle"?"rounded-full":_e[o],i),...d,children:h?Fe(t,1):t})}),Ee=(e,o)=>{let r=0;for(let n=0;n<e.length;n++){const a=e.charCodeAt(n);r=(r<<5)-r+a,r&=r}return Math.abs(r)%o},Q=e=>{const o=Object.keys(R).filter(n=>n!=="gray"),r=Ee(e,o.length);return{color:o[r]}},Fe=(e,o)=>{const r=new Set([".",",",";",":","!","?",'"',"'","(",")","[","]","{","}","-","_"]);let n="";for(const a of e)if(!r.has(a)&&a!==" "&&(n+=a,n.length===o))break;return n};function De(e){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];e&&e.addEventListener&&e.addEventListener.apply(e,o)}function Ie(e){for(var o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];e&&e.removeEventListener&&e.removeEventListener.apply(e,o)}var Se=["mousedown","touchstart"],Me=function(e,o,r){r===void 0&&(r=Se);var n=c.useRef(o);c.useEffect(function(){n.current=o},[o]),c.useEffect(function(){for(var a=function(d){var f=e.current;f&&!f.contains(d.target)&&n.current(d)},s=0,t=r;s<t.length;s++){var i=t[s];De(document,i,a)}return function(){for(var d=0,f=r;d<f.length;d++){var p=f[d];Ie(document,p,a)}}},[r,e])};const ze=Me;var Ve=function(e,o){var r=c.useState(null),n=r[0],a=r[1];return c.useEffect(function(){if(e.current&&typeof IntersectionObserver=="function"){var s=function(i){a(i[0])},t=new IntersectionObserver(s,o);return t.observe(e.current),function(){a(null),t.disconnect()}}return function(){}},[e.current,o.threshold,o.root,o.rootMargin]),n};const Ke=Ve,Te=({onVisible:e,threshold:o=1,rootMargin:r="0px",root:n=null,className:a})=>{const s=c.useRef(null),t=Ke(s,{root:n,rootMargin:r,threshold:o});return c.useEffect(()=>{e&&(t!=null&&t.isIntersecting)&&e()},[t==null?void 0:t.isIntersecting,e]),l.jsx("div",{className:a,ref:s})},W=w("h-6 group flex w-fit max-w-full gap-1 select-none items-center rounded-md  transition-colors",{variants:{onClick:{true:"cursor-pointer hover:ring-slate-400/50 hover:shadow-slate-400 dark:hover:shadow-slate-600 [&:has(button:first-child:focus-visible)]:outline [&:has(button:first-child:focus-visible)]:outline-[1.5px] [&:has(button:first-child:focus-visible)]:outline-offset-2 [&:has(button:first-child:focus-visible)]:outline-brand-400 [&:has(button:first-child:focus-visible)]:ring-0"},editable:{true:"border border-dashed border-slate-400/60 dark:border-slate-700 h-[26px] -m-px [&:has(input:focus-visible)]:outline [&:has(input:focus-visible)]:outline-[1.5px] [&:has(input:focus-visible)]:outline-offset-2 [&:has(input:focus-visible)]:outline-brand-400 [&:has(input:focus-visible)]:ring-0",false:"ring-1 ring-slate-400/30 dark:ring-slate-700"},error:{true:"bg-red-100 dark:bg-red-900 ring-red-200 dark:ring-red-800",false:"bg-white dark:bg-slate-900"}},compoundVariants:[{error:!0,onClick:!0,className:"hover:ring-red-300 dark:hover:ring-red-700"}],defaultVariants:{editable:!1}}),O=w("flex font-sans field-sizing-content border-none text-xs font-medium items-center gap-1 flex-1 min-w-0 max-w-48 bg-transparent py-1 px-1.5 m-0 focus:outline-none",{variants:{onClick:{true:"cursor-pointer"},error:{true:"text-red-950 dark:text-red-100 placeholder:text-red-950/50 dark:placeholder:text-red-100/50",false:"text-slate-600 dark:text-slate-400 placeholder:text-slate-400 dark:placeholder:text-slate-500"}},defaultVariants:{error:!1}}),Le=w("shrink-0 size-3",{variants:{error:{true:"text-red-700 dark:text-red-300",false:"text-slate-500 dark:text-slate-400"}}}),Be=w("size-4 rounded-full flex-shrink-0 mr-1 -ml-1.5 bg-transparent p-0 [&:has(:focus-visible)]:outline-none",{variants:{error:{true:"text-red-950/50 dark:text-red-100/60 hover:bg-red-200 dark:hover:bg-red-100/20 hover:text-red-950 dark:hover:text-red-100 group-hover:text-red-950 dark:group-hover:text-red-100 focus-visible:bg-red-200 dark:focus-visible:bg-red-100/20 focus-visible:text-red-950 dark:focus-visible:text-red-100",false:"text-slate-400 dark:text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 hover:text-slate-600 dark:hover:text-slate-500 group-hover:text-slate-500 dark:group-hover:text-slate-400 focus-visible:bg-slate-200 dark:focus-visible:bg-slate-700 focus-visible:text-slate-600 dark:focus-visible:text-slate-500"}}}),$=c.forwardRef(({label:e,theme:o="light",error:r=!1,onClick:n,onRemove:a,className:s,...t},i)=>{const d=l.jsxs(l.Fragment,{children:["avatar"in t&&t.avatar&&l.jsx(J,{size:"xxs",theme:o==="dark"?"light":"dark",...t.avatar}),"icon"in t&&t.icon&&l.jsx(ue,{icon:t.icon,className:Le({error:r})}),"img"in t&&t.img&&l.jsx("img",{src:t.img.src,className:"rounded-sm shrink-0 size-4",alt:t.img.alt}),l.jsx("span",{className:"truncate",title:e,children:e})]});return l.jsxs("div",{ref:i,className:P(W({onClick:!!n,error:r}),s),"data-theme":o,"data-testid":"chip","aria-invalid":r||void 0,...t,children:[n?l.jsx("button",{type:"button",onClick:n,className:O({onClick:!!n,error:r}),children:d}):l.jsx("div",{className:O({error:r}),children:d}),a&&l.jsx(pe,{type:"button",className:Be({error:r}),"aria-label":`Remove "${e}"`,onClick:a,icon:fe,iconProps:{className:"size-3"},variant:"ghost"})]})}),Ue=c.forwardRef(({theme:e="light",defaultValue:o,value:r,className:n,onChange:a,onSave:s,onCancel:t,onClickAway:i,placeholder:d,...f},p)=>{const[u,h]=c.useState(r||o),g=c.useRef(null),C=b=>{h(b.target.value),a==null||a(b.target.value)},H=b=>{b.key==="Escape"&&(t==null||t()),b.key==="Enter"&&s&&u&&s(u)},N=()=>{u&&i&&i(u)};return ze(g,()=>{N()}),l.jsx("div",{className:P(W({editable:!0}),n),"data-theme":e,ref:g,children:l.jsx("input",{ref:p,type:"text",defaultValue:o,value:r,onChange:C,onKeyDown:H,onBlur:N,placeholder:d,...f,className:O()})})});c.forwardRef(({chipProps:e,editableProps:o,theme:r="light"},n)=>{const a=c.useRef(null),[s,t]=c.useState(!1),i=p=>{var u;t(!0),(u=e==null?void 0:e.onClick)==null||u.call(e,p)},d=p=>{var u;(u=o.onSave)==null||u.call(o,p),t(!1)},f=()=>{t(!1)};return s?l.jsx(Ue,{ref:a,theme:r,onSave:d,onClickAway:d,onCancel:f,autoFocus:!0,...o}):l.jsx($,{ref:n,theme:r,onClick:i,...e})});export{J as A,$ as C,Te as I,Pe as P,Ce as R,ye as T,je as a,we as b,Oe as c,Re as d,Q as u};
