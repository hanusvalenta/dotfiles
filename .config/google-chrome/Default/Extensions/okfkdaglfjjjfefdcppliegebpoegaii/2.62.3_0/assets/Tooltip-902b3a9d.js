import{j as d,c as J,a as Q}from"./Icon-709cfd25.js";import{r as a}from"./index-8b3efc3f.js";import{P as A,c as U,u as z,a as w,b as B,n as Z,k as ee,e as te}from"./Label-7e7b0c43.js";import{c as F,A as ne,D as re,C as oe,a as ae,R as ie,P as se}from"./index-dec57878.js";var le=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ce="VisuallyHidden",P=a.forwardRef((e,n)=>d.jsx(A.span,{...e,ref:n,style:{...le,...e.style}}));P.displayName=ce;var de=P,[_,Ye]=U("Tooltip",[F]),D=F(),S="TooltipProvider",ue=700,L="tooltip.open",[pe,O]=_(S),V=e=>{const{__scopeTooltip:n,delayDuration:t=ue,skipDelayDuration:r=300,disableHoverableContent:o=!1,children:s}=e,l=a.useRef(!0),h=a.useRef(!1),i=a.useRef(0);return a.useEffect(()=>{const p=i.current;return()=>window.clearTimeout(p)},[]),d.jsx(pe,{scope:n,isOpenDelayedRef:l,delayDuration:t,onOpen:a.useCallback(()=>{window.clearTimeout(i.current),l.current=!1},[]),onClose:a.useCallback(()=>{window.clearTimeout(i.current),i.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:h,onPointerInTransitChange:a.useCallback(p=>{h.current=p},[]),disableHoverableContent:o,children:s})};V.displayName=S;var R="Tooltip",[fe,k]=_(R),Y=e=>{const{__scopeTooltip:n,children:t,open:r,defaultOpen:o,onOpenChange:s,disableHoverableContent:l,delayDuration:h}=e,i=O(R,e.__scopeTooltip),p=D(n),[c,f]=a.useState(null),x=ee(),u=a.useRef(0),g=l??i.disableHoverableContent,y=h??i.delayDuration,v=a.useRef(!1),[b,m]=te({prop:r,defaultProp:o??!1,onChange:H=>{H?(i.onOpen(),document.dispatchEvent(new CustomEvent(L))):i.onClose(),s==null||s(H)},caller:R}),C=a.useMemo(()=>b?v.current?"delayed-open":"instant-open":"closed",[b]),E=a.useCallback(()=>{window.clearTimeout(u.current),u.current=0,v.current=!1,m(!0)},[m]),j=a.useCallback(()=>{window.clearTimeout(u.current),u.current=0,m(!1)},[m]),N=a.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>{v.current=!0,m(!0),u.current=0},y)},[y,m]);return a.useEffect(()=>()=>{u.current&&(window.clearTimeout(u.current),u.current=0)},[]),d.jsx(ie,{...p,children:d.jsx(fe,{scope:n,contentId:x,open:b,stateAttribute:C,trigger:c,onTriggerChange:f,onTriggerEnter:a.useCallback(()=>{i.isOpenDelayedRef.current?N():E()},[i.isOpenDelayedRef,N,E]),onTriggerLeave:a.useCallback(()=>{g?j():(window.clearTimeout(u.current),u.current=0)},[j,g]),onOpen:E,onClose:j,disableHoverableContent:g,children:t})})};Y.displayName=R;var M="TooltipTrigger",K=a.forwardRef((e,n)=>{const{__scopeTooltip:t,...r}=e,o=k(M,t),s=O(M,t),l=D(t),h=a.useRef(null),i=z(n,h,o.onTriggerChange),p=a.useRef(!1),c=a.useRef(!1),f=a.useCallback(()=>p.current=!1,[]);return a.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),d.jsx(ne,{asChild:!0,...l,children:d.jsx(A.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...r,ref:i,onPointerMove:w(e.onPointerMove,x=>{x.pointerType!=="touch"&&!c.current&&!s.isPointerInTransitRef.current&&(o.onTriggerEnter(),c.current=!0)}),onPointerLeave:w(e.onPointerLeave,()=>{o.onTriggerLeave(),c.current=!1}),onPointerDown:w(e.onPointerDown,()=>{o.open&&o.onClose(),p.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:w(e.onFocus,()=>{p.current||o.onOpen()}),onBlur:w(e.onBlur,o.onClose),onClick:w(e.onClick,o.onClose)})})});K.displayName=M;var I="TooltipPortal",[he,xe]=_(I,{forceMount:void 0}),X=e=>{const{__scopeTooltip:n,forceMount:t,children:r,container:o}=e,s=k(I,n);return d.jsx(he,{scope:n,forceMount:t,children:d.jsx(B,{present:t||s.open,children:d.jsx(se,{asChild:!0,container:o,children:r})})})};X.displayName=I;var T="TooltipContent",G=a.forwardRef((e,n)=>{const t=xe(T,e.__scopeTooltip),{forceMount:r=t.forceMount,side:o="top",...s}=e,l=k(T,e.__scopeTooltip);return d.jsx(B,{present:r||l.open,children:l.disableHoverableContent?d.jsx(W,{side:o,...s,ref:n}):d.jsx(ge,{side:o,...s,ref:n})})}),ge=a.forwardRef((e,n)=>{const t=k(T,e.__scopeTooltip),r=O(T,e.__scopeTooltip),o=a.useRef(null),s=z(n,o),[l,h]=a.useState(null),{trigger:i,onClose:p}=t,c=o.current,{onPointerInTransitChange:f}=r,x=a.useCallback(()=>{h(null),f(!1)},[f]),u=a.useCallback((g,y)=>{const v=g.currentTarget,b={x:g.clientX,y:g.clientY},m=be(b,v.getBoundingClientRect()),C=we(b,m),E=Te(y.getBoundingClientRect()),j=Ee([...C,...E]);h(j),f(!0)},[f]);return a.useEffect(()=>()=>x(),[x]),a.useEffect(()=>{if(i&&c){const g=v=>u(v,c),y=v=>u(v,i);return i.addEventListener("pointerleave",g),c.addEventListener("pointerleave",y),()=>{i.removeEventListener("pointerleave",g),c.removeEventListener("pointerleave",y)}}},[i,c,u,x]),a.useEffect(()=>{if(l){const g=y=>{const v=y.target,b={x:y.clientX,y:y.clientY},m=(i==null?void 0:i.contains(v))||(c==null?void 0:c.contains(v)),C=!Ce(b,l);m?x():C&&(x(),p())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[i,c,l,p,x]),d.jsx(W,{...e,ref:s})}),[ve,ye]=_(R,{isInside:!1}),me=Z("TooltipContent"),W=a.forwardRef((e,n)=>{const{__scopeTooltip:t,children:r,"aria-label":o,onEscapeKeyDown:s,onPointerDownOutside:l,...h}=e,i=k(T,t),p=D(t),{onClose:c}=i;return a.useEffect(()=>(document.addEventListener(L,c),()=>document.removeEventListener(L,c)),[c]),a.useEffect(()=>{if(i.trigger){const f=x=>{var u;(u=x.target)!=null&&u.contains(i.trigger)&&c()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[i.trigger,c]),d.jsx(re,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:c,children:d.jsxs(oe,{"data-state":i.stateAttribute,...p,...h,ref:n,style:{...h.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(me,{children:r}),d.jsx(ve,{scope:t,isInside:!0,children:d.jsx(de,{id:i.contentId,role:"tooltip",children:o||r})})]})})});G.displayName=T;var $="TooltipArrow",q=a.forwardRef((e,n)=>{const{__scopeTooltip:t,...r}=e,o=D(t);return ye($,t).isInside?null:d.jsx(ae,{...o,...r,ref:n})});q.displayName=$;function be(e,n){const t=Math.abs(n.top-e.y),r=Math.abs(n.bottom-e.y),o=Math.abs(n.right-e.x),s=Math.abs(n.left-e.x);switch(Math.min(t,r,o,s)){case s:return"left";case o:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function we(e,n,t=5){const r=[];switch(n){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function Te(e){const{top:n,right:t,bottom:r,left:o}=e;return[{x:o,y:n},{x:t,y:n},{x:t,y:r},{x:o,y:r}]}function Ce(e,n){const{x:t,y:r}=e;let o=!1;for(let s=0,l=n.length-1;s<n.length;l=s++){const h=n[s],i=n[l],p=h.x,c=h.y,f=i.x,x=i.y;c>r!=x>r&&t<(f-p)*(r-c)/(x-c)+p&&(o=!o)}return o}function Ee(e){const n=e.slice();return n.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),je(n)}function je(e){if(e.length<=1)return e.slice();const n=[];for(let r=0;r<e.length;r++){const o=e[r];for(;n.length>=2;){const s=n[n.length-1],l=n[n.length-2];if((s.x-l.x)*(o.y-l.y)>=(s.y-l.y)*(o.x-l.x))n.pop();else break}n.push(o)}n.pop();const t=[];for(let r=e.length-1;r>=0;r--){const o=e[r];for(;t.length>=2;){const s=t[t.length-1],l=t[t.length-2];if((s.x-l.x)*(o.y-l.y)>=(s.y-l.y)*(o.x-l.x))t.pop();else break}t.push(o)}return t.pop(),n.length===1&&t.length===1&&n[0].x===t[0].x&&n[0].y===t[0].y?n:n.concat(t)}var Re=V,ke=Y,_e=K,De=X,Pe=G,Le=q;const Oe=Re,Me=e=>d.jsx(ke,{delayDuration:100,...e}),Ie=({asChild:e=!0,...n})=>d.jsx(_e,{asChild:e,...n}),Ne=Q("font-sans animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 overflow-hidden bg-slate-800 dark:ring-1 dark:ring-slate-700/80 text-slate-100 flex items-center",{variants:{variant:{default:"min-h-9 px-3 py-2 rounded-lg text-sm font-medium",compact:"text-xs px-2 py-1 rounded"}},defaultVariants:{variant:"default"}}),He=a.forwardRef(({className:e,sideOffset:n=10,variant:t="default",...r},o)=>d.jsx(Pe,{ref:o,sideOffset:n,className:J(Ne({variant:t}),e),...r})),Ae=Le,ze=De;export{Oe as T,P as V,Me as a,Ie as b,He as c,Ae as d,ze as e};
