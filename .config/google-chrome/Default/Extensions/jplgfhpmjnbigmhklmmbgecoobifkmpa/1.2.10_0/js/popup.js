!function(){var t={430:function(t,e,n){t.exports=n(627)},627:function(t,e){"use strict";var n=/(\w+)[-_].*/;function r(t,e){if(e[t])return e[t];var r=t.match(n);if(!r)throw new Error("Can't find lang or lcale with code "+t);return e[r[1]]}function o(t){return t>1}function i(t){return 1!==t}function a(t){return 0}var c={ach:{n:2,f:o},af:{n:2,f:i},ak:{n:2,f:o},am:{n:2,f:o},an:{n:2,f:i},ar:{n:6,f:function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5}},arn:{n:2,f:o},ast:{n:2,f:i},ay:{n:1,f:a},az:{n:2,f:i},be:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},bg:{n:2,f:i},bn:{n:2,f:i},bo:{n:1,f:a},br:{n:2,f:o},brx:{n:2,f:i},bs:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},ca:{n:2,f:i},cgg:{n:1,f:a},cs:{n:3,f:function(t){return 1===t?0:t>=2&&t<=4?1:2}},csb:{n:3,f:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},cy:{n:4,f:function(t){return 1===t?0:2===t?1:8!==t&&11!==t?2:3}},da:{n:2,f:i},de:{n:2,f:i},doi:{n:2,f:i},dz:{n:1,f:a},el:{n:2,f:i},en:{n:2,f:i},eo:{n:2,f:i},es:{n:2,f:i},et:{n:2,f:i},eu:{n:2,f:i},fa:{n:1,f:a},ff:{n:2,f:i},fi:{n:2,f:i},fil:{n:2,f:o},fo:{n:2,f:i},fr:{n:2,f:function(t){return t<=-2||t>=2}},fur:{n:2,f:i},fy:{n:2,f:i},ga:{n:5,f:function(t){return 1===t?0:2===t?1:t<7?2:t<11?3:4}},gd:{n:4,f:function(t){return 1===t||11===t?0:2===t||12===t?1:t>2&&t<20?2:3}},gl:{n:2,f:i},gu:{n:2,f:i},gun:{n:2,f:o},ha:{n:2,f:i},he:{n:2,f:i},hi:{n:2,f:i},hne:{n:2,f:i},hr:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},hu:{n:2,f:i},hy:{n:2,f:i},id:{n:1,f:a},is:{n:2,f:function(t){return t%10!=1||t%100==11}},it:{n:2,f:i},ja:{n:1,f:a},jbo:{n:1,f:a},jv:{n:2,f:function(t){return 0!==t}},ka:{n:1,f:a},kab:{n:2,f:i},kk:{n:2,f:i},km:{n:1,f:a},kn:{n:2,f:i},ko:{n:1,f:a},ku:{n:2,f:i},kw:{n:4,f:function(t){return 1===t?0:2===t?1:3===t?2:3}},ky:{n:1,f:a},lb:{n:2,f:i},ln:{n:2,f:o},lo:{n:1,f:a},lt:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2}},lv:{n:3,f:function(t){return t%10==1&&t%100!=11?0:0!==t?1:2}},mai:{n:2,f:i},mfe:{n:2,f:o},mg:{n:2,f:o},mi:{n:2,f:o},mk:{n:2,f:function(t){return 1===t||t%10==1?0:1}},ml:{n:2,f:i},mn:{n:2,f:i},mni:{n:2,f:i},mnk:{n:3,f:function(t){return 0===t?0:1===t?1:2}},mr:{n:2,f:i},ms:{n:1,f:a},mt:{n:4,f:function(t){return 1===t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3}},my:{n:1,f:a},nah:{n:2,f:i},nap:{n:2,f:i},nb:{n:2,f:i},ne:{n:2,f:i},nl:{n:2,f:i},nn:{n:2,f:i},no:{n:2,f:i},nso:{n:2,f:i},oc:{n:2,f:o},or:{n:2,f:i},pa:{n:2,f:i},pap:{n:2,f:i},pl:{n:3,f:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},pms:{n:2,f:i},ps:{n:2,f:i},pt:{n:2,f:i},rm:{n:2,f:i},ro:{n:3,f:function(t){return 1===t?0:0===t||t%100>0&&t%100<20?1:2}},ru:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},rw:{n:2,f:i},sah:{n:1,f:a},sat:{n:2,f:i},sco:{n:2,f:i},sd:{n:2,f:i},se:{n:2,f:i},si:{n:2,f:i},sk:{n:3,f:function(t){return 1===t?0:t>=2&&t<=4?1:2}},sl:{n:4,f:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0}},so:{n:2,f:i},son:{n:2,f:i},sq:{n:2,f:i},sr:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},su:{n:1,f:a},sv:{n:2,f:i},sw:{n:2,f:i},ta:{n:2,f:i},te:{n:2,f:i},tg:{n:2,f:o},th:{n:1,f:a},ti:{n:2,f:o},tk:{n:2,f:i},tr:{n:2,f:o},tt:{n:1,f:a},ug:{n:1,f:a},uk:{n:3,f:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2}},ur:{n:2,f:i},uz:{n:2,f:o},vi:{n:1,f:a},wa:{n:2,f:o},wo:{n:1,f:a},yo:{n:2,f:i},zh:{n:1,f:a}};var s={};e.getPluralFunc=function(t){if(s[t])return s[t];var e=r(t,c),n=function(t,n){return n[+e.f(t)]};return s[t]=n,n}},972:function(t){"use strict";t.exports={appVersion:"1.2.10",appId:"jplgfhpmjnbigmhklmmbgecoobifkmpa",baseDomainURL:"https://account.proton.me",tokenDuration:1200,proxyHost:null,proxyPort:4443,singleProxyPort:!1,proxySecureCorePort:443,scheme:"https",apiDomainsExclusion:[],proxyLocalNetworkExclusion:["localhost","127.0.0.1","127.0.0.0/8","127.0.0.1:80","10.0.0.0/8","172.16.0.0/12","192.168.0.0/16","[::1]","<local>"],signupEnabled:!0,torEnabled:!1,incompatibleSoftware:["ANSES","Bitdefender","eblocker.org","ESET Endpoint Security","Kaspersky","McAfee","opendns.com","Sophos","Zscaler"],sentry:"https://5c4abb94f5a644b38cf8e3261dfad0e3@reports.proton.me/api/core/v4/reports/sentry/67"}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";var t,e=function(){return"undefined"==typeof window||-1!==window.location.href.indexOf("_generated_background_page.html")},r=n(972),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},a=r.appVersion,c=function(){return"browser-vpn@"+a},s=r.appId,u=r.baseDomainURL,l="".concat(u,"/").concat(""),f="".concat(l,"vpn/dashboard"),d="".concat(u,"/api/"),p=new URL(d).hostname,v=r.sentry,h=(i([p],o(r.apiDomainsExclusion),!1),r.proxyLocalNetworkExclusion,r.signupEnabled),y=r.torEnabled,b=r.incompatibleSoftware,g=r.tokenDuration,m=(Math.floor(g/4),r.proxyHost,r.proxyPort,r.singleProxyPort,r.proxySecureCorePort,!0),w=(r.scheme,function(){return w=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},w.apply(this,arguments)}),x=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},_=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}};!function(t){t.LOCAL="local",t.SESSION="session",t.SYNC="sync"}(t||(t={}));var S=t.LOCAL,E=S,k="bex-",C=function(e){return e===t.SESSION?sessionStorage:localStorage},O={getDefinedItem:function(t,e){return x(this,arguments,void 0,function(t,e,n){return void 0===n&&(n=S),_(this,function(r){switch(r.label){case 0:return[4,this.getItem(t,e,n)];case 1:return[2,r.sent()||e]}})})},getItem:function(e){return x(this,arguments,void 0,function(e,n,r){var o,i,a,c,s,u;return void 0===n&&(n=void 0),void 0===r&&(r=S),_(this,function(l){switch(l.label){case 0:o=k+e,l.label=1;case 1:return l.trys.push([1,5,,10]),[4,new Promise(function(t){chrome.storage[r].get(o,t)})];case 2:return"object"==typeof(i=l.sent())&&i.hasOwnProperty(o)?[2,i[o]]:r===t.LOCAL&&t.SESSION in chrome.storage?[4,new Promise(function(e){chrome.storage[t.SESSION].get(o,e)})]:[3,4];case 3:if("object"==typeof(a=l.sent())&&a.hasOwnProperty(o))return[2,a[o]];l.label=4;case 4:return[2,n];case 5:l.sent(),c=C(r),l.label=6;case 6:return l.trys.push([6,8,,9]),[4,c.getItem(o)];case 7:return"string"==typeof(s=l.sent())?[2,JSON.parse(s)]:[2,n];case 8:return l.sent(),[2,(u=window.bexStorage||(window.bexStorage={})).hasOwnProperty(e)?u[e]:n];case 9:return[3,10];case 10:return[2]}})})},setItem:function(t,e){return x(this,arguments,void 0,function(t,e,n){var r,o,i;return void 0===n&&(n=S),_(this,function(a){switch(a.label){case 0:r=k+t,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,chrome.storage[n].set((i={},i[r]=e,i))];case 2:return a.sent(),[3,4];case 3:a.sent(),o=JSON.stringify(e);try{C(n).setItem(r,o)}catch(n){(window.bexStorage||(window.bexStorage={}))[t]=e}return[3,4];case 4:return[2]}})})},removeItem:function(t){return x(this,arguments,void 0,function(t,e){var n;return void 0===e&&(e=S),_(this,function(r){switch(r.label){case 0:n=k+t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,chrome.storage[e].remove(n)];case 2:return r.sent(),[3,4];case 3:r.sent();try{C(e).removeItem(n)}catch(e){delete(window.bexStorage||(window.bexStorage={}))[t]}return[3,4];case 4:return[2]}})})},item:function(t,e,n){void 0===e&&(e=S),void 0===n&&(n="value");var r=this;return{key:t,get:function(n){return void 0===n&&(n=void 0),r.getItem(t,n,e)},getDefined:function(n){return r.getDefinedItem(t,n,e)},load:function(){return x(this,arguments,void 0,function(n){var o;return void 0===n&&(n=void 0),_(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,r.getItem(t,n,e)];case 1:return[2,"object"==typeof(o=i.sent())?o:{}];case 2:return i.sent(),[2,{}];case 3:return[2]}})})},set:function(n){return r.setItem(t,n,e)},setValue:function(t,e){var r;return void 0===e&&(e={}),this.set(w(((r={time:Date.now()})[n]=t,r),e))},remove:function(){return r.removeItem(t,e)}}},selfItem:function(t,e){return void 0===e&&(e=S),this.item(t,e,t)}};const T=Object.prototype.toString;function P(t){switch(T.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return $(t,Error)}}function I(t,e){return T.call(t)===`[object ${e}]`}function j(t){return I(t,"ErrorEvent")}function A(t){return I(t,"DOMError")}function L(t){return I(t,"String")}function N(t){return"object"==typeof t&&null!==t&&"__sentry_template_string__"in t&&"__sentry_template_values__"in t}function D(t){return null===t||N(t)||"object"!=typeof t&&"function"!=typeof t}function R(t){return I(t,"Object")}function M(t){return"undefined"!=typeof Event&&$(t,Event)}function U(t){return Boolean(t?.then&&"function"==typeof t.then)}function $(t,e){try{return t instanceof e}catch{return!1}}function q(t){return!("object"!=typeof t||null===t||!t.__isVue&&!t._isVue)}function B(t){return new H(e=>{e(t)})}function F(t){return new H((e,n)=>{n(t)})}class H{constructor(t){this._state=0,this._handlers=[],this._runExecutor(t)}then(t,e){return new H((n,r)=>{this._handlers.push([!1,e=>{if(t)try{n(t(e))}catch(t){r(t)}else n(e)},t=>{if(e)try{n(e(t))}catch(t){r(t)}else r(t)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new H((e,n)=>{let r,o;return this.then(e=>{o=!1,r=e,t&&t()},e=>{o=!0,r=e,t&&t()}).then(()=>{o?n(r):e(r)})})}_executeHandlers(){if(0===this._state)return;const t=this._handlers.slice();this._handlers=[],t.forEach(t=>{t[0]||(1===this._state&&t[1](this._value),2===this._state&&t[2](this._value),t[0]=!0)})}_runExecutor(t){const e=(t,e)=>{0===this._state&&(U(e)?e.then(n,r):(this._state=t,this._value=e,this._executeHandlers()))},n=t=>{e(1,t)},r=t=>{e(2,t)};try{t(n,r)}catch(t){r(t)}}}const G="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,V="10.11.0",z=globalThis;function W(){return Y(z),z}function Y(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||V,e[V]=e[V]||{}}function J(t,e,n=z){const r=n.__SENTRY__=n.__SENTRY__||{},o=r[V]=r[V]||{};return o[t]||(o[t]=e())}const K=["debug","info","warn","error","log","assert","trace"],Z={};function X(t){if(!("console"in z))return t();const e=z.console,n={},r=Object.keys(Z);r.forEach(t=>{const r=Z[t];n[t]=e[t],e[t]=r});try{return t()}finally{r.forEach(t=>{e[t]=n[t]})}}function Q(){return et().enabled}function tt(t,...e){G&&Q()&&X(()=>{z.console[t](`Sentry Logger [${t}]:`,...e)})}function et(){return G?J("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const nt={enable:function(){et().enabled=!0},disable:function(){et().enabled=!1},isEnabled:Q,log:function(...t){tt("log",...t)},warn:function(...t){tt("warn",...t)},error:function(...t){tt("error",...t)}},rt=/^o(\d+)\./,ot=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function it(t,e=!1){const{host:n,path:r,pass:o,port:i,projectId:a,protocol:c,publicKey:s}=t;return`${c}://${s}${e&&o?`:${o}`:""}@${n}${i?`:${i}`:""}/${r?`${r}/`:r}${a}`}function at(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function ct(t){const e=t.getOptions(),{host:n}=t.getDsn()||{};let r;return e.orgId?r=String(e.orgId):n&&(r=function(t){const e=t.match(rt);return e?.[1]}(n)),r}function st(t){const e="string"==typeof t?function(t){const e=ot.exec(t);if(!e)return void X(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});const[n,r,o="",i="",a="",c=""]=e.slice(1);let s="",u=c;const l=u.split("/");if(l.length>1&&(s=l.slice(0,-1).join("/"),u=l.pop()),u){const t=u.match(/^\d+/);t&&(u=t[0])}return at({host:i,pass:o,path:s,projectId:u,port:a,protocol:n,publicKey:r})}(t):at(t);if(e&&function(t){if(!G)return!0;const{port:e,projectId:n,protocol:r}=t;return!(["protocol","publicKey","host","projectId"].find(e=>!t[e]&&(nt.error(`Invalid Sentry Dsn: ${e} missing`),!0))||(n.match(/^\d+$/)?function(t){return"http"===t||"https"===t}(r)?e&&isNaN(parseInt(e,10))&&(nt.error(`Invalid Sentry Dsn: Invalid port ${e}`),1):(nt.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(nt.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)))}(e))return e}const ut=z;function lt(t,e={}){if(!t)return"<unknown>";try{let n=t;const r=5,o=[];let i=0,a=0;const c=" > ",s=c.length;let u;const l=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||80;for(;n&&i++<r&&(u=ft(n,l),!("html"===u||i>1&&a+o.length*s+u.length>=f));)o.push(u),a+=u.length,n=n.parentNode;return o.reverse().join(c)}catch{return"<unknown>"}}function ft(t,e){const n=t,r=[];if(!n?.tagName)return"";if(ut.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=e?.length?e.filter(t=>n.getAttribute(t)).map(t=>[t,n.getAttribute(t)]):null;if(o?.length)o.forEach(t=>{r.push(`[${t[0]}="${t[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const t=n.className;if(t&&L(t)){const e=t.split(/\s+/);for(const t of e)r.push(`.${t}`)}}const i=["aria-label","type","name","title","alt"];for(const t of i){const e=n.getAttribute(t);e&&r.push(`[${t}="${e}"]`)}return r.join("")}function dt(){try{return ut.document.location.href}catch{return""}}function pt(t,e=0){return"string"!=typeof t||0===e||t.length<=e?t:`${t.slice(0,e)}...`}function vt(t,e){if(!Array.isArray(t))return"";const n=[];for(let e=0;e<t.length;e++){const r=t[e];try{q(r)?n.push("[VueViewModel]"):n.push(String(r))}catch{n.push("[value cannot be serialized]")}}return n.join(e)}function ht(t,e,n=!1){return!!L(t)&&(I(e,"RegExp")?e.test(t):!!L(e)&&(n?t===e:t.includes(e)))}function yt(t,e=[],n=!1){return e.some(e=>ht(t,e,n))}function bt(t,e,n){if(!(e in t))return;const r=t[e];if("function"!=typeof r)return;const o=n(r);"function"==typeof o&&mt(o,r);try{t[e]=o}catch{G&&nt.log(`Failed to replace method "${e}" in object`,t)}}function gt(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{G&&nt.log(`Failed to add non-enumerable property "${e}" to object`,t)}}function mt(t,e){try{const n=e.prototype||{};t.prototype=e.prototype=n,gt(t,"__sentry_original__",e)}catch{}}function wt(t){return t.__sentry_original__}function xt(t){if(P(t))return{message:t.message,name:t.name,stack:t.stack,...St(t)};if(M(t)){const e={type:t.type,target:_t(t.target),currentTarget:_t(t.currentTarget),...St(t)};return"undefined"!=typeof CustomEvent&&$(t,CustomEvent)&&(e.detail=t.detail),e}return t}function _t(t){try{return e=t,"undefined"!=typeof Element&&$(e,Element)?lt(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}var e}function St(t){if("object"==typeof t&&null!==t){const e={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}return{}}const Et="?",kt=/\(error: (.*)\)/,Ct=/captureMessage|captureException/;function Ot(...t){const e=t.sort((t,e)=>t[0]-e[0]).map(t=>t[1]);return(t,n=0,r=0)=>{const o=[],i=t.split("\n");for(let t=n;t<i.length;t++){let n=i[t];n.length>1024&&(n=n.slice(0,1024));const a=kt.test(n)?n.replace(kt,"$1"):n;if(!a.match(/\S*Error: /)){for(const t of e){const e=t(a);if(e){o.push(e);break}}if(o.length>=50+r)break}}return function(t){if(!t.length)return[];const e=Array.from(t);/sentryWrapped/.test(Tt(e).function||"")&&e.pop();e.reverse(),Ct.test(Tt(e).function||"")&&(e.pop(),Ct.test(Tt(e).function||"")&&e.pop());return e.slice(0,50).map(t=>({...t,filename:t.filename||Tt(e).filename,function:t.function||Et}))}(o.slice(r))}}function Tt(t){return t[t.length-1]||{}}const Pt="<anonymous>";function It(t){try{return t&&"function"==typeof t&&t.name||Pt}catch{return Pt}}function jt(t){const e=t.exception;if(e){const t=[];try{return e.values.forEach(e=>{e.stacktrace.frames&&t.push(...e.stacktrace.frames)}),t}catch{return}}}function At(t,e=100,n=1/0){try{return Nt("",t,e,n)}catch(t){return{ERROR:`**non-serializable** (${t})`}}}function Lt(t,e=3,n=102400){const r=At(t,e);return o=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(o))>n?Lt(t,e-1,n):r;var o}function Nt(t,e,n=1/0,r=1/0,o=function(){const t=new WeakSet;function e(e){return!!t.has(e)||(t.add(e),!1)}function n(e){t.delete(e)}return[e,n]}()){const[i,a]=o;if(null==e||["boolean","string"].includes(typeof e)||"number"==typeof e&&Number.isFinite(e))return e;const c=function(t,e){try{if("domain"===t&&e&&"object"==typeof e&&e._events)return"[Domain]";if("domainEmitter"===t)return"[DomainEmitter]";if("undefined"!=typeof global&&e===global)return"[Global]";if("undefined"!=typeof window&&e===window)return"[Window]";if("undefined"!=typeof document&&e===document)return"[Document]";if(q(e))return"[VueViewModel]";if(R(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n)return"[SyntheticEvent]";if("number"==typeof e&&!Number.isFinite(e))return`[${e}]`;if("function"==typeof e)return`[Function: ${It(e)}]`;if("symbol"==typeof e)return`[${String(e)}]`;if("bigint"==typeof e)return`[BigInt: ${String(e)}]`;const r=function(t){const e=Object.getPrototypeOf(t);return e?.constructor?e.constructor.name:"null prototype"}(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(t){return`**non-serializable** (${t})`}var n}(t,e);if(!c.startsWith("[object "))return c;if(e.__sentry_skip_normalization__)return e;const s="number"==typeof e.__sentry_override_normalization_depth__?e.__sentry_override_normalization_depth__:n;if(0===s)return c.replace("object ","");if(i(e))return"[Circular ~]";const u=e;if(u&&"function"==typeof u.toJSON)try{return Nt("",u.toJSON(),s-1,r,o)}catch{}const l=Array.isArray(e)?[]:{};let f=0;const d=xt(e);for(const t in d){if(!Object.prototype.hasOwnProperty.call(d,t))continue;if(f>=r){l[t]="[MaxProperties ~]";break}const e=d[t];l[t]=Nt(t,e,s-1,r,o),f++}return a(e),l}function Dt(t,e=[]){return[t,e]}function Rt(t,e){const[n,r]=t;return[n,[...r,e]]}function Mt(t,e){const n=t[1];for(const t of n){if(e(t,t[0].type))return!0}return!1}function Ut(t){const e=Y(z);return e.encodePolyfill?e.encodePolyfill(t):(new TextEncoder).encode(t)}function $t(t){const[e,n]=t;let r=JSON.stringify(e);function o(t){"string"==typeof r?r="string"==typeof t?r+t:[Ut(r),t]:r.push("string"==typeof t?Ut(t):t)}for(const t of n){const[e,n]=t;if(o(`\n${JSON.stringify(e)}\n`),"string"==typeof n||n instanceof Uint8Array)o(n);else{let t;try{t=JSON.stringify(n)}catch{t=JSON.stringify(At(n))}o(t)}}return"string"==typeof r?r:function(t){const e=t.reduce((t,e)=>t+e.length,0),n=new Uint8Array(e);let r=0;for(const e of t)n.set(e,r),r+=e.length;return n}(r)}function qt(t){const e="string"==typeof t.data?Ut(t.data):t.data;return[{type:"attachment",length:e.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType},e]}const Bt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Ft(t){return Bt[t]}function Ht(t){if(!t?.sdk)return;const{name:e,version:n}=t.sdk;return{name:e,version:n}}const Gt=Symbol.for("SentryBufferFullError");function Vt(t){const e=[];function n(t){return e.splice(e.indexOf(t),1)[0]||Promise.resolve(void 0)}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return F(Gt);const o=r();return-1===e.indexOf(o)&&e.push(o),o.then(()=>n(o)).then(null,()=>n(o).then(null,()=>{})),o},drain:function(t){return new H((n,r)=>{let o=e.length;if(!o)return n(!0);const i=setTimeout(()=>{t&&t>0&&n(!1)},t);e.forEach(t=>{B(t).then(()=>{--o||(clearTimeout(i),n(!0))},r)})})}}}function zt(t,{statusCode:e,headers:n},r=Date.now()){const o={...t},i=n?.["x-sentry-rate-limits"],a=n?.["retry-after"];if(i)for(const t of i.trim().split(",")){const[e,n,,,i]=t.split(":",5),a=parseInt(e,10),c=1e3*(isNaN(a)?60:a);if(n)for(const t of n.split(";"))"metric_bucket"===t&&i&&!i.split(";").includes("custom")||(o[t]=r+c);else o.all=r+c}else a?o.all=r+function(t,e=Date.now()){const n=parseInt(`${t}`,10);if(!isNaN(n))return 1e3*n;const r=Date.parse(`${t}`);return isNaN(r)?6e4:r-e}(a,r):429===e&&(o.all=r+6e4);return o}function Wt(t,e,n=Vt(t.bufferSize||64)){let r={};return{send:function(o){const i=[];if(Mt(o,(e,n)=>{const o=Ft(n);!function(t,e,n=Date.now()){return function(t,e){return t[e]||t.all||0}(t,e)>n}(r,o)?i.push(e):t.recordDroppedEvent("ratelimit_backoff",o)}),0===i.length)return B({});const a=Dt(o[0],i),c=e=>{Mt(a,(n,r)=>{t.recordDroppedEvent(e,Ft(r))})};return n.add(()=>e({body:$t(a)}).then(t=>(void 0!==t.statusCode&&(t.statusCode<200||t.statusCode>=300)&&G&&nt.warn(`Sentry responded with status code ${t.statusCode} to sent event.`),r=zt(r,t),t),t=>{throw c("network_error"),G&&nt.error("Encountered error running transport request:",t),t})).then(t=>t,t=>{if(t===Gt)return G&&nt.error("Skipped sending event because buffer is full."),c("queue_overflow"),B({});throw t})},flush:t=>n.drain(t)}}const Yt=z;function Jt(){if(!("fetch"in Yt))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Kt(t){return t&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}const Zt="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Xt=z,Qt={};function te(t){const e=Qt[t];if(e)return e;let n=Xt[t];if(Kt(n))return Qt[t]=n.bind(Xt);const r=Xt.document;if(r&&"function"==typeof r.createElement)try{const e=r.createElement("iframe");e.hidden=!0,r.head.appendChild(e);const o=e.contentWindow;o?.[t]&&(n=o[t]),r.head.removeChild(e)}catch(e){Zt&&nt.warn(`Could not create sandbox iframe for ${t} check, bailing to window.${t}: `,e)}return n?Qt[t]=n.bind(Xt):n}function ee(t){Qt[t]=void 0}const ne=[];function re(t,e){for(const n of e)n?.afterAllSetup&&n.afterAllSetup(t)}function oe(t,e,n){if(n[e.name])G&&nt.log(`Integration skipped because it was already installed: ${e.name}`);else{if(n[e.name]=e,-1===ne.indexOf(e.name)&&"function"==typeof e.setupOnce&&(e.setupOnce(),ne.push(e.name)),e.setup&&"function"==typeof e.setup&&e.setup(t),"function"==typeof e.preprocessEvent){const n=e.preprocessEvent.bind(e);t.on("preprocessEvent",(e,r)=>n(e,r,t))}if("function"==typeof e.processEvent){const n=e.processEvent.bind(e),r=Object.assign((e,r)=>n(e,r,t),{id:e.name});t.addEventProcessor(r)}G&&nt.log(`Integration installed: ${e.name}`)}}function ie(t){const e=[];t.message&&e.push(t.message);try{const n=t.exception.values[t.exception.values.length-1];n?.value&&(e.push(n.value),n.type&&e.push(`${n.type}: ${n.value}`))}catch{}return e}function ae(t=function(){const t=z;return t.crypto||t.msCrypto}()){let e=()=>16*Math.random();try{if(t?.randomUUID)return t.randomUUID().replace(/-/g,"");t?.getRandomValues&&(e=()=>{const e=new Uint8Array(1);return t.getRandomValues(e),e[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,t=>(t^(15&e())>>t/4).toString(16))}function ce(t){return t.exception?.values?.[0]}function se(t){const{message:e,event_id:n}=t;if(e)return e;const r=ce(t);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function ue(t,e,n){const r=t.exception=t.exception||{},o=r.values=r.values||[],i=o[0]=o[0]||{};i.value||(i.value=e||""),i.type||(i.type=n||"Error")}function le(t,e){const n=ce(t);if(!n)return;const r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...e},e&&"data"in e){const t={...r?.data,...e.data};n.mechanism.data=t}}function fe(t){if(function(t){try{return t.__sentry_captured__}catch{}}(t))return!0;try{gt(t,"__sentry_captured__",!0)}catch{}return!1}const de=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],pe=(t={})=>{let e;return{name:"EventFilters",setup(n){const r=n.getOptions();e=he(t,r)},processEvent(n,r,o){if(!e){const n=o.getOptions();e=he(t,n)}return function(t,e){if(t.type){if("transaction"===t.type&&function(t,e){if(!e?.length)return!1;const n=t.transaction;return!!n&&yt(n,e)}(t,e.ignoreTransactions))return G&&nt.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${se(t)}`),!0}else{if(function(t,e){if(!e?.length)return!1;return ie(t).some(t=>yt(t,e))}(t,e.ignoreErrors))return G&&nt.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${se(t)}`),!0;if(function(t){if(!t.exception?.values?.length)return!1;return!t.message&&!t.exception.values.some(t=>t.stacktrace||t.type&&"Error"!==t.type||t.value)}(t))return G&&nt.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${se(t)}`),!0;if(function(t,e){if(!e?.length)return!1;const n=ye(t);return!!n&&yt(n,e)}(t,e.denyUrls))return G&&nt.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${se(t)}.\nUrl: ${ye(t)}`),!0;if(!function(t,e){if(!e?.length)return!0;const n=ye(t);return!n||yt(n,e)}(t,e.allowUrls))return G&&nt.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${se(t)}.\nUrl: ${ye(t)}`),!0}return!1}(n,e)?null:n}}},ve=(t={})=>({...pe(t),name:"InboundFilters"});function he(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...t.disableErrorDefaults?[]:de],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]]}}function ye(t){try{const e=[...t.exception?.values??[]].reverse().find(t=>void 0===t.mechanism?.parent_id&&t.stacktrace?.frames?.length),n=e?.stacktrace?.frames;return n?function(t=[]){for(let e=t.length-1;e>=0;e--){const n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}(n):null}catch{return G&&nt.error(`Cannot extract url for event ${se(t)}`),null}}function be(){return Date.now()/1e3}let ge;function me(){return(ge??(ge=function(){const{performance:t}=z;if(!t?.now||!t.timeOrigin)return be;const e=t.timeOrigin;return()=>(e+t.now())/1e3}()))()}function we(t){const e=me(),n={sid:ae(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(t){return{sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,abnormal_mechanism:t.abnormal_mechanism,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}}}(n)};return t&&xe(n,t),n}function xe(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),t.did||e.did||(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||me(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=32===e.sid.length?e.sid:ae()),void 0!==e.init&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),"number"==typeof e.started&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof e.duration)t.duration=e.duration;else{const e=t.timestamp-t.started;t.duration=e>=0?e:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),"number"==typeof e.errors&&(t.errors=e.errors),e.status&&(t.status=e.status)}function _e(t,e,n=2){if(!e||"object"!=typeof e||n<=0)return e;if(t&&0===Object.keys(e).length)return t;const r={...t};for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=_e(r[t],e[t],n-1));return r}function Se(){return ae()}function Ee(){return ae().substring(16)}const ke="_sentrySpan";function Ce(t,e){e?gt(t,ke,e):delete t[ke]}function Oe(t){return t[ke]}class Te{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Se(),sampleRand:Math.random()}}clone(){const t=new Te;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,Ce(t,Oe(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&xe(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,e){return this._tags={...this._tags,[t]:e},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,e){return this._extra={...this._extra,[t]:e},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,e){return null===e?delete this._contexts[t]:this._contexts[t]=e,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const e="function"==typeof t?t(this):t,n=e instanceof Te?e.getScopeData():R(e)?t:void 0,{tags:r,extra:o,user:i,contexts:a,level:c,fingerprint:s=[],propagationContext:u}=n||{};return this._tags={...this._tags,...r},this._extra={...this._extra,...o},this._contexts={...this._contexts,...a},i&&Object.keys(i).length&&(this._user=i),c&&(this._level=c),s.length&&(this._fingerprint=s),u&&(this._propagationContext=u),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,Ce(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Se(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,e){const n="number"==typeof e?e:100;if(n<=0)return this;const r={timestamp:be(),...t,message:t.message?pt(t.message,2048):t.message};return this._breadcrumbs.push(r),this._breadcrumbs.length>n&&(this._breadcrumbs=this._breadcrumbs.slice(-n),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Oe(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=_e(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,e){const n=e?.event_id||ae();if(!this._client)return G&&nt.warn("No client configured on scope - will not capture exception!"),n;const r=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:r,...e,event_id:n},this),n}captureMessage(t,e,n){const r=n?.event_id||ae();if(!this._client)return G&&nt.warn("No client configured on scope - will not capture message!"),r;const o=new Error(t);return this._client.captureMessage(t,e,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureEvent(t,e){const n=e?.event_id||ae();return this._client?(this._client.captureEvent(t,{...e,event_id:n},this),n):(G&&nt.warn("No client configured on scope - will not capture event!"),n)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}class Pe{constructor(t,e){let n,r;n=t||new Te,r=e||new Te,this._stack=[{scope:n}],this._isolationScope=r}withScope(t){const e=this._pushScope();let n;try{n=t(e)}catch(t){throw this._popScope(),t}return U(n)?n.then(t=>(this._popScope(),t),t=>{throw this._popScope(),t}):(this._popScope(),n)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop()}}function Ie(){const t=Y(W());return t.stack=t.stack||new Pe(J("defaultCurrentScope",()=>new Te),J("defaultIsolationScope",()=>new Te))}function je(t){return Ie().withScope(t)}function Ae(t,e){const n=Ie();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function Le(t){return Ie().withScope(()=>t(Ie().getIsolationScope()))}function Ne(t){const e=Y(t);return e.acs?e.acs:{withIsolationScope:Le,withScope:je,withSetScope:Ae,withSetIsolationScope:(t,e)=>Le(e),getCurrentScope:()=>Ie().getScope(),getIsolationScope:()=>Ie().getIsolationScope()}}function De(){return Ne(W()).getCurrentScope()}function Re(){return Ne(W()).getIsolationScope()}function Me(){return De().getClient()}function Ue(t){const e=t.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=e,i={trace_id:n,span_id:o||Ee()};return r&&(i.parent_span_id=r),i}let $e;const qe=new WeakMap,Be=()=>({name:"FunctionToString",setupOnce(){$e=Function.prototype.toString;try{Function.prototype.toString=function(...t){const e=wt(this),n=qe.has(Me())&&void 0!==e?e:this;return $e.apply(n,t)}}catch{}},setup(t){qe.set(t,!0)}}),Fe=()=>{let t;return{name:"Dedupe",processEvent(e){if(e.type)return e;try{if(function(t,e){if(!e)return!1;if(function(t,e){const n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Ge(t,e))return!1;if(!He(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){const n=Ve(e),r=Ve(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Ge(t,e))return!1;if(!He(t,e))return!1;return!0}(t,e))return!0;return!1}(e,t))return G&&nt.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return t=e}}};function He(t,e){let n=jt(t),r=jt(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(let t=0;t<r.length;t++){const e=r[t],o=n[t];if(e.filename!==o.filename||e.lineno!==o.lineno||e.colno!==o.colno||e.function!==o.function)return!1}return!0}function Ge(t,e){let n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch{return!1}}function Ve(t){return t.exception?.values?.[0]}const ze={},We={};function Ye(t,e){ze[t]=ze[t]||[],ze[t].push(e)}function Je(t,e){if(!We[t]){We[t]=!0;try{e()}catch(e){G&&nt.error(`Error while instrumenting ${t}`,e)}}}function Ke(t,e){const n=t&&ze[t];if(n)for(const r of n)try{r(e)}catch(e){G&&nt.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${It(r)}\nError:`,e)}}function Ze(){"console"in z&&K.forEach(function(t){t in z.console&&bt(z.console,t,function(e){return Z[t]=e,function(...e){Ke("console",{args:e,level:t});const n=Z[t];n?.apply(z.console,e)}})})}function Xe(t,e=!1){e&&!function(){if("string"==typeof EdgeRuntime)return!0;if(!Jt())return!1;if(Kt(Yt.fetch))return!0;let t=!1;const e=Yt.document;if(e&&"function"==typeof e.createElement)try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n),n.contentWindow?.fetch&&(t=Kt(n.contentWindow.fetch)),e.head.removeChild(n)}catch(t){G&&nt.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return t}()||bt(z,"fetch",function(e){return function(...n){const r=new Error,{method:o,url:i}=function(t){if(0===t.length)return{method:"GET",url:""};if(2===t.length){const[e,n]=t;return{url:tn(e),method:Qe(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:tn(e),method:Qe(e,"method")?String(e.method).toUpperCase():"GET"}}(n),a={args:n,fetchData:{method:o,url:i},startTimestamp:1e3*me(),virtualError:r,headers:en(n)};return t||Ke("fetch",{...a}),e.apply(z,n).then(async e=>(t?t(e):Ke("fetch",{...a,endTimestamp:1e3*me(),response:e}),e),t=>{if(Ke("fetch",{...a,endTimestamp:1e3*me(),error:t}),P(t)&&void 0===t.stack&&(t.stack=r.stack,gt(t,"framesToPop",1)),t instanceof TypeError&&("Failed to fetch"===t.message||"Load failed"===t.message||"NetworkError when attempting to fetch resource."===t.message))try{const e=new URL(a.fetchData.url);t.message=`${t.message} (${e.host})`}catch{}throw t})}})}function Qe(t,e){return!!t&&"object"==typeof t&&!!t[e]}function tn(t){return"string"==typeof t?t:t?Qe(t,"url")?t.url:t.toString?t.toString():"":""}function en(t){const[e,n]=t;try{if("object"==typeof n&&null!==n&&"headers"in n&&n.headers)return new Headers(n.headers);if(r=e,"undefined"!=typeof Request&&$(r,Request))return new Headers(e.headers)}catch{}var r}const nn=100;function rn(t,e){const n=Me(),r=Re();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:i=nn}=n.getOptions();if(i<=0)return;const a={timestamp:be(),...t},c=o?X(()=>o(a,e)):a;null!==c&&(n.emit&&n.emit("beforeAddBreadcrumb",c,e),r.addBreadcrumb(c,i))}function on(t){return"warn"===t?"warning":["fatal","error","warning","log","info","debug"].includes(t)?t:"log"}function an(t){return void 0===t?void 0:t>=400&&t<500?"warning":t>=500?"error":void 0}function cn(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:n,hash:r,relative:e[5]+n+r}}let sn,un,ln;function fn(){if(!Xt.document)return;const t=Ke.bind(null,"dom"),e=dn(t,!0);Xt.document.addEventListener("click",e,!1),Xt.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(e=>{const n=Xt,r=n[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(bt(r,"addEventListener",function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{const r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},i=r[n]=r[n]||{refCount:0};if(!i.handler){const r=dn(t);i.handler=r,e.call(this,n,r,o)}i.refCount++}catch{}return e.call(this,n,r,o)}}),bt(r,"removeEventListener",function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{const n=this.__sentry_instrumentation_handlers__||{},o=n[e];o&&(o.refCount--,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete n[e]),0===Object.keys(n).length&&delete this.__sentry_instrumentation_handlers__)}catch{}return t.call(this,e,n,r)}}))})}function dn(t,e=!1){return n=>{if(!n||n._sentryCaptured)return;const r=function(t){try{return t.target}catch{return null}}(n);if(function(t,e){return"keypress"===t&&(!e?.tagName||"INPUT"!==e.tagName&&"TEXTAREA"!==e.tagName&&!e.isContentEditable)}(n.type,r))return;gt(n,"_sentryCaptured",!0),r&&!r._sentryId&&gt(r,"_sentryId",ae());const o="keypress"===n.type?"input":n.type;if(!function(t){if(t.type!==un)return!1;try{if(!t.target||t.target._sentryId!==ln)return!1}catch{}return!0}(n)){t({event:n,name:o,global:e}),un=n.type,ln=r?r._sentryId:void 0}clearTimeout(sn),sn=Xt.setTimeout(()=>{ln=void 0,un=void 0},1e3)}}const pn="__sentry_xhr_v3__";function vn(){if(!Xt.XMLHttpRequest)return;const t=XMLHttpRequest.prototype;t.open=new Proxy(t.open,{apply(t,e,n){const r=new Error,o=1e3*me(),i=L(n[0])?n[0].toUpperCase():void 0,a=function(t){if(L(t))return t;try{return t.toString()}catch{}return}(n[1]);if(!i||!a)return t.apply(e,n);e[pn]={method:i,url:a,request_headers:{}},"POST"===i&&a.match(/sentry_key/)&&(e.__sentry_own_request__=!0);const c=()=>{const t=e[pn];if(t&&4===e.readyState){try{t.status_code=e.status}catch{}Ke("xhr",{endTimestamp:1e3*me(),startTimestamp:o,xhr:e,virtualError:r})}};return"onreadystatechange"in e&&"function"==typeof e.onreadystatechange?e.onreadystatechange=new Proxy(e.onreadystatechange,{apply(t,e,n){return c(),t.apply(e,n)}}):e.addEventListener("readystatechange",c),e.setRequestHeader=new Proxy(e.setRequestHeader,{apply(t,e,n){const[r,o]=n,i=e[pn];return i&&L(r)&&L(o)&&(i.request_headers[r.toLowerCase()]=o),t.apply(e,n)}}),t.apply(e,n)}}),t.send=new Proxy(t.send,{apply(t,e,n){const r=e[pn];if(!r)return t.apply(e,n);void 0!==n[0]&&(r.body=n[0]);return Ke("xhr",{startTimestamp:1e3*me(),xhr:e}),t.apply(e,n)}})}let hn;function yn(t){const e="history";Ye(e,t),Je(e,bn)}function bn(){function t(t){return function(...e){const n=e.length>2?e[2]:void 0;if(n){const r=hn,o=function(t){try{return new URL(t,Xt.location.origin).toString()}catch{return t}}(String(n));if(hn=o,r===o)return t.apply(this,e);Ke("history",{from:r,to:o})}return t.apply(this,e)}}Xt.addEventListener("popstate",()=>{const t=Xt.location.href,e=hn;if(hn=t,e===t)return;Ke("history",{from:e,to:t})}),"history"in Yt&&Yt.history&&(bt(Xt.history,"pushState",t),bt(Xt.history,"replaceState",t))}const gn="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,mn="production";function wn(t,e,n,r=0){return new H((o,i)=>{const a=t[r];if(null===e||"function"!=typeof a)o(e);else{const c=a({...e},n);G&&a.id&&null===c&&nt.log(`Event processor "${a.id}" dropped event`),U(c)?c.then(e=>wn(t,e,n,r+1).then(o)).then(null,i):wn(t,c,n,r+1).then(o).then(null,i)}})}const xn="sentry.profile_id",_n="sentry.exclusive_time",Sn=/^sentry-/;function En(t){const e=function(t){if(!t||!L(t)&&!Array.isArray(t))return;if(Array.isArray(t))return t.reduce((t,e)=>{const n=kn(e);return Object.entries(n).forEach(([e,n])=>{t[e]=n}),t},{});return kn(t)}(t);if(!e)return;const n=Object.entries(e).reduce((t,[e,n])=>{if(e.match(Sn)){t[e.slice(7)]=n}return t},{});return Object.keys(n).length>0?n:void 0}function kn(t){return t.split(",").map(t=>t.split("=").map(t=>{try{return decodeURIComponent(t.trim())}catch{return}})).reduce((t,[e,n])=>(e&&n&&(t[e]=n),t),{})}const Cn="_sentryScope",On="_sentryIsolationScope";function Tn(t){return{scope:t[Cn],isolationScope:t[On]}}let Pn=!1;function In(t){const{spanId:e,traceId:n,isRemote:r}=t.spanContext(),o=r?e:Nn(t).parent_span_id,i=Tn(t).scope;return{parent_span_id:o,span_id:r?i?.getPropagationContext().propagationSpanId||Ee():e,trace_id:n}}function jn(t){return t&&t.length>0?t.map(({context:{spanId:t,traceId:e,traceFlags:n,...r},attributes:o})=>({span_id:t,trace_id:e,sampled:1===n,attributes:o,...r})):void 0}function An(t){return"number"==typeof t?Ln(t):Array.isArray(t)?t[0]+t[1]/1e9:t instanceof Date?Ln(t.getTime()):me()}function Ln(t){return t>9999999999?t/1e3:t}function Nn(t){if(function(t){return"function"==typeof t.getSpanJSON}(t))return t.getSpanJSON();const{spanId:e,traceId:n}=t.spanContext();if(function(t){const e=t;return!!(e.attributes&&e.startTime&&e.name&&e.endTime&&e.status)}(t)){const{attributes:r,startTime:o,name:i,endTime:a,status:c,links:s}=t;return{span_id:e,trace_id:n,data:r,description:i,parent_span_id:"parentSpanId"in t?t.parentSpanId:"parentSpanContext"in t?t.parentSpanContext?.spanId:void 0,start_timestamp:An(o),timestamp:An(a)||void 0,status:Rn(c),op:r["sentry.op"],origin:r["sentry.origin"],links:jn(s)}}return{span_id:e,trace_id:n,start_timestamp:0,data:{}}}function Dn(t){const{traceFlags:e}=t.spanContext();return 1===e}function Rn(t){if(t&&0!==t.code)return 1===t.code?"ok":t.message||"unknown_error"}const Mn="_sentryRootSpan";function Un(t){return t[Mn]||t}function $n(){Pn||(X(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Pn=!0)}const qn="_frozenDsc";function Bn(t,e){const n=e.getOptions(),{publicKey:r}=e.getDsn()||{},o={environment:n.environment||mn,release:n.release,public_key:r,trace_id:t,org_id:ct(e)};return e.emit("createDsc",o),o}function Fn(t){const e=Me();if(!e)return{};const n=Un(t),r=Nn(n),o=r.data,i=n.spanContext().traceState,a=i?.get("sentry.sample_rate")??o["sentry.sample_rate"]??o["sentry.previous_trace_sample_rate"];function c(t){return"number"!=typeof a&&"string"!=typeof a||(t.sample_rate=`${a}`),t}const s=n[qn];if(s)return c(s);const u=i?.get("sentry.dsc"),l=u&&En(u);if(l)return c(l);const f=Bn(t.spanContext().traceId,e),d=o["sentry.source"],p=r.description;return"url"!==d&&p&&(f.transaction=p),function(t){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;const e=t||Me()?.getOptions();return!(!e||null==e.tracesSampleRate&&!e.tracesSampler)}()&&(f.sampled=String(Dn(n)),f.sample_rand=i?.get("sentry.sample_rand")??Tn(n).scope?.getPropagationContext().sampleRand.toString()),c(f),e.emit("createDsc",f,n),f}function Hn(t,e){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:i}=e;!function(t,e){const{extra:n,tags:r,user:o,contexts:i,level:a,transactionName:c}=e;Object.keys(n).length&&(t.extra={...n,...t.extra});Object.keys(r).length&&(t.tags={...r,...t.tags});Object.keys(o).length&&(t.user={...o,...t.user});Object.keys(i).length&&(t.contexts={...i,...t.contexts});a&&(t.level=a);c&&"transaction"!==t.type&&(t.transaction=c)}(t,e),r&&function(t,e){t.contexts={trace:In(e),...t.contexts},t.sdkProcessingMetadata={dynamicSamplingContext:Fn(e),...t.sdkProcessingMetadata};const n=Un(e),r=Nn(n).description;r&&!t.transaction&&"transaction"===t.type&&(t.transaction=r)}(t,r),function(t,e){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],e&&(t.fingerprint=t.fingerprint.concat(e));t.fingerprint.length||delete t.fingerprint}(t,n),function(t,e){const n=[...t.breadcrumbs||[],...e];t.breadcrumbs=n.length?n:void 0}(t,o),function(t,e){t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...e}}(t,i)}function Gn(t,e){const{extra:n,tags:r,user:o,contexts:i,level:a,sdkProcessingMetadata:c,breadcrumbs:s,fingerprint:u,eventProcessors:l,attachments:f,propagationContext:d,transactionName:p,span:v}=e;Vn(t,"extra",n),Vn(t,"tags",r),Vn(t,"user",o),Vn(t,"contexts",i),t.sdkProcessingMetadata=_e(t.sdkProcessingMetadata,c,2),a&&(t.level=a),p&&(t.transactionName=p),v&&(t.span=v),s.length&&(t.breadcrumbs=[...t.breadcrumbs,...s]),u.length&&(t.fingerprint=[...t.fingerprint,...u]),l.length&&(t.eventProcessors=[...t.eventProcessors,...l]),f.length&&(t.attachments=[...t.attachments,...f]),t.propagationContext={...t.propagationContext,...d}}function Vn(t,e,n){t[e]=_e(t[e],n,1)}let zn,Wn,Yn;function Jn(t){const e=z._sentryDebugIds;if(!e)return{};const n=Object.keys(e);return Yn&&n.length===Wn||(Wn=n.length,Yn=n.reduce((n,r)=>{zn||(zn={});const o=zn[r];if(o)n[o[0]]=o[1];else{const o=t(r);for(let t=o.length-1;t>=0;t--){const i=o[t],a=i?.filename,c=e[r];if(a&&c){n[a]=c,zn[r]=[a,c];break}}}return n},{})),Yn}function Kn(t,e,n,r,o,i){const{normalizeDepth:a=3,normalizeMaxBreadth:c=1e3}=t,s={...e,event_id:e.event_id||n.event_id||ae(),timestamp:e.timestamp||be()},u=n.integrations||t.integrations.map(t=>t.name);!function(t,e){const{environment:n,release:r,dist:o,maxValueLength:i=250}=e;t.environment=t.environment||n||mn,!t.release&&r&&(t.release=r);!t.dist&&o&&(t.dist=o);const a=t.request;a?.url&&(a.url=pt(a.url,i))}(s,t),function(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}(s,u),o&&o.emit("applyFrameMetadata",e),void 0===e.type&&function(t,e){const n=Jn(e);t.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(t=>{t.filename&&(t.debug_id=n[t.filename])})})}(s,t.stackParser);const l=function(t,e){if(!e)return t;const n=t?t.clone():new Te;return n.update(e),n}(r,n.captureContext);n.mechanism&&le(s,n.mechanism);const f=o?o.getEventProcessors():[],d=J("globalScope",()=>new Te).getScopeData();if(i){Gn(d,i.getScopeData())}if(l){Gn(d,l.getScopeData())}const p=[...n.attachments||[],...d.attachments];p.length&&(n.attachments=p),Hn(s,d);return wn([...f,...d.eventProcessors],s,n).then(t=>(t&&function(t){const e={};if(t.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(t=>{t.debug_id&&(t.abs_path?e[t.abs_path]=t.debug_id:t.filename&&(e[t.filename]=t.debug_id),delete t.debug_id)})}),0===Object.keys(e).length)return;t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const n=t.debug_meta.images;Object.entries(e).forEach(([t,e])=>{n.push({type:"sourcemap",code_file:t,debug_id:e})})}(t),"number"==typeof a&&a>0?function(t,e,n){if(!t)return null;const r={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(t=>({...t,...t.data&&{data:At(t.data,e,n)}}))},...t.user&&{user:At(t.user,e,n)},...t.contexts&&{contexts:At(t.contexts,e,n)},...t.extra&&{extra:At(t.extra,e,n)}};t.contexts?.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=At(t.contexts.trace.data,e,n)));t.spans&&(r.spans=t.spans.map(t=>({...t,...t.data&&{data:At(t.data,e,n)}})));t.contexts?.flags&&r.contexts&&(r.contexts.flags=At(t.contexts.flags,3,n));return r}(t,a,c):t))}function Zn(t){if(t)return function(t){return t instanceof Te||"function"==typeof t}(t)||function(t){return Object.keys(t).some(t=>Xn.includes(t))}(t)?{captureContext:t}:t}const Xn=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Qn(t,e){return De().captureEvent(t,e)}function tr(t){const e=Re(),n=De(),{userAgent:r}=z.navigator||{},o=we({user:n.getUser()||e.getUser(),...r&&{userAgent:r},...t}),i=e.getSession();return"ok"===i?.status&&xe(i,{status:"exited"}),er(),e.setSession(o),o}function er(){const t=Re(),e=De().getSession()||t.getSession();e&&function(t,e){let n={};e?n={status:e}:"ok"===t.status&&(n={status:"exited"}),xe(t,n)}(e),nr(),t.setSession()}function nr(){const t=Re(),e=Me(),n=t.getSession();n&&e&&e.captureSession(n)}function rr(t=!1){t?er():nr()}const or=z;let ir=0;function ar(){return ir>0}function cr(t,e={}){if(!function(t){return"function"==typeof t}(t))return t;try{const e=t.__sentry_wrapped__;if(e)return"function"==typeof e?e:t;if(wt(t))return t}catch{return t}const n=function(...n){try{const r=n.map(t=>cr(t,e));return t.apply(this,r)}catch(t){throw ir++,setTimeout(()=>{ir--}),function(...t){const e=Ne(W());if(2===t.length){const[n,r]=t;return n?e.withSetScope(n,r):e.withScope(r)}e.withScope(t[0])}(r=>{var o,i;r.addEventProcessor(t=>(e.mechanism&&(ue(t,void 0,void 0),le(t,e.mechanism)),t.extra={...t.extra,arguments:n},t)),o=t,De().captureException(o,Zn(i))}),t}};try{for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}catch{}mt(n,t),gt(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}const sr=1024,ur=(t={})=>{const e={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t};return{name:"Breadcrumbs",setup(t){var n;e.console&&function(t){const e="console";Ye(e,t),Je(e,Ze)}(function(t){return function(e){if(Me()!==t)return;const n={category:"console",data:{arguments:e.args,logger:"console"},level:on(e.level),message:vt(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message=`Assertion failed: ${vt(e.args.slice(1)," ")||"console.assert"}`,n.data.arguments=e.args.slice(1)}rn(n,{input:e.args,level:e.level})}}(t)),e.dom&&(n=function(t,e){return function(n){if(Me()!==t)return;let r,o,i="object"==typeof e?e.serializeAttribute:void 0,a="object"==typeof e&&"number"==typeof e.maxStringLength?e.maxStringLength:void 0;a&&a>sr&&(gn&&nt.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=sr),"string"==typeof i&&(i=[i]);try{const t=n.event,e=function(t){return!!t&&!!t.target}(t)?t.target:t;r=lt(e,{keyAttrs:i,maxStringLength:a}),o=function(t){if(!ut.HTMLElement)return null;let e=t;for(let t=0;t<5;t++){if(!e)return null;if(e instanceof HTMLElement){if(e.dataset.sentryComponent)return e.dataset.sentryComponent;if(e.dataset.sentryElement)return e.dataset.sentryElement}e=e.parentNode}return null}(e)}catch{r="<unknown>"}if(0===r.length)return;const c={category:`ui.${n.name}`,message:r};o&&(c.data={"ui.component_name":o}),rn(c,{event:n.event,name:n.name,global:n.global})}}(t,e.dom),Ye("dom",n),Je("dom",fn)),e.xhr&&function(t){Ye("xhr",t),Je("xhr",vn)}(function(t){return function(e){if(Me()!==t)return;const{startTimestamp:n,endTimestamp:r}=e,o=e.xhr[pn];if(!n||!r||!o)return;const{method:i,url:a,status_code:c,body:s}=o,u={method:i,url:a,status_code:c},l={xhr:e.xhr,input:s,startTimestamp:n,endTimestamp:r},f={category:"xhr",data:u,type:"http",level:an(c)};t.emit("beforeOutgoingRequestBreadcrumb",f,l),rn(f,l)}}(t)),e.fetch&&function(t,e){const n="fetch";Ye(n,t),Je(n,()=>Xe(void 0,e))}(function(t){return function(e){if(Me()!==t)return;const{startTimestamp:n,endTimestamp:r}=e;if(r&&(!e.fetchData.url.match(/sentry_key/)||"POST"!==e.fetchData.method))if(e.fetchData.method,e.fetchData.url,e.error){const o=e.fetchData,i={data:e.error,input:e.args,startTimestamp:n,endTimestamp:r},a={category:"fetch",data:o,level:"error",type:"http"};t.emit("beforeOutgoingRequestBreadcrumb",a,i),rn(a,i)}else{const o=e.response,i={...e.fetchData,status_code:o?.status};e.fetchData.request_body_size,e.fetchData.response_body_size;const a={input:e.args,response:o,startTimestamp:n,endTimestamp:r},c={category:"fetch",data:i,type:"http",level:an(i.status_code)};t.emit("beforeOutgoingRequestBreadcrumb",c,a),rn(c,a)}}}(t)),e.history&&yn(function(t){return function(e){if(Me()!==t)return;let n=e.from,r=e.to;const o=cn(or.location.href);let i=n?cn(n):void 0;const a=cn(r);i?.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(r=a.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),rn({category:"navigation",data:{from:n,to:r}})}}(t)),e.sentry&&t.on("beforeSendEvent",function(t){return function(e){Me()===t&&rn({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:se(e)},{event:e})}}(t))}}};const lr=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],fr=(t={})=>{const e={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...t};return{name:"BrowserApiErrors",setupOnce(){e.setTimeout&&bt(or,"setTimeout",dr),e.setInterval&&bt(or,"setInterval",dr),e.requestAnimationFrame&&bt(or,"requestAnimationFrame",pr),e.XMLHttpRequest&&"XMLHttpRequest"in or&&bt(XMLHttpRequest.prototype,"send",vr);const t=e.eventTarget;if(t){(Array.isArray(t)?t:lr).forEach(t=>function(t,e){const n=or,r=n[t]?.prototype;if(!r?.hasOwnProperty?.("addEventListener"))return;bt(r,"addEventListener",function(n){return function(r,o,i){try{"function"==typeof o.handleEvent&&(o.handleEvent=cr(o.handleEvent,{mechanism:{data:{handler:It(o),target:t},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return e.unregisterOriginalCallbacks&&function(t,e,n){t&&"object"==typeof t&&"removeEventListener"in t&&"function"==typeof t.removeEventListener&&t.removeEventListener(e,n)}(this,r,o),n.apply(this,[r,cr(o,{mechanism:{data:{handler:It(o),target:t},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),i])}}),bt(r,"removeEventListener",function(t){return function(e,n,r){try{const o=n.__sentry_wrapped__;o&&t.call(this,e,o,r)}catch{}return t.call(this,e,n,r)}})}(t,e))}}}};function dr(t){return function(...e){const n=e[0];return e[0]=cr(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${It(t)}`}}),t.apply(this,e)}}function pr(t){return function(e){return t.apply(this,[cr(e,{mechanism:{data:{handler:It(t)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function vr(t){return function(...e){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(t=>{t in n&&"function"==typeof n[t]&&bt(n,t,function(e){const n={mechanism:{data:{handler:It(e)},handled:!1,type:`auto.browser.browserapierrors.xhr.${t}`}},r=wt(e);return r&&(n.mechanism.data.handler=It(r)),cr(e,n)})}),t.apply(this,e)}}const hr=()=>({name:"BrowserSession",setupOnce(){void 0!==or.document?(tr({ignoreDuration:!0}),rr(),yn(({from:t,to:e})=>{void 0!==t&&t!==e&&(tr({ignoreDuration:!0}),rr())})):gn&&nt.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.")}});let yr=null;function br(){yr=z.onerror,z.onerror=function(t,e,n,r,o){return Ke("error",{column:r,error:o,line:n,msg:t,url:e}),!!yr&&yr.apply(this,arguments)},z.onerror.__SENTRY_INSTRUMENTED__=!0}let gr=null;function mr(){gr=z.onunhandledrejection,z.onunhandledrejection=function(t){return Ke("unhandledrejection",t),!gr||gr.apply(this,arguments)},z.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function wr(t,e){const n=Sr(t,e),r={type:Cr(e),value:Or(e)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function xr(t,e,n,r){const o=Me(),i=o?.getOptions().normalizeDepth,a=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const n=t[e];if(n instanceof Error)return n}return}(e),c={__serialized__:Lt(e,i)};if(a)return{exception:{values:[wr(t,a)]},extra:c};const s={exception:{values:[{type:M(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:Ir(e,{isUnhandledRejection:r})}]},extra:c};if(n){const e=Sr(t,n);e.length&&(s.exception.values[0].stacktrace={frames:e})}return s}function _r(t,e){return{exception:{values:[wr(t,e)]}}}function Sr(t,e){const n=e.stacktrace||e.stack||"",r=function(t){if(t&&Er.test(t.message))return 1;return 0}(e),o=function(t){if("number"==typeof t.framesToPop)return t.framesToPop;return 0}(e);try{return t(n,r,o)}catch{}return[]}const Er=/Minified React error #\d+;/i;function kr(t){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&t instanceof WebAssembly.Exception}function Cr(t){const e=t?.name;if(!e&&kr(t)){return t.message&&Array.isArray(t.message)&&2==t.message.length?t.message[0]:"WebAssembly.Exception"}return e}function Or(t){const e=t?.message;return kr(t)?Array.isArray(t.message)&&2==t.message.length?t.message[1]:"wasm exception":e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Tr(t,e,n,r,o){let i;if(j(e)&&e.error){return _r(t,e.error)}if(A(e)||I(e,"DOMException")){const o=e;if("stack"in e)i=_r(t,e);else{const e=o.name||(A(o)?"DOMError":"DOMException"),a=o.message?`${e}: ${o.message}`:e;i=Pr(t,a,n,r),ue(i,a)}return"code"in o&&(i.tags={...i.tags,"DOMException.code":`${o.code}`}),i}if(P(e))return _r(t,e);if(R(e)||M(e)){return i=xr(t,e,n,o),le(i,{synthetic:!0}),i}return i=Pr(t,e,n,r),ue(i,`${e}`,void 0),le(i,{synthetic:!0}),i}function Pr(t,e,n,r){const o={};if(r&&n){const r=Sr(t,n);r.length&&(o.exception={values:[{value:e,stacktrace:{frames:r}}]}),le(o,{synthetic:!0})}if(N(e)){const{__sentry_template_string__:t,__sentry_template_values__:n}=e;return o.logentry={message:t,params:n},o}return o.message=e,o}function Ir(t,{isUnhandledRejection:e}){const n=function(t,e=40){const n=Object.keys(xt(t));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=e)return pt(r,e);for(let t=n.length;t>0;t--){const r=n.slice(0,t).join(", ");if(!(r.length>e))return t===n.length?r:pt(r,e)}return""}(t),r=e?"promise rejection":"exception";if(j(t))return`Event \`ErrorEvent\` captured as ${r} with message \`${t.message}\``;if(M(t)){return`Event \`${function(t){try{const e=Object.getPrototypeOf(t);return e?e.constructor.name:void 0}catch{}}(t)}\` (type=${t.type}) captured as ${r}`}return`Object captured as ${r} with keys: ${n}`}const jr=(t={})=>{const e={onerror:!0,onunhandledrejection:!0,...t};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50},setup(t){e.onerror&&(!function(t){!function(t){const e="error";Ye(e,t),Je(e,br)}(e=>{const{stackParser:n,attachStacktrace:r}=Lr();if(Me()!==t||ar())return;const{msg:o,url:i,line:a,column:c,error:s}=e,u=function(t,e,n,r){const o=t.exception=t.exception||{},i=o.values=o.values||[],a=i[0]=i[0]||{},c=a.stacktrace=a.stacktrace||{},s=c.frames=c.frames||[],u=r,l=n,f=function(t){if(!L(t)||0===t.length)return;if(t.startsWith("data:")){const e=t.match(/^data:([^;]+)/);return`<data:${e?e[1]:"text/javascript"}${t.includes("base64,")?",base64":""}>`}return t.slice(0,1024)}(e)??dt();0===s.length&&s.push({colno:u,filename:f,function:Et,in_app:!0,lineno:l});return t}(Tr(n,s||o,void 0,r,!1),i,a,c);u.level="error",Qn(u,{originalException:s,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}(t),Ar("onerror")),e.onunhandledrejection&&(!function(t){!function(t){const e="unhandledrejection";Ye(e,t),Je(e,mr)}(e=>{const{stackParser:n,attachStacktrace:r}=Lr();if(Me()!==t||ar())return;const o=function(t){if(D(t))return t;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return t}(e),i=D(o)?{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(o)}`}]}}:Tr(n,o,void 0,r,!0);i.level="error",Qn(i,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}(t),Ar("onunhandledrejection"))}}};function Ar(t){gn&&nt.log(`Global Handler attached: ${t}`)}function Lr(){const t=Me();return t?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Nr=()=>({name:"HttpContext",preprocessEvent(t){if(!or.navigator&&!or.location&&!or.document)return;const e=function(){const t=dt(),{referrer:e}=or.document||{},{userAgent:n}=or.navigator||{};return{url:t,headers:{...e&&{Referer:e},...n&&{"User-Agent":n}}}}(),n={...e.headers,...t.request?.headers};t.request={...e,...t.request,headers:n}}});function Dr(t,e,n,r,o,i){if(!o.exception?.values||!i||!$(i.originalException,Error))return;const a=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;a&&(o.exception.values=Rr(t,e,r,i.originalException,n,o.exception.values,a,0))}function Rr(t,e,n,r,o,i,a,c){if(i.length>=n+1)return i;let s=[...i];if($(r[o],Error)){Mr(a,c);const i=t(e,r[o]),u=s.length;Ur(i,o,u,c),s=Rr(t,e,n,r[o],o,[i,...s],i,u)}return Array.isArray(r.errors)&&r.errors.forEach((r,i)=>{if($(r,Error)){Mr(a,c);const u=t(e,r),l=s.length;Ur(u,`errors[${i}]`,l,c),s=Rr(t,e,n,r,o,[u,...s],u,l)}}),s}function Mr(t,e){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,..."AggregateError"===t.type&&{is_exception_group:!0},exception_id:e}}function Ur(t,e,n,r){t.mechanism=t.mechanism||{type:"generic",handled:!0},t.mechanism={...t.mechanism,type:"chained",source:e,exception_id:n,parent_id:r}}const $r=(t={})=>{const e=t.limit||5,n=t.key||"cause";return{name:"LinkedErrors",preprocessEvent(t,r,o){Dr(wr,o.getOptions().stackParser,n,e,t,r)}}};function qr(t){return[ve(),Be(),fr(),ur(),jr(),$r(),Fe(),Nr(),hr()]}function Br(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function Fr(t,e,n){return e||`${function(t){return`${Br(t)}${t.projectId}/envelope/`}(t)}?${function(t,e){const n={sentry_version:"7"};return t.publicKey&&(n.sentry_key=t.publicKey),e&&(n.sentry_client=`${e.name}/${e.version}`),new URLSearchParams(n).toString()}(t,n)}`}function Hr(t,e,n,r){const o=Ht(n),i=t.type&&"replay_event"!==t.type?t.type:"event";!function(t,e){if(!e)return t;const n=t.sdk||{};t.sdk={...n,name:n.name||e.name,version:n.version||e.version,integrations:[...t.sdk?.integrations||[],...e.integrations||[]],packages:[...t.sdk?.packages||[],...e.packages||[]],settings:t.sdk?.settings||e.settings?{...t.sdk?.settings,...e.settings}:void 0}}(t,n?.sdk);const a=function(t,e,n,r){const o=t.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:t.event_id,sent_at:(new Date).toISOString(),...e&&{sdk:e},...!!n&&r&&{dsn:it(r)},...o&&{trace:o}}}(t,o,r,e);delete t.sdkProcessingMetadata;return Dt(a,[[{type:i},t]])}function Gr(t,e){if(!e?.length||!t.description)return!1;for(const n of e){if(zr(n)){if(ht(t.description,n))return!0;continue}if(!n.name&&!n.op)continue;const e=!n.name||ht(t.description,n.name),r=!n.op||t.op&&ht(t.op,n.op);if(e&&r)return!0}return!1}function Vr(t,e){const n=e.parent_span_id,r=e.span_id;if(n)for(const e of t)e.parent_span_id===r&&(e.parent_span_id=n)}function zr(t){return"string"==typeof t||t instanceof RegExp}const Wr="Not capturing exception because it's already been captured.",Yr="Discarded session because of missing or non-string release",Jr=Symbol.for("SentryInternalError"),Kr=Symbol.for("SentryDoNotSendEventError");function Zr(t){return{message:t,[Jr]:!0}}function Xr(t){return{message:t,[Kr]:!0}}function Qr(t){return!!t&&"object"==typeof t&&Jr in t}function to(t){return!!t&&"object"==typeof t&&Kr in t}class eo{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=st(t.dsn):G&&nt.warn("No DSN provided, client will not send events."),this._dsn){const e=Fr(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:e})}}captureException(t,e,n){const r=ae();if(fe(t))return G&&nt.log(Wr),r;const o={event_id:r,...e};return this._process(this.eventFromException(t,o).then(t=>this._captureEvent(t,o,n))),o.event_id}captureMessage(t,e,n,r){const o={event_id:ae(),...n},i=N(t)?t:String(t),a=D(t)?this.eventFromMessage(i,e,o):this.eventFromException(t,o);return this._process(a.then(t=>this._captureEvent(t,o,r))),o.event_id}captureEvent(t,e,n){const r=ae();if(e?.originalException&&fe(e.originalException))return G&&nt.log(Wr),r;const o={event_id:r,...e},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,c=i.capturedSpanIsolationScope;return this._process(this._captureEvent(t,o,a||n,c)),o.event_id}captureSession(t){this.sendSession(t),xe(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const e=this._transport;return e?(this.emit("flush"),this._isClientDoneProcessing(t).then(n=>e.flush(t).then(t=>n&&t))):B(!0)}close(t){return this.flush(t).then(t=>(this.getOptions().enabled=!1,this.emit("close"),t))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const e=this._integrations[t.name];oe(this,t,this._integrations),e||re(this,[t])}sendEvent(t,e={}){this.emit("beforeSendEvent",t,e);let n=Hr(t,this._dsn,this._options._metadata,this._options.tunnel);for(const t of e.attachments||[])n=Rt(n,qt(t));const r=this.sendEnvelope(n);r&&r.then(e=>this.emit("afterSendEvent",t,e),null)}sendSession(t){const{release:e,environment:n=mn}=this._options;if("aggregates"in t){const r=t.attrs||{};if(!r.release&&!e)return void(G&&nt.warn(Yr));r.release=r.release||e,r.environment=r.environment||n,t.attrs=r}else{if(!t.release&&!e)return void(G&&nt.warn(Yr));t.release=t.release||e,t.environment=t.environment||n}this.emit("beforeSendSession",t);const r=function(t,e,n,r){const o=Ht(n);return Dt({sent_at:(new Date).toISOString(),...o&&{sdk:o},...!!r&&e&&{dsn:it(e)}},["aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t.toJSON()]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(r)}recordDroppedEvent(t,e,n=1){if(this._options.sendClientReports){const r=`${t}:${e}`;G&&nt.log(`Recording outcome: "${r}"${n>1?` (${n} times)`:""}`),this._outcomes[r]=(this._outcomes[r]||0)+n}}on(t,e){const n=this._hooks[t]=this._hooks[t]||[];return n.push(e),()=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)}}emit(t,...e){const n=this._hooks[t];n&&n.forEach(t=>t(...e))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,t=>(G&&nt.error("Error while sending envelope:",t),t)):(G&&nt.error("Transport disabled"),B({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=function(t,e){const n={};return e.forEach(e=>{e&&oe(t,e,n)}),n}(this,t),re(this,t)}_updateSessionFromEvent(t,e){let n="fatal"===e.level,r=!1;const o=e.exception?.values;if(o){r=!0;for(const t of o){const e=t.mechanism;if(!1===e?.handled){n=!0;break}}}const i="ok"===t.status;(i&&0===t.errors||i&&n)&&(xe(t,{...n&&{status:"crashed"},errors:t.errors||Number(r||n)}),this.captureSession(t))}_isClientDoneProcessing(t){return new H(e=>{let n=0;const r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),e(!0)):(n+=1,t&&n>=t&&(clearInterval(r),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport}_prepareEvent(t,e,n,r){const o=this.getOptions(),i=Object.keys(this._integrations);return!e.integrations&&i?.length&&(e.integrations=i),this.emit("preprocessEvent",t,e),t.type||r.setLastEventId(t.event_id||e.event_id),Kn(o,t,e,n,this,r).then(t=>{if(null===t)return t;this.emit("postprocessEvent",t,e),t.contexts={trace:Ue(n),...t.contexts};const r=function(t,e){const n=e.getPropagationContext();return n.dsc||Bn(n.traceId,t)}(this,n);return t.sdkProcessingMetadata={dynamicSamplingContext:r,...t.sdkProcessingMetadata},t})}_captureEvent(t,e={},n=De(),r=Re()){return G&&no(t)&&nt.log(`Captured error event \`${ie(t)[0]||"<unknown>"}\``),this._processEvent(t,e,n,r).then(t=>t.event_id,t=>{G&&(to(t)?nt.log(t.message):Qr(t)?nt.warn(t.message):nt.warn(t))})}_processEvent(t,e,n,r){const o=this.getOptions(),{sampleRate:i}=o,a=ro(t),c=no(t),s=t.type||"error",u=`before send for type \`${s}\``,l=void 0===i?void 0:function(t){if("boolean"==typeof t)return Number(t);const e="string"==typeof t?parseFloat(t):t;return"number"!=typeof e||isNaN(e)||e<0||e>1?void 0:e}(i);if(c&&"number"==typeof l&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),F(Xr(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const f="replay_event"===s?"replay":s;return this._prepareEvent(t,e,n,r).then(t=>{if(null===t)throw this.recordDroppedEvent("event_processor",f),Xr("An event processor returned `null`, will not send event.");if(e.data&&!0===e.data.__sentry__)return t;const n=function(t,e,n,r){const{beforeSend:o,beforeSendTransaction:i,beforeSendSpan:a,ignoreSpans:c}=e;let s=n;if(no(s)&&o)return o(s,r);if(ro(s)){if(a||c){const e=function(t){const{trace_id:e,parent_span_id:n,span_id:r,status:o,origin:i,data:a,op:c}=t.contexts?.trace??{};return{data:a??{},description:t.transaction,op:c,parent_span_id:n,span_id:r??"",start_timestamp:t.start_timestamp??0,status:o,timestamp:t.timestamp,trace_id:e??"",origin:i,profile_id:a?.[xn],exclusive_time:a?.[_n],measurements:t.measurements,is_segment:!0}}(s);if(c?.length&&Gr(e,c))return null;if(a){const t=a(e);t?s=_e(n,{type:"transaction",timestamp:(u=t).timestamp,start_timestamp:u.start_timestamp,transaction:u.description,contexts:{trace:{trace_id:u.trace_id,span_id:u.span_id,parent_span_id:u.parent_span_id,op:u.op,status:u.status,origin:u.origin,data:{...u.data,...u.profile_id&&{[xn]:u.profile_id},...u.exclusive_time&&{[_n]:u.exclusive_time}}}},measurements:u.measurements}):$n()}if(s.spans){const e=[],n=s.spans;for(const t of n)if(c?.length&&Gr(t,c))Vr(n,t);else if(a){const n=a(t);n?e.push(n):($n(),e.push(t))}else e.push(t);const r=s.spans.length-e.length;r&&t.recordDroppedEvent("before_send","span",r),s.spans=e}}if(i){if(s.spans){const t=s.spans.length;s.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:t}}return i(s,r)}}var u;return s}(this,o,t,e);return function(t,e){const n=`${e} must return \`null\` or a valid event.`;if(U(t))return t.then(t=>{if(!R(t)&&null!==t)throw Zr(n);return t},t=>{throw Zr(`${e} rejected with ${t}`)});if(!R(t)&&null!==t)throw Zr(n);return t}(n,u)}).then(o=>{if(null===o){if(this.recordDroppedEvent("before_send",f),a){const e=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",e)}throw Xr(`${u} returned \`null\`, will not send event.`)}const i=n.getSession()||r.getSession();if(c&&i&&this._updateSessionFromEvent(i,o),a){const t=(o.sdkProcessingMetadata?.spanCountBeforeProcessing||0)-(o.spans?o.spans.length:0);t>0&&this.recordDroppedEvent("before_send","span",t)}const s=o.transaction_info;if(a&&s&&o.transaction!==t.transaction){const t="custom";o.transaction_info={...s,source:t}}return this.sendEvent(o,e),o}).then(null,t=>{if(to(t)||Qr(t))throw t;throw this.captureException(t,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:t}),Zr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${t}`)})}_process(t){this._numProcessing++,t.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([t,e])=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e}})}_flushOutcomes(){G&&nt.log("Flushing outcomes...");const t=this._clearOutcomes();if(0===t.length)return void(G&&nt.log("No outcomes to send"));if(!this._dsn)return void(G&&nt.log("No dsn provided, will not send outcomes"));G&&nt.log("Sending outcomes:",t);const e=(n=t,Dt((r=this._options.tunnel&&it(this._dsn))?{dsn:r}:{},[[{type:"client_report"},{timestamp:o||be(),discarded_events:n}]]));var n,r,o;this.sendEnvelope(e)}}function no(t){return void 0===t.type}function ro(t){return"transaction"===t.type}function oo(t,e){const n=e??io(t)??[];if(0===n.length)return;const r=t.getOptions(),o=function(t,e,n,r){const o={};return e?.sdk&&(o.sdk={name:e.sdk.name,version:e.sdk.version}),n&&r&&(o.dsn=it(r)),Dt(o,[(i=t,[{type:"log",item_count:i.length,content_type:"application/vnd.sentry.items.log+json"},{items:i}])]);var i}(n,r._metadata,r.tunnel,t.getDsn());ao().set(t,[]),t.emit("flushLogs"),t.sendEnvelope(o)}function io(t){return ao().get(t)}function ao(){return J("clientToLogBufferMap",()=>new WeakMap)}function co(t){"aggregates"in t?void 0===t.attrs?.ip_address&&(t.attrs={...t.attrs,ip_address:"{{auto}}"}):void 0===t.ipAddress&&(t.ipAddress="{{auto}}")}class so extends eo{constructor(t){const e=(n=t,{release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:or.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...n});var n;!function(t,e,n=[e],r="npm"){const o=t._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${e}`,packages:n.map(t=>({name:`${r}:@sentry/${t}`,version:V})),version:V}),t._metadata=o}(e,"browser",["browser"],or.SENTRY_SDK_SOURCE||"npm"),e._metadata?.sdk&&(e._metadata.sdk.settings={infer_ip:e.sendDefaultPii?"auto":"never",...e._metadata.sdk.settings}),super(e);const{sendDefaultPii:r,sendClientReports:o,enableLogs:i}=this._options;or.document&&(o||i)&&or.document.addEventListener("visibilitychange",()=>{"hidden"===or.document.visibilityState&&(o&&this._flushOutcomes(),i&&oo(this))}),i&&(this.on("flush",()=>{oo(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{oo(this)},5e3)})),r&&this.on("beforeSendSession",co)}eventFromException(t,e){return function(t,e,n,r){const o=Tr(t,e,n?.syntheticException||void 0,r);return le(o),o.level="error",n?.event_id&&(o.event_id=n.event_id),B(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",n){return function(t,e,n="info",r,o){const i=Pr(t,e,r?.syntheticException||void 0,o);return i.level=n,r?.event_id&&(i.event_id=r.event_id),B(i)}(this._options.stackParser,t,e,n,this._options.attachStacktrace)}_prepareEvent(t,e,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,n,r)}}function uo(t,e,n,r){const o={filename:t,function:"<anonymous>"===e?Et:e,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==r&&(o.colno=r),o}const lo=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,fo=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,po=/\((\S*)(?::(\d+))(?::(\d+))\)/,vo=/at (.+?) ?\(data:(.+?),/,ho=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,yo=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,bo=Ot(...[[30,t=>{const e=t.match(vo);if(e)return{filename:`<data:${e[2]}>`,function:e[1]};const n=lo.exec(t);if(n){const[,t,e,r]=n;return uo(t,Et,+e,+r)}const r=fo.exec(t);if(r){if(r[2]&&0===r[2].indexOf("eval")){const t=po.exec(r[2]);t&&(r[2]=t[1],r[3]=t[2],r[4]=t[3])}const[t,e]=go(r[1]||Et,r[2]);return uo(e,t,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}}],[50,t=>{const e=ho.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const t=yo.exec(e[3]);t&&(e[1]=e[1]||"eval",e[3]=t[1],e[4]=t[2],e[5]="")}let t=e[3],n=e[1]||Et;return[n,t]=go(n,t),uo(t,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}}]]),go=(t,e)=>{const n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:Et,n?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};var mo=n(430),wo=function(t,e){Object.keys(t).forEach(function(n){e(n,t[n])})},xo=function(t){return{UK:"GB"}[t="".concat(t||"US").toUpperCase()]||t},_o=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},So=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Eo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ko=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Co={},Oo={},To=function(t,e,n,r,o){var i,a;void 0===r&&(r=[]),void 0===o&&(o=[]);var c=n.join("${}"),s=null===(a=null===(i=Co.contexts)||void 0===i?void 0:i[t])||void 0===a?void 0:a[c];if(s){var u=s.key,l=s.value,f=Oo[u]||(Oo[u]=function(t){var e=[];return t.replace(/\$\{[^}]+}/g,function(t){return e.push(t.substring(2,t.length-1).trim()),""}),e}(u)),d=e(l);if(d)return d.replace(/\$\{[^}]+}/g,function(t){var e=f.indexOf(t.substring(2,t.length-1).trim());return void 0!==r[e]?r[e]:""})}return e&&e(ko([void 0],Eo(o),!1))||n.reduce(function(t,e,n){return t+e+(void 0!==r[n]?r[n]:"")},"")},Po=function(t,e){Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:e})},Io=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Po(t,e)},jo=void 0,Ao=function(){function t(t){Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:t})}return Object.defineProperty(t.prototype,"t",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return To(this.context,function(t){return Eo(t,1)[0]},t,e)}}),Object.defineProperty(t.prototype,"plural",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return To(this.context,function(e){return jo?jo(t,e):e[1===Math.abs(t)?0:1]},e.template,e.args,n)}}),t}(),Lo=function(t){return new Ao(t)},No={},Do=/\splural ?=?([\s\S]*);?/,Ro=function(t,e){var n={};wo(e.contexts||{},function(t,e){var r={};wo(e,function(t,e){r[t.replace(/\$\{[^}]+}/g,"${}")]={key:t,value:e}}),n[t]=r}),Co={headers:e.headers||{},contexts:n};var r,o=e.headers;jo=(0,mo.getPluralFunc)((null==o?void 0:o.language)||t)||(r=function(t){var e,n=(null==t?void 0:t["plural-forms"])||"nplurals=2; plural=(n != 1);",r=null===(e=Do.exec(n))||void 0===e?void 0:e[1];return r&&";"===r[r.length-1]&&(r=r.slice(0,-1)),r||"plural=(n != 1)"}(o),No[r]||(No[r]=new Function("n","args",function(t){return"return args[+ (".concat(t,")];")}(r))))},Mo=function(t){return _o(void 0,void 0,void 0,function(){var e,n;return So(this,function(r){switch(r.label){case 0:switch(t){case"es_419":case"es_AR":case"es_CL":case"es_DO":case"es_MX":t="es_LA"}return e=Ro,n=[t],[4,fetch("/locales/"+t+".json")];case 1:return[4,r.sent().json()];case 2:return e.apply(void 0,n.concat([r.sent()])),[2]}})})},Uo=function(){return navigator.language||navigator.userLanguage},$o=function(){return"".concat(Uo()||"en").split(/[_-]/)[0]||"en"},qo=function(t,e){var n=null==e?void 0:e[t];if(!n)return[];try{var r=JSON.parse(n);return r instanceof Array?r:[]}catch(t){return[]}},Bo=function(t){return qo("hashSeed",t)},Fo=function(t){return t||(t="en"),{be:"be_BY",ca:"ca_ES",cs:"cs_CZ",el:"el_GR",en:"en_US",hi:"hi_IN",ja:"ja_JP",ka:"ka_GE",ko:"ko_KR",nb:"nb_NO",nn:"nb_NO",no:"nb_NO",pt:"pt_BR",sl:"sl_SI",sv:"sv_SE",uk:"uk_UA",vi:"vi_VN"}[t]||t+"_"+t.toUpperCase()},Ho=function(){var t=Uo();if("string"!=typeof t||!t)return"en_US";var e=t.replace("-","_");return-1!==e.indexOf("_")?e:Fo(e)},Go=function(t,e){var n;t=xo(t);var r=["".concat(e||Uo())],o=new Intl.DisplayNames(r,{type:"region",style:"short"}).of(t);switch(null===(n=r[0])||void 0===n?void 0:n.split(/[_-]/)[0]){case"jp":case"zh":return o}var i=new Intl.DisplayNames(r,{type:"region"}).of(t);return o&&i&&o.length<6&&i.length<14?i:o},Vo=function(t,e){return Go(t,e)||t},zo=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;")},Wo=function(t){return Object.keys(t)},Yo=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Jo=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ko=[],Zo=function(t){return Ko.push(t),function(){Ko.splice(Ko.indexOf(t),1)}};chrome.runtime.onMessage.addListener(function(t){return Ko.forEach(function(e){var n=t.type,r=n?e[n]:void 0;"function"!=typeof r?e.error&&t.error&&e.error(t.error):r(t.data)}),!1});var Xo=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Qo=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ti=n.g||window;ti.browser||(ti.browser=chrome);var ei,ni,ri,oi,ii,ai=function(t,e){return void 0===e&&(e=void 0),new Promise(function(n,r){return Xo(void 0,void 0,void 0,function(){var o,i,a,c;return Qo(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),o=function(t){var e;if(t){var o=null==t?void 0:t.result,i=null==o?void 0:o.error;if(!i||i.Warning){var a=null===(e=null===browser||void 0===browser?void 0:browser.runtime)||void 0===e?void 0:e.lastError;a?r(a.message?new Error(a.message):a):n(o)}else r(i)}},i=function(){try{var n=Date.now()+":"+Math.random(),r=browser.runtime.sendMessage(browser.runtime.id,{type:t,data:e,respondTo:"broadcast",requestId:n},void 0,o);return function(t,e){var n,r=void 0;r=Zo(((n={})[t]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.apply(void 0,Jo([],Yo(t),!1)),null==r||r()},n))}("answer:"+n,o),r}catch(n){return browser.runtime.sendMessage(browser.runtime.id,{type:t,data:e,respondTo:"promise"})}}(),i instanceof Promise?(a=o,[4,i]):[3,2];case 1:a.apply(void 0,[s.sent()]),s.label=2;case 2:return[3,4];case 3:return c=s.sent(),r(c),[3,4];case 4:return[2]}})})})},ci=function(t,e){return void 0===e&&(e=void 0),ai(t,e)};!function(t){t.SIGN_OUT="signOut",t.SWITCH_ACCOUNT="switchAccount",t.DISCONNECT="disconnect",t.CONNECT="connect",t.CONNECTING="connecting"}(ei||(ei={})),function(t){t.BYPASS_LIST="bypassList"}(ni||(ni={})),function(t){t.PROXY="proxy"}(ri||(ri={})),function(t){t.FORK="fork",t.FORGET_ERROR="forgetError",t.LOG="log"}(oi||(oi={})),function(t){t.USER="user",t.PM_USER="pmUser",t.STATE="state"}(ii||(ii={}));var si=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ui=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},li=[],fi=!1,di=O.item("logs");di.get().then(function(t){(null==t?void 0:t.value)&&(li.push.apply(li,ui([],si(t.value),!1)),di.setValue(li),fi=!0)}),n.g.getLogs=function(){return li.slice()};var pi=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},vi=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},hi=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];(void 0===n.g.debugEnabled||n.g.debugEnabled)&&(console[t].apply(console,r),function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e())return li.unshift(ui([Date.now()],si(t),!1)),li.splice(100,1e3),void(fi&&di.setValue(li));Fi(ci(oi.LOG,ui([],si(t),!1)))}(vi([t],pi(r),!1)))}},yi=(hi("log"),hi("warn")),bi=hi("error");hi("info"),hi("debug");var gi,mi,wi,xi,_i=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t};function Si(t){var e,n,r=[(e={},e[_a.MAIN_ACTION]="primary-button wide-button",e[_a.SECONDARY_ACTION]="secondary-button wide-button",e)[t.Category]||"",(n={},n[xa.UPGRADE]="upgrade-button",n)[t.Code]||""].filter(Boolean).join(" ");return'<a class="'.concat(r,'" href="').concat(t.URL.replace(/^\//,l),'">').concat(Lo("Action").t(gi||(gi=_i(["Upgrade"],["Upgrade"]))),"</a>")}function Ei(t,e){void 0===e&&(e=!1);var n=t.Error||t.message||t;if(n instanceof Error)return n.message;if("string"==typeof n)return n;yi(n);var r="".concat(t).replace(/^TypeError:\s+/,"");if(/\[object/.test(r)){yi(n);var o=Wo(n);return e&&0!==o.length&&"_id"!==o.join(",")?"<pre>"+zo(JSON.stringify(n,null,2))+"</pre>":Lo("Error").t(mi||(mi=_i(["Something went wrong. If the problem persists, please try to re-install the extension"],["Something went wrong. If the problem persists, please try to re-install the extension"])))}return r}function ki(t){var e,n,r,o,i,a,c,s;if(Ka(t)||Ja(t)){var u=t,l=u.Code,f=function(t){return t&&"string"!=typeof t?t.map(function(t){if("Feature"===t.Component){var e={world:'<path fill-rule="evenodd" d="M20.9 13.345C20.251 17.677 16.514 21 12 21c-4.417 0-8.091-3.182-8.855-7.38a3.75 3.75 0 0 0 3.356.995l.54-.108a.75.75 0 0 1 .868.53l.906 3.17a2.225 2.225 0 0 0 4.3-.07l.222-.893a.75.75 0 0 1 .312-.442l1.436-.957a2.25 2.25 0 0 0 .764-.866l.088-.177a2.25 2.25 0 0 0-.421-2.597L14.47 11.16a2.25 2.25 0 0 0-1.591-.659h-1.34a.751.751 0 0 1-.279-.054l-1.934-.774A.349.349 0 0 1 9.456 9h1.55a1.783 1.783 0 0 0 1.26-3.044L11.312 5l1.808-.3a2.25 2.25 0 0 0 1.665-1.26 9.001 9.001 0 0 1 3.64 2.26l-1.097.548A2.25 2.25 0 0 0 16.2 8.971l.813 2.44a2.25 2.25 0 0 0 1.693 1.495l2.194.439Zm-1.494-6.46A8.956 8.956 0 0 1 21 11.835l-1.998-.4a.75.75 0 0 1-.565-.498l-.813-2.44A.75.75 0 0 1 18 7.589l1.407-.704ZM12 3c.407 0 .807.027 1.2.08a.748.748 0 0 1-.327.14l-1.809.3c-1.203.201-1.677 1.678-.814 2.54l.956.957a.283.283 0 0 1-.2.483h-1.55a1.849 1.849 0 0 0-.687 3.565l1.934.774c.266.106.55.161.836.161h1.34a.75.75 0 0 1 .53.22l1.046 1.046a.75.75 0 0 1 .14.866l-.088.176a.75.75 0 0 1-.255.289l-1.436.957a2.25 2.25 0 0 0-.934 1.327l-.223.891a.726.726 0 0 1-1.402.024l-.906-3.172a2.25 2.25 0 0 0-2.605-1.588l-.54.108a2.25 2.25 0 0 1-2.24-.857l-.918-1.223A9.001 9.001 0 0 1 12 3Zm0 19.5c5.799 0 10.5-4.701 10.5-10.5S17.799 1.5 12 1.5 1.5 6.201 1.5 12 6.201 22.5 12 22.5Z" clip-rule="evenodd"/>',incognito:'<path fill-rule="evenodd" d="M14.517 3.247a3 3 0 0 1 4.1 2.031l1.485 5.977h1.648a.75.75 0 1 1 0 1.5H2.25a.75.75 0 0 1 0-1.5h1.649l1.484-5.977a3 3 0 0 1 4.1-2.031l1.626.701a2.25 2.25 0 0 0 1.782 0l1.626-.701Zm2.645 2.393a1.5 1.5 0 0 0-2.05-1.016l-1.627.702a3.75 3.75 0 0 1-2.97 0l-1.626-.702a1.5 1.5 0 0 0-2.05 1.016l-1.38 5.555h13.082l-1.38-5.555Zm-7.305 9.515a3.75 3.75 0 1 0 .643 2.1 1.5 1.5 0 1 1 3 0 3.75 3.75 0 1 0 .643-2.1 2.991 2.991 0 0 0-2.143-.9 2.99 2.99 0 0 0-2.143.9ZM9 17.255a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm6 0a2.25 2.25 0 1 0 4.5 0 2.25 2.25 0 0 0-4.5 0Z" clip-rule="evenodd"/>',play:'<path fill-rule="evenodd" clip-rule="evenodd" d="M7.5 6.00421C7.5 4.75768 8.93047 4.05335 9.91848 4.81335L17.7136 10.8095C18.4955 11.411 18.4955 12.5898 17.7136 13.1913L9.91848 19.1875C8.93047 19.9475 7.5 19.2431 7.5 17.9966L7.5 6.00421ZM9.00002 6.00275C9.00001 6.0032 9 6.00369 9 6.00421L9 17.9966C9 17.9971 9.00001 17.9976 9.00002 17.9981C9.00042 17.9983 9.00086 17.9985 9.00136 17.9988C9.00185 17.999 9.00232 17.9992 9.00274 17.9994C9.00311 17.9991 9.0035 17.9988 9.00392 17.9985L16.7991 12.0023C16.7994 12.0021 16.7997 12.0018 16.7999 12.0016C16.8 12.0013 16.8 12.0009 16.8 12.0004C16.8 11.9999 16.8 11.9995 16.7999 11.9992C16.7997 11.999 16.7994 11.9987 16.7991 11.9985L9.00392 6.00229C9.0035 6.00197 9.00311 6.00168 9.00274 6.00141C9.00232 6.00159 9.00185 6.00179 9.00136 6.00204C9.00086 6.00228 9.00042 6.00252 9.00002 6.00275Z" />'}[t.Icon]||"";return'<div class="feature-row">\n\t\t\t\t\t<div style="width: 40px; flex: 0;">'.concat(e?'<svg class="feature-icon" viewBox="0 0 24 24">'.concat(e,"</svg>"):"",'</div>\n\t\t\t\t\t<div style="flex: 1;">').concat(t.Text,"</div>\n\t\t\t\t</div>")}return"<div>".concat(t.Text,"</div>")}).join(""):t}(null===(e=u.Details)||void 0===e?void 0:e.Body),d=f||(86151===l?Lo("Action").t(wi||(wi=_i(["Subscribe to enable Browser Extension"],["Subscribe to enable Browser Extension"]))):Lo("Action").t(xi||(xi=_i(["Subscribe to connect more devices"],["Subscribe to connect more devices"])))),p=(null===(n=u.Details)||void 0===n?void 0:n.Title)||(null===(r=u.Details)||void 0===r?void 0:r.Hint)||f?"":'<div class="error-message" style="max-width: 348px;">'.concat(Ei(t,!0),"</div>"),v=function(t){switch(t){case 86110:case 86111:case 86112:case 86113:case 86114:case 86115:case 86300:return"/img/illustration-maximum-device-limit@2x.png";case 86151:return"/img/illustration-free-user-upsell@2x.png";default:return}}(l);return{restartOnClose:86300===l,blockingError:"\n\t\t\t\t".concat(p,'\n\t\t\t\t<div class="text-center" style="padding: 20px; line-height: 1.4em;">\n\t\t\t\t\t').concat(l?'<img src="'.concat(v,'" alt="" style="max-width: 248px;" />'):"","\n\t\t\t\t\t").concat((null===(o=u.Details)||void 0===o?void 0:o.Title)?'<p style="padding-bottom: 10px; margin: 0 20px; font-weight: bold; font-size: 16px; line-height: 26px;">'.concat(null===(i=u.Details)||void 0===i?void 0:i.Title,"</p>"):"",'\n\t\t\t\t\t<p style="padding-bottom: 10px; font-size: 12px; line-height: 18px;">').concat(d,"</p>\n\t\t\t\t\t").concat((null===(a=u.Details)||void 0===a?void 0:a.Hint)?'<p style="padding-bottom: 10px; opacity: 0.8; font-size: 10px; line-height: 16px;">'.concat(null===(c=u.Details)||void 0===c?void 0:c.Hint,"</p>"):"","\n\t\t\t\t\t").concat(((null===(s=u.Details)||void 0===s?void 0:s.Actions)||[]).map(Si).join(""),"\n\t\t\t\t</div>\n\t\t\t")}}return{error:'<div class="error-message">\n\t\t\t<div class="icon">\n\t\t\t\t<svg viewBox="0 0 24 24">\n\t\t\t\t\t<path fill-rule="evenodd" d="M22.349 22.5H1.65c-1.266 0-2.06-1.341-1.431-2.42l10.35-17.765c.632-1.087 2.23-1.087 2.862 0l10.35 17.765c.627 1.079-.166 2.42-1.432 2.42ZM12 7.135c.934 0 1.656.803 1.54 1.712l-.722 5.667a.819.819 0 0 1-.818.708.82.82 0 0 1-.818-.708l-.722-5.667c-.116-.909.606-1.712 1.54-1.712Zm1.154 10.513c0 .625-.517 1.132-1.154 1.132a1.143 1.143 0 0 1-1.154-1.133c0-.625.517-1.132 1.154-1.132.637 0 1.154.507 1.154 1.133Z" clip-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</div>\n\t\t\t<div class="text">'.concat(Ei(t,!0).replace(/\n/g,"<br>"),'</div>\n\t\t\t<button class="close-button">\n\t\t\t\t<svg viewBox="0 0 24 24">\n\t\t\t\t\t<path fill-rule="evenodd" d="M6.22 6.22a.75.75 0 0 1 1.06 0L12 10.94l4.72-4.72a.75.75 0 1 1 1.06 1.06L13.06 12l4.72 4.72a.75.75 0 1 1-1.06 1.06L12 13.06l-4.72 4.72a.75.75 0 0 1-1.06-1.06L10.94 12 6.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"/>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>')}}var Ci,Oi,Ti={fromSeconds:function(t,e){return(e||0)+1e3*t},fromMinutes:function(t,e){return t*this.fromSeconds(60,e)},fromHours:function(t,e){return t*this.fromMinutes(60,e)},fromDays:function(t,e){return t*this.fromHours(24,e)},toSeconds:function(t){return t/1e3},toMinutes:function(t){return this.toSeconds(t)/60},toHours:function(t){return this.toMinutes(t)/60},toDays:function(t){return this.toHours(t)/24},diffInMilliSeconds:function(t,e){return(e||Date.now())-(t||0)},diffInSeconds:function(t,e){return this.toSeconds(this.diffInMilliSeconds(t,e))},diffInMinutes:function(t,e){return this.toMinutes(this.diffInMilliSeconds(t,e))},diffInHours:function(t,e){return this.toHours(this.diffInMilliSeconds(t,e))},diffInDays:function(t,e){return this.toDays(this.diffInMilliSeconds(t,e))}},Pi=function(){return Pi=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pi.apply(this,arguments)},Ii=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},ji=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ai=O.item("crash-reports-disabled"),Li={key:"crash-reports-enabled",get:function(){return Ii(this,arguments,void 0,function(t){var e,n;return void 0===t&&(t=void 0),ji(this,function(r){switch(r.label){case 0:return[4,Ai.get(t?{value:!t.value}:void 0)];case 1:return e=r.sent(),[2,"boolean"==typeof(n=null==e?void 0:e.value)?Pi(Pi({},e||{}),{value:!n}):void 0]}})})},getDefined:function(t){return Li.get(t)},load:function(){return Ii(this,arguments,void 0,function(t){var e;return void 0===t&&(t=void 0),ji(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Ai.load(t)];case 1:return[2,"boolean"==typeof(e=n.sent().value)?{value:!e}:{}];case 2:return n.sent(),[2,{}];case 3:return[2]}})})},set:function(t){return Ai.set({value:!t.value})},setValue:function(t,e){return void 0===e&&(e={}),Ai.setValue(!t,e)},remove:function(){return Ai.remove()}},Ni=function(){return Ii(void 0,void 0,void 0,function(){var t;return ji(this,function(e){switch(e.label){case 0:return[4,Ai.getDefined({value:!1})];case 1:return(t=e.sent()).value=!t.value,[2,t]}})})},Di=function(t){var e=t.toString();return e.includes("/envelope/")?{"content-type":"application/x-sentry-envelope"}:e.includes("/store/")?{"content-type":"application/json"}:{}},Ri=function(t,e){return globalThis.fetch(t,Pi(Pi({},e),{headers:Pi(Pi(Pi({},null==e?void 0:e.headers),Di(t)),{"x-pm-uid":""})}))},Mi=function(t){return function(t,e=te("fetch")){let n=0,r=0;return Wt(t,function(o){const i=o.body.length;n+=i,r++;const a={body:o.body,method:"POST",referrerPolicy:"strict-origin",headers:t.headers,keepalive:n<=6e4&&r<15,...t.fetchOptions};if(!e)return ee("fetch"),F("No fetch implementation available");try{return e(t.url,a).then(t=>(n-=i,r--,{statusCode:t.status,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")}}))}catch(t){return ee("fetch"),n-=i,r--,F(t)}})}(t,Ri)},Ui={},$i=function(t){if(t){switch("object"==typeof t&&"Code"in t?t.Code:void 0){case 86110:case 86111:case 86112:case 86113:case 86114:case 86115:case 86300:return}var e=Ei(t);if(!/Url already open/.test(e)){var n=Date.now();n-((null==Ui?void 0:Ui[e])||0)<Ti.fromMinutes(5)||(Ui[e]=n,Bi().captureException(function(t,e){if(t instanceof Error)return t;var n=new Error(e);return n.previous=t,n}(t,e)))}}},qi=void 0,Bi=function(){if(qi)return qi;var t=[],e=qr().filter(function(t){return!["BrowserApiErrors","TryCatch","Breadcrumbs","GlobalHandlers"].includes(t.name)}),n=new so({dsn:v,release:c(),environment:/\.proton.me$/.test(p)?"prod":"test",normalizeDepth:5,transport:Mi,stackParser:bo,integrations:e,sendClientReports:!1,beforeSend:function(e){return Ii(this,void 0,void 0,function(){var n,r;return ji(this,function(o){switch(o.label){case 0:return[4,Ii(void 0,void 0,void 0,function(){return ji(this,function(t){switch(t.label){case 0:return[4,Ni()];case 1:return[2,t.sent().value]}})})];case 1:return o.sent()?(n=Date.now(),r=n-6e5,(t=t.filter(function(t){return t>=r})).length>5?[2,null]:(t.push(n),[2,e])):[2,null]}})})}});return(qi=new Te).setClient(n),n.init(),qi},Fi=function(t){"function"==typeof(null==t?void 0:t.then)&&t.then(function(){},$i)},Hi=function(t){"function"==typeof(null==t?void 0:t.catch)&&t.catch(function(){})},Gi=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Vi=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},zi=O.item("session",E),Wi=O.item("session"),Yi=function(){return Gi(void 0,void 0,void 0,function(){var t,e;return Vi(this,function(n){switch(n.label){case 0:return[4,zi.load()];case 1:return(t=n.sent())&&Wo(t).length?[2,t]:[4,Wi.load()];case 2:return(e=n.sent())&&Fi(zi.set(e)),[2,e]}})})},Ji=O.selfItem("credentials",E),Ki=function(){return Ji.remove()},Zi=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Xi=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Qi=function(t){return Zi(void 0,void 0,void 0,function(){var e,n,r;return Xi(this,function(o){switch(o.label){case 0:return[4,Yi()];case 1:return e=null===(r=o.sent())||void 0===r?void 0:r.uid,n=(null==t?void 0:t.uid)||e,Fi(t.persistent?Wi.set(t):Wi.remove()),[4,zi.set(t)];case 2:return o.sent(),n===e?[3,4]:[4,Ki()];case 3:o.sent(),o.label=4;case 4:return[2]}})})},ta=function(t,e){void 0===e&&(e=!0),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"logout",{enumerable:!0,configurable:!0,writable:!0,value:e}),this.message||(this.message="Missing refresh token")},ea=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},na=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ra=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},oa=!1,ia=[],aa=function(t,e){void 0===e&&(e=void 0),ai(t,e).catch(function(t){-1==="".concat((null==t?void 0:t.message)||t).indexOf("Receiving end does not exist.")&&bi(t)})},ca=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},sa=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ua=void 0,la=O.item("upgrade-error",t.LOCAL,"error"),fa=function(t){ua={version:a,time:Date.now(),error:t},Hi(t?la.set(ua):la.remove())},da=function(){return ca(void 0,void 0,void 0,function(){return sa(this,function(t){switch(t.label){case 0:return ua?[3,2]:[4,la.get()];case 1:(ua=t.sent())||fa(void 0),t.label=2;case 2:return ua?ua.version!==a||Date.now()-ua.time>Ti.fromHours(2)?(fa(void 0),[2,void 0]):[2,ua.error]:[2,void 0]}})})},pa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},va=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ha=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return e&&(t+=Math.round(e*(2*Math.random()-1))),setTimeout.apply(void 0,va([n,t],pa(r),!1))},ya=function(t,e){return void 0===e&&(e=0),new Promise(function(n){ha(t,e,n)})},ba=function(t,e,n,r){return void 0===r&&(r=Error),new Promise(function(o,i){var a=!1,c=setTimeout(function(){a=!0,i(new r(n||"Timeout"))},e);t.then(function(t){a||(o(t),clearTimeout(c))}).catch(i)})},ga=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},ma=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},wa=O.item("browser-type");!function(t){t.BRAVE="brave",t.VIVALDI="vivaldi",t.OCULUS="Oculus"}(Oi||(Oi={}));var xa,_a,Sa=function(t,e){return e in(t||{})},Ea=function(t){return"whenNavigator"in t},ka=function(t){return"whenWindow"in t},Ca=((Ci={})[Oi.OCULUS]={whenNavigator:function(t){return t.userAgent.includes("OculusBrowser")}},Ci[Oi.BRAVE]={whenNavigator:function(t){return Sa(t,Oi.BRAVE)}},Ci[Oi.VIVALDI]={whenWindow:function(t){return Sa(t,Oi.VIVALDI)}},Ci),Oa=function(t){return Fi(wa.setValue(t)),t},Ta=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Pa=function(){return Pa=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Pa.apply(this,arguments)},Ia=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},ja=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Aa=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},La=function(t,e,n){return void 0===n&&(n={}),{method:t,headers:Pa({Accept:"application/json","Content-Type":"application/json"},n),body:JSON.stringify(e)}},Na={},Da=function(t,e,n,r,o){return Ia(void 0,void 0,void 0,function(){var i,a,s,u,l,f,p,v,h,y,b,g,m,w,x,_;return ja(this,function(S){switch(S.label){case 0:if(i="".concat((null==e?void 0:e.method)||"GET"," ").concat(t),a=Na[i]){if(a.time>=Date.now())return[2,a.response.clone()];delete Na[i]}return(s=(null==e?void 0:e.headers)||{})["x-pm-uid"]?[3,5]:(l=r)?[3,2]:[4,Yi()];case 1:l=S.sent(),S.label=2;case 2:return(u=l).expiresAt?[3,3]:(f=null==u?void 0:u.uid,p=null==u?void 0:u.accessToken,f&&p&&Object.assign(s,function(t,e){return{"x-pm-uid":t,Authorization:"Bearer ".concat(e)}}(f,p)),[3,5]);case 3:return!r&&(o||0)<Date.now()?[4,ya(200)]:[3,5];case 4:return S.sent(),[2,Da(t,e,n,r,o||Ti.fromSeconds(8,Date.now()))];case 5:return h=[Pa({mode:"cors",credentials:"include",redirect:"follow",method:"GET"},e)],w={},x={"x-pm-appversion":c()},y="x-pm-browser-type",[4,ga(void 0,void 0,void 0,function(){var t,e,n;return ma(this,function(r){switch(r.label){case 0:if("object"==typeof navigator)for(e in Ca)if(n=Ca[e],Ea(n)&&n.whenNavigator(navigator))return[2,Oa(e)];return[4,wa.get()];case 1:if(void 0!==(t=r.sent()))return[2,t.value];if("object"==typeof window)for(e in Ca)if(n=Ca[e],ka(n)&&n.whenWindow(window))return[2,Oa(e)];return[2,""]}})})];case 6:return v=Pa.apply(void 0,h.concat([(w.headers=Pa.apply(void 0,[(x[y]=S.sent(),x),s]),w)])),[4,fetch("".concat(n||d).concat(t),v)];case 7:return b=S.sent(),Za(b)&&(g="".concat(b.headers.get("Retry-After")||"0"),m=Math.min(Date.now()+Ti.fromMinutes(30),/^\d+$/.test(g)?Date.now()+Ti.fromSeconds(Math.max(10,Number(g))):new Date(g).getTime()),((null===(_=Na[i])||void 0===_?void 0:_.time)||0)<m&&(Na[i]={time:m,response:b.clone()})),[2,b]}})})},Ra=function(t){return Ia(void 0,void 0,void 0,function(){var e;return ja(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,4]),[4,t.clone().json()];case 1:return[2,n.sent()];case 2:return e=n.sent(),[4,$a(t)];case 3:throw n.sent(),yi(t.status,e),new Error(Lo("Error").t(Fa||(Fa=Ta(["Service temporarily unavailable"],["Service temporarily unavailable"]))));case 4:return[2]}})})},Ma=function(t,e){return Ia(void 0,void 0,void 0,function(){var n;return ja(this,function(r){switch(r.label){case 0:return[4,Ra(t)];case 1:return n=r.sent(),[2,e?e(t,n):n]}})})},Ua=function(t){var e=function(t){var e,n;try{for(var r=Aa(b),o=r.next();!o.done;o=r.next()){var i=o.value;if(t.includes(i))return i}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}(t);return e?new Error(Lo("Info").t(Ha||(Ha=Ta(["VPN blocked by external software: ",".\n\nSome tools, like anti-viruses or proxies, can interfere with Proton VPN. You can try disabling it to confirm."],["VPN blocked by external software: ",".\\n\\nSome tools, like anti-viruses or proxies, can interfere with Proton VPN. You can try disabling it to confirm."])),e)):($i("HTML Content Received: "+t.replace(/<script[^>]*>[\s\S]*?<\/script[^>]*>/gi,"").replace(/<style[^>]*>[\s\S]*?<\/style[^>]*>/gi,"").replace(/src=["']data:[^"']+["']/gi,"")),new Error(Lo("Info").t(Ga||(Ga=Ta(["VPN blocked by external software.\n\nSome tools, like anti-viruses or proxies, can interfere with Proton VPN. Disable them and retry."],["VPN blocked by external software.\\n\\nSome tools, like anti-viruses or proxies, can interfere with Proton VPN. Disable them and retry."])))))},$a=function(t){return Ia(void 0,void 0,void 0,function(){var e;return ja(this,function(n){switch(n.label){case 0:return[4,t.text()];case 1:if(function(t){return/^\s*</.test(t)}(e=n.sent()))throw Ua(e);return[2,e]}})})},qa=function(t){return Ia(void 0,void 0,void 0,function(){return ja(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,4]),[4,t.clone().json()];case 1:case 3:return[2,e.sent()];case 2:return e.sent(),[4,$a(t)];case 4:return[2]}})})},Ba=function(t,e,n,r){return Ia(void 0,void 0,void 0,function(){var o,i,a,c,s,u,l,f,d;return ja(this,function(p){switch(p.label){case 0:return[4,da()];case 1:if(o=p.sent())throw aa("updateExtension",{error:o}),o;return[4,Da(t,e,n)];case 2:return i=p.sent(),Va(i)?[3,9]:[4,qa(i)];case 3:if(a=p.sent(),(c=(null==a?void 0:a.Error)?a:new Error(a)).response=i,c&&"object"==typeof c&&(c.httpStatus=i.status),Ka(a))throw aa("updateExtension",{error:c}),fa(a),c;return fa(void 0),/\/?auth(\/.*)$/.test(t)||!Ya(c)?[3,8]:[4,Yi()];case 4:return s=p.sent(),u=s.uid,l=s.accessToken,[4,(v=s,ea(void 0,void 0,void 0,function(){var t,e,n;return na(this,function(r){switch(r.label){case 0:return v?[3,2]:[4,Yi()];case 1:v=r.sent(),r.label=2;case 2:if(!v.uid||!v.refreshToken)throw new ta;return oa?[4,new Promise(function(t,e){ia.push([t,e])})]:[3,4];case 3:return[2,r.sent()];case 4:return r.trys.push([4,8,12,13]),oa=!0,v.expiresAt=Date.now(),[4,Qi(v)];case 5:return r.sent(),[4,Ba("auth/refresh",La("POST",{UID:v.uid,ResponseType:"token",GrantType:"refresh_token",RefreshToken:v.refreshToken,RedirectURI:v.redirectURI||"https://protonvpn.com"},{"x-pm-uid":v.uid}))];case 6:return t=r.sent(),delete v.expiresAt,v.refreshToken=t.RefreshToken,v.accessToken=t.AccessToken,[4,Qi(v)];case 7:return r.sent(),ia.forEach(function(t){(0,ra(t,1)[0])(v)}),ia=[],[2,v];case 8:return e=r.sent(),[4,Yi()];case 9:return(n=r.sent()).expiresAt&&n.accessToken===v.accessToken?(delete n.expiresAt,[4,Qi(n)]):[3,11];case 10:r.sent(),r.label=11;case 11:if(10013===e.Code){yi(e,(new Error).stack),e=new ta(Ei(e));try{Fi(ci(ei.SIGN_OUT))}catch(t){}ia.forEach(function(t){(0,ra(t,2)[1])(e)}),ia=[]}throw e;case 12:return oa=!1,[7];case 13:return[2]}})}))];case 5:return!(f=p.sent()).uid||!f.accessToken||f.uid===u&&f.accessToken===l?[3,7]:[4,Da(t,e,n,f)];case 6:if(d=p.sent(),Va(d))return[2,Ma(d,r)];p.label=7;case 7:yi(c),p.label=8;case 8:throw c;case 9:return fa(void 0),[2,Ma(i,r)]}var v})})};!function(t){t.UPGRADE="Upgrade"}(xa||(xa={})),function(t){t.MAIN_ACTION="main_action",t.SECONDARY_ACTION="secondary_action",t.LINK="link"}(_a||(_a={}));var Fa,Ha,Ga,Va=function(t){return t.status>=200&&t.status<300},za=function(t,e){return"object"==typeof t&&(null==t?void 0:t.httpStatus)===e},Wa=function(t){return za(t,401)},Ya=function(t){return Wa(t)&&401===t.Code},Ja=function(t){var e;return"DeviceLimit"===(null===(e=null==t?void 0:t.Details)||void 0===e?void 0:e.Type)},Ka=function(t){return"object"==typeof t&&5003===(null==t?void 0:t.Code)},Za=function(t){return"object"==typeof t&&(429===(null==t?void 0:t.Code)||503===(null==t?void 0:t.Code))},Xa=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Qa=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},tc=function(t,e){return"string"==typeof t&&"string"==typeof e?t.localeCompare(e):t>e?1:t<e?-1:0},ec=function(){function t(t){Object.defineProperty(this,"transformer",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"sortingCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:[]})}return Object.defineProperty(t.prototype,"getField",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.transformer?this.transformer.apply(this,Qa([t],Xa(e),!1)):t}}),Object.defineProperty(t.prototype,"sort",{enumerable:!1,configurable:!0,writable:!0,value:function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.sortingCallbacks.length&&t.sort(function(t,r){var o=e.getField.apply(e,Qa([t],Xa(n),!1)),i=e.getField.apply(e,Qa([r],Xa(n),!1)),a=0;return e.sortingCallbacks.some(function(t){return a=t(o,i)}),a})}}),Object.defineProperty(t.prototype,"asc",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.sortingCallbacks.push(function(e,n){return tc(null==e?void 0:e[t],null==n?void 0:n[t])}),this}}),Object.defineProperty(t.prototype,"desc",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return this.sortingCallbacks.push(function(e,n){return tc(null==n?void 0:n[t],null==e?void 0:e[t])}),this}}),t}(),nc=O.selfItem("user",E),rc=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},oc=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ic=function(){return rc(void 0,void 0,void 0,function(){var t;return oc(this,function(e){switch(e.label){case 0:return[4,nc.load()];case 1:return function(t){var e;return"object"==typeof(null===(e=null==t?void 0:t.User)||void 0===e?void 0:e.VPN)}(null==(t=e.sent())?void 0:t.user)&&(t.user=t.user.User),[2,t]}})})};function ac(t,e,n){return Math.max(t,Math.min(e,n))}var cc=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},sc=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},uc=function(e){return cc(void 0,void 0,void 0,function(){var n;return sc(this,function(r){switch(r.label){case 0:return[4,O.getItem("backoff-"+e,void 0,t.LOCAL)];case 1:return(n=r.sent())?Date.now()>n.forget?(function(e){Fi(O.removeItem("backoff-"+e,t.LOCAL))}(e),[2,!1]):[2,Date.now()<=n.expiration]:[2,!1]}})})},lc=function(e,n){void 0===n&&(n=5e3),Fi(cc(void 0,void 0,void 0,function(){var r,o,i,a;return sc(this,function(c){switch(c.label){case 0:return[4,O.getItem("backoff-"+e,void 0,t.LOCAL)];case 1:return r=c.sent(),o=((null==r?void 0:r.increment)||0)+1,i=Date.now()+1e3*Math.min(300,Math.pow(n/1e3,(1+o)/2)),a=Date.now()+2e4+1e3*ac(15,Math.pow(n/1e3,(2+o)/2),600),[4,O.setItem("backoff-"+e,{increment:o,expiration:i,forget:a},t.LOCAL)];case 2:return c.sent(),[2]}})}))},fc=(O.item("connectedServer",t.SESSION),function(t){var e;return(null===(e=null==t?void 0:t.VPN)||void 0===e?void 0:e.MaxTier)||0}),dc=function(t){return fc(t)>0},pc=function(){var t,e=!1;n.g.browser||(n.g.browser=chrome);var r=((t={})[ii.USER]=function(t){var n=t.user;e=dc(n)},t);return browser.runtime.onMessage.addListener(function(t){var e,n=null==t?void 0:t.event;return null===(e=r[n])||void 0===e||e.call(r,t),!1}),function(){return!e}}(),vc=function(){return pc()?Ti.fromDays(1):Ti.fromHours(6)},hc=function(){return Ti.fromDays(10)},yc=function(){return pc()?Ti.fromDays(7):Ti.fromDays(3)},bc=function(){return Ti.fromHours(12)},gc=function(){return gc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},gc.apply(this,arguments)},mc=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},wc=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},xc=O.item("location",t.LOCAL),_c=O.item("location-fetching",t.LOCAL);Fi(xc.remove());var Sc,Ec=function(){return xc.load()},kc=function(){return mc(void 0,void 0,void 0,function(){var t,e,n,r,o,i,a,c;return wc(this,function(s){switch(s.label){case 0:return[4,Ec()];case 1:return t=s.sent(),e=pc()?Ti.fromMinutes(30):Ti.fromMinutes(10),(n=Ti.diffInMilliSeconds(null==t?void 0:t.time)<e)?[3,3]:[4,uc("location")];case 2:n=s.sent(),s.label=3;case 3:if(n)return[2,null==t?void 0:t.location];s.label=4;case 4:return r=Date.now(),[4,_c.get()];case 5:return r-((null===(c=s.sent())||void 0===c?void 0:c.time)||0)<Ti.fromSeconds(2)?[4,ya(200)]:[3,8];case 6:return s.sent(),[4,Ec()];case 7:return o=s.sent(),Ti.diffInMilliSeconds(null==o?void 0:o.time)<e?[2,null==o?void 0:o.location]:[3,4];case 8:return[4,mc(void 0,void 0,void 0,function(){return wc(this,function(t){switch(t.label){case 0:return[2,!0];case 1:return[2,t.sent()]}})})];case 9:if(!s.sent())return[2,null==t?void 0:t.location];s.label=10;case 10:return s.trys.push([10,15,16,17]),[4,_c.setValue(null)];case 11:return s.sent(),[4,Ba("vpn/v1/location")];case 12:return(i=s.sent())?[4,xc.set({time:Date.now(),location:i})]:[3,14];case 13:s.sent(),s.label=14;case 14:return[2,i];case 15:if(a=s.sent(),lc("location"),a instanceof ta)throw a;return[2,null==t?void 0:t.location];case 16:return Fi(_c.remove()),[7];case 17:return[2]}})})},Cc=function(t,e,n){return mc(void 0,void 0,void 0,function(){var r,o;return wc(this,function(i){switch(i.label){case 0:return[4,kc()];case 1:return r=i.sent(),(o=null==r?void 0:r.IP)&&(e||(e={}),e.headers=gc(gc({},e.headers),{"x-pm-netzone":o.replace(/\.\d+$/,".0"),"x-pm-country":null==r?void 0:r.Country})),[4,Ba(t,e,void 0,n)];case 2:return[2,i.sent()]}})})},Oc=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Tc=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Pc=function(t,e,n){return Oc(void 0,void 0,void 0,function(){var r,o,i,a,c,s;return Tc(this,function(u){switch(u.label){case 0:return[4,ic()];case 1:if(r=(null===(s=null===(c=u.sent())||void 0===c?void 0:c.user)||void 0===s?void 0:s.VPN)||{},o=r.MaxTier,i=r.Groups,e||(e={}),"number"!=typeof o)throw new Error("Cannot fetch ".concat(t," while not authenticated"));return Object.assign(e.headers||(e.headers={}),{"x-pm-max-tier":"".concat(o)}),i&&(a=i.length,Object.assign(e.headers||(e.headers={}),1===a?{"x-pm-single-group":i.join(",")}:{"x-pm-group-count":a})),[4,Cc(t,e,n)];case 2:return[2,u.sent()]}})})},Ic=function(t){return function(t){return t&&"object"==typeof t&&"number"==typeof(null==t?void 0:t.time)}(t)?Date.now()-t.time:1/0},jc=function(){return jc=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},jc.apply(this,arguments)},Ac=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Lc=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Nc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Dc=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Rc={},Mc=function(e,n){return Ac(void 0,void 0,void 0,function(){var r,o,i;return Lc(this,function(a){switch(a.label){case 0:return[4,Ba("vpn/v1/cities/names")];case 1:return r=a.sent(),(o=r.Cities)?(i={time:Date.now(),value:o},Rc[n]=i,Fi(O.setItem("city-names-"+e,i,t.LOCAL)),[2,o]):[2,{}]}})})},Uc=void 0,$c=0,qc=function(t,e){var n=0===Object.keys(e).length,r=0;if(t.forEach(function(t){var o;n||(null===(o=t.Translations)||void 0===o?void 0:o.City)||!t.City||((e[t.ExitCountry]||{}).hasOwnProperty(t.City)?t.Translations=jc({City:e[t.ExitCountry][t.City]},t.Translations):3!==t.Tier&&r++)}),r>0){var o=Date.now();o-$c>Ti.fromHours(1)&&($c=o,Fc(Uc,!0).then(function(e){qc(t,e)}))}},Bc=function(e,n){return Ac(void 0,void 0,void 0,function(){var r;return Lc(this,function(o){switch(o.label){case 0:return Rc[e]?[2,Rc[e]]:[4,O.getItem("city-names-"+n,void 0,t.LOCAL)];case 1:return(r=o.sent())&&(Rc[e]=r),[2,r]}})})},Fc=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return Ac(void 0,Dc([t],Nc(e),!1),void 0,function(t,e){var n,r,o,i;return void 0===e&&(e=!1),Lc(this,function(a){switch(a.label){case 0:return Uc=t,n=navigator.languages||[Uo()],/^en(-.*)$/.test("".concat(n[0]||""))?[2,{}]:(r=n.join("/"),o=(t||"")+":"+r,e?[3,2]:[4,Bc(o,r)]);case 1:if(i=a.sent(),Ic(i)<Ti.fromDays(20))return[2,(null==i?void 0:i.value)||{}];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,Mc(r,o)];case 3:return[2,a.sent()];case 4:return a.sent(),[2,{}];case 5:return[2]}})})};!function(t){t[t.SECURE_CORE=1]="SECURE_CORE",t[t.TOR=2]="TOR",t[t.P2P=4]="P2P",t[t.STREAMING=8]="STREAMING",t[t.IPV6=16]="IPV6",t[t.RESTRICTED=32]="RESTRICTED",t[t.PARTNER=64]="PARTNER"}(Sc||(Sc={}));var Hc,Gc=function(t){return!(!(t&&t.Status>0)||3&(t.ServicesDown||0))},Vc=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},zc=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Wc=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Yc=O.item("logicals-servers",t.LOCAL),Jc={},Kc=function(t){return Vc(void 0,void 0,void 0,function(){var e,n,r,o,i,a;return zc(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),e=null==t?void 0:t.lastModified,[4,Pc("vpn/v1/logicals",{headers:{"If-Modified-Since":e||"Thu, 01 Jan 1970 00:00:00 GMT"}},function(t,e){return{logicals:null==e?void 0:e.LogicalServers,lastModified:t.headers.get("Last-Modified")}})];case 1:return n=c.sent(),r=n.logicals,o=n.lastModified,r.forEach(ts),Fi(Yc.setValue(r,{lastModified:o})),Fi(Fc()),[2,r];case 2:if(i=c.sent(),null==t?void 0:t.value)return function(t){return 304===(null==t?void 0:t.status)||za(t,304)}(a=null==i?void 0:i.response)&&Fi(Yc.setValue(t.value,{lastModified:a.headers.get("Last-Modified")})),[2,t.value];throw i;case 3:return[2]}})})},Zc=function(){return Vc(void 0,void 0,void 0,function(){var t,e;return zc(this,function(n){switch(n.label){case 0:return[4,Yc.get()];case 1:return t=n.sent(),e=Ic(t),t&&e<vc()?[2,t.value]:t&&e<8*vc()?(Fi(Kc(t)),[2,t.value]):[4,Kc(t)];case 2:return[2,n.sent()]}})})},Xc=function(){return Vc(void 0,void 0,void 0,function(){var t;return zc(this,function(e){switch(e.label){case 0:return[4,Zc()];case 1:return function(t){t.sort(function(t,e){if(t.SearchScore!==e.SearchScore)return tc(e.SearchScore,t.SearchScore);if(t.ExitCountry!==e.ExitCountry)return tc(t.ExitCountry,e.ExitCountry);var n=Wc(t.Name.split("#",2),2),r=n[0],o=n[1],i=Wc(e.Name.split("#",2),2),a=i[0],c=i[1];return r===a?/^\d+$/.test(o||"0")&&/^\d+$/.test(c||"0")?tc(parseInt(o||"0",10),parseInt(c||"0",10)):tc(o,c):tc(r,a)})}(t=e.sent().filter(function(t){return t.Tier<=(n.g.logicalMaxTier||2)&&(y||0===(t.Features&(Sc.TOR|Sc.RESTRICTED)))})),t.forEach(function(t){Jc[t.ID]=t}),[2,t]}})})},Qc=function(t){return Jc[t]},ts=function(t){t._up=t.Status>0&&(t.Servers||[]).some(Gc)},es=function(t){return void 0===t._up&&ts(t),t._up},ns=function(t){return ci(t)},rs=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},os=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},is=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},as=!1,cs=[],ss=O.item("servers-count",t.LOCAL),us=function(){return rs(void 0,void 0,void 0,function(){var t,e;return os(this,function(n){switch(n.label){case 0:if(as)return[2,new Promise(function(t,e){cs.push([t,e])})];as=!0,n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,Ba("vpn/servers-count")];case 2:return t=n.sent(),Fi(ss.setValue(t)),cs.forEach(function(e){(0,is(e,1)[0])(t)}),[2,t];case 3:throw e=n.sent(),cs.forEach(function(t){(0,is(t,2)[1])(e)}),e;case 4:return cs=[],as=!1,[7];case 5:return[2]}})})},ls=function(){return rs(void 0,void 0,void 0,function(){var t,e,n,r;return os(this,function(o){switch(o.label){case 0:return[4,ss.get()];case 1:if(t=o.sent(),e=Ic(t),t&&e<hc())return[2,t.value];if(t&&e<2*hc())return Fi(us()),[2,t.value];o.label=2;case 2:return o.trys.push([2,4,,5]),[4,us()];case 3:return(n=o.sent()).Servers<12e3||n.Countries<110?($i(new Error("Incorrect results from API: servers = ".concat(n.Servers,", countries = ").concat(n.Countries))),[2,{Servers:13626,Countries:122,Capacity:15942}]):[2,n];case 4:if(r=o.sent(),null==t?void 0:t.value)return[2,t.value];throw r;case 5:return[2]}})})},fs=function(t,e){void 0===e&&(e=!0);var n,r=(n=t,btoa(n).trim()).replace(/\+/g,"-").replace(/\//g,"_");return e?r.replace(/=/g,""):r},ds=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},ps=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},vs={signup:"2"},hs=function(e){return ds(void 0,[e],void 0,function(e){var n,r,o,i=e.host,a=e.action,s=e.partnerId,u=e.independent;return ps(this,function(e){switch(e.label){case 0:return n=fs(function(t){for(var e=[],n=16384,r=t.length,o=0;o<r;o+=n)e.push(String.fromCharCode.apply(String,t.subarray(o,o+n<r?o+n:r)));return e.join("")}(crypto.getRandomValues(new Uint8Array(32)))),r={partnerId:s,independent:u},[4,O.setItem("f".concat(n),r,t.LOCAL)];case 1:return e.sent(),o={app:"proton-vpn-browser-extension",appVersion:c(),state:n,t:a&&vs[a]||"1",plan:"vpn2024"},s&&(o.partnerId=s),u&&(o.independent="1"),[2,"".concat(i,"/authorize?").concat(new URLSearchParams(o).toString())]}})})},ys=function(){if(!browser.tabs)throw new Error("Some permissions for the extension are missing, please try to re-install");return browser.tabs},bs=function(){return bs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},bs.apply(this,arguments)},gs={vivaldi:{id:"4",welcomePage:"https://vivaldi.com/protonvpn/welcome/"}},ms=(Hc=void 0,function(){return ms=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ms.apply(this,arguments)}),ws=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},xs=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},_s=n.g||window;_s.browser||(_s.browser=chrome);var Ss=O.item("tabs",t.LOCAL),Es=function(t){var e,n;!function(t){Fi(ws(void 0,void 0,void 0,function(){var e,n,r,o;return xs(this,function(i){switch(i.label){case 0:return n=(e=Ss).set,r=[{}],[4,Ss.load({})];case 1:return[4,n.apply(e,[ms.apply(void 0,[ms.apply(void 0,r.concat([i.sent()])),(o={},o[t]=!0,o)])])];case 2:return[2,i.sent()]}})}))}(t),Fi(null===(n=(e=ys()).executeScript)||void 0===n?void 0:n.call(e,t,{code:"\n\t\t\tchrome.runtime.connect();\n\t\t\twindow.addEventListener('message', (event) => {\n\t\t\t\tif (event.source != window) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tchrome.runtime.sendMessage({...event.data, tabId: ".concat(JSON.stringify(t),"});\n\t\t\t}, false);\n\t\t")}))},ks=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Cs=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Os={},Ts=function(t,e){return ks(void 0,void 0,void 0,function(){var n,r;return Cs(this,function(o){switch(o.label){case 0:if(n="string"==typeof t?{url:t}:t,r=e||n.url){if(Os[r])throw new Error("Url already open");Os[r]=!0,setTimeout(function(){delete Os[r]},800)}return[4,ys().create(n)];case 1:return[2,o.sent()]}})})},Ps=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Is=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},js=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},As=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Ls=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ps(void 0,As([],js(t),!1),void 0,function(t){var e,n=void 0===t?{}:t,r=n.action,o=n.partnerId,i=n.independent;return Is(this,function(t){switch(t.label){case 0:return[4,uc("openForkTab")];case 1:if(t.sent())throw new Error("Fork in progress");return lc("openForkTab",500),e=Ts,[4,hs({host:u,action:r,partnerId:o,independent:i})];case 2:return e.apply(void 0,[t.sent(),"fork"]).then(function(t){t.id&&Es(t.id);var e=function(n){var r,o;t.id===n&&(ys().onRemoved.removeListener(e),null===(o=null===(r=browser.action)||void 0===r?void 0:r.openPopup)||void 0===o||o.call(r))};ys().onRemoved.addListener(e)}),[2]}})})},Ns=["http://*/*","https://*/*","ftp://*/*","ws://*/*","wss://*/*","https://account.protonvpn.com/*","https://account.proton.me/*"];"https://account.proton.me"!==u&&Ns.push(u+"/*");var Ds,Rs,Ms,Us,$s,qs,Bs,Fs,Hs,Gs,Vs,zs,Ws,Ys,Js={permissions:["proxy"],origins:Ns},Ks=function(){return/^moz-extension:/.test(location.href)?{name:"Firefox",type:"firefox",pluginsUrl:"https://addons.mozilla.org/firefox/addon/proton-vpn-firefox-extension",storeReviewsUrl:"https://addons.mozilla.org/firefox/addon/proton-vpn-firefox-extension/reviews/"}:{name:"Chrome",type:"chromium",pluginsUrl:"chrome://extensions/",storeReviewsUrl:"https://chromewebstore.google.com/detail/proton-vpn-fast-secure/".concat(s,"/reviews")}},Zs=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Xs=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Qs=function(t){return Zs(void 0,void 0,void 0,function(){return Xs(this,function(e){return[2,new Promise(function(e){var r,o,i=null===(o=null===(r=n.g[t])||void 0===r?void 0:r.protonvpn)||void 0===o?void 0:o.getStatus;"function"!=typeof i?e({oauthAllowed:!1,loggedInUser:!1,signupButton:!1}):i(function(n){var r;"boolean"==typeof(null==n?void 0:n.isLoggedIn)?e({partnerId:null===(r=gs[t])||void 0===r?void 0:r.id,oauthAllowed:!0,loggedInUser:n.isLoggedIn,signupButton:n.canSignUp||!1}):e({oauthAllowed:!1,loggedInUser:!1,signupButton:!1})})})]})})},tu=function(){return Zs(void 0,void 0,void 0,function(){var t,e;return Xs(this,function(n){switch(n.label){case 0:return t=Object.keys(gs),[4,Promise.all(t.map(Qs))];case 1:return e=n.sent().filter(function(t){return t.oauthAllowed}),[2,e[0]||{oauthAllowed:!1,loggedInUser:!1,signupButton:!1}]}})})},eu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},nu=void 0,ru=0,ou=function(t){nu||(nu=13626);var e,n,r=function(t,e){var n=Math.floor(t/e)*e;return n===nu?n-100:n}(nu,100),o=new Intl.NumberFormat(e||$o()||"en-US",n).format(r);t&&"querySelectorAll"in t&&t.querySelectorAll(".incentive-paragraph").forEach(function(t){t.innerHTML=Lo("Info").plural(r,Io(Ds||(Ds=eu(["High performance Swiss VPN that protects your privacy. Maximum security, more than "," server and no restrictions."],["High performance Swiss VPN that protects your privacy. Maximum security, more than "," server and no restrictions."])),o),"High performance Swiss VPN that protects your privacy. Maximum security, more than ".concat(o," servers and no restrictions."))})},iu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},au=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},cu=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},su=function(){if(Date.now()-ru>Ti.fromHours(3))return ls().then(function(t){var e;return e=t.Servers,nu=e,ru=Date.now(),ou(),t})},uu=function(t,e,n,r){return au(void 0,void 0,void 0,function(){var o,i,a,c,s,u,l,f,d,p,v,y,b,g,m,w,x;return cu(this,function(_){switch(_.label){case 0:return t&&e?((r=!(void 0!==r&&!r||!chrome.proxy))&&chrome.permissions.contains(Js,function(r){r||lu(t,e,n,!1)}),o=function(t){return function(e){if(e){c.classList.add("update-extension"),c.innerHTML=Lo("Action").t(Ms||(Ms=iu(["Update"],["Update"])));var n=(null==e?void 0:e.Error)||Ei(e);i[0]&&(i[0].classList.remove("incentive-paragraph"),i[0].innerHTML=" "+n),i[1]&&(i[1].style.display="none"),a&&(a.style.display="none");var r=new Error(t+": "+n);r.previous=e,$i(r)}}},null===(x=su())||void 0===x||x.catch(o("prepareSigningView")),i=t.querySelectorAll("p"),a=t.querySelector("button.sign-up-button"),c=t.querySelector("button.sign-in-button"),s=t.querySelector("a.sign-in-link"),c.classList.remove("update-extension"),u=function(t){void 0===t&&(t=""),c.innerHTML=t||(r?Lo("Action").t(Us||(Us=iu(["Sign in"],["Sign in"]))):Lo("Action").t($s||($s=iu(["Next"],["Next"]))))},[4,tu()]):[2,Ls()];case 1:return l=_.sent(),f=l.oauthAllowed,d=l.signupButton,p=l.partnerId,u(f?Lo("Action").t(qs||(qs=iu(["Sign in with Vivaldi"],["Sign in with Vivaldi"]))):""),s.style.display=f?"inline":"none",f?((v=t.querySelector(".sign-up-button-box"))&&!d&&(v.style.display="none"),t.classList.add("partner"),y="img/partner-welcome-image-dark@2x.svg",b=new Image,[4,new Promise(function(t){b.onload=t,b.onerror=t,b.src=y,setTimeout(t,1e3)})]):[3,3];case 2:_.sent(),t.querySelectorAll("img.welcome-background").forEach(function(t){t.src=y}),(g=t.querySelector("h1"))&&(g.innerText=Lo("Title").t(Bs||(Bs=iu(["Proton VPN for Vivaldi"],["Proton VPN for Vivaldi"])))),(m=t.querySelector(".incentive-paragraph"))&&(m.innerText=Lo("Info").t(Fs||(Fs=iu(["Protect yourself online with Proton's free highspeed VPN."],["Protect yourself online with Proton's free highspeed VPN."])))),_.label=3;case 3:if(t.style.display="block",e.style.display="none",n&&(n.style.display="none"),w=function(t){return au(void 0,void 0,void 0,function(){var e;return cu(this,function(n){switch(n.label){case 0:return e=setTimeout(function(){null===window||void 0===window||window.close()},200),[4,browser.permissions.request(Js)];case 1:return n.sent()?(r||Fi(ci(ri.PROXY)),clearTimeout(e),[4,Ls({partnerId:t})]):[2];case 2:return n.sent(),null===window||void 0===window||window.close(),[2]}})})},c.addEventListener("click",function(){return au(void 0,void 0,void 0,function(){return cu(this,function(t){switch(t.label){case 0:return c.classList.contains("update-extension")?(Fi(Ts(Ks().pluginsUrl)),null===window||void 0===window||window.close(),[2]):[4,w(p)];case 1:return t.sent(),[2]}})})}),s&&s.addEventListener("click",function(){return au(void 0,void 0,void 0,function(){return cu(this,function(t){switch(t.label){case 0:return[4,w(void 0)];case 1:return t.sent(),[2]}})})}),setTimeout(function(){c.scrollIntoView()}),i[0]){if(!r)return i[0].classList.remove("incentive-paragraph"),i[0].innerHTML="<b>".concat(Lo("Info").t(Hs||(Hs=iu(["Allow VPN permissions"],["Allow VPN permissions"]))),"</b><br><br>")+Lo("Info").t(Gs||(Gs=iu(["To get started, youll need to enable VPN permissions on your browser."],["To get started, youll need to enable VPN permissions on your browser."])))+"<br><br>"+Lo("Info").t(Vs||(Vs=iu(["Press <b>Next</b>, then click <b>Allow</b> on the pop-up from your browser."],["Press <b>Next</b>, then click <b>Allow</b> on the pop-up from your browser."])))+"<br><br>"+Lo("Info").t(zs||(zs=iu(["Then just click the Proton VPN icon to sign in."],["Then just click the Proton VPN icon to sign in."]))),[2];!function(t,e,n){if(n)return e.classList.add("partner-subtitle"),e.classList.remove("incentive-paragraph"),void(e.innerText=Lo("Info").t(Rs||(Rs=eu(["Protect yourself online with Proton's free highspeed VPN."],["Protect yourself online with Proton's free highspeed VPN."]))));e.classList.add("incentive-paragraph"),ou(t)}(t,i[0],f)}return r&&h?(!f&&i[1]&&(i[1].style.display="",i[1].innerHTML=Lo("Action").t(Ws||(Ws=iu(["New to Proton?"],["New to Proton?"])))),a&&(a.style.display="",a.innerHTML=Lo("Action").t(Ys||(Ys=iu(["Create an account"],["Create an account"]))),a.addEventListener("click",function(){return au(void 0,void 0,void 0,function(){return cu(this,function(t){switch(t.label){case 0:return[4,Ls({action:"signup",partnerId:p})];case 1:return t.sent(),null===window||void 0===window||window.close(),[2]}})})})),da().then(o("getUpdateError")),[2]):(i[1]&&(i[1].style.display="none"),a&&(a.style.display="none"),[2])}})})},lu=function(t,e,n,r){Fi(uu(t,e,n,r))},fu=function(){return fu=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},fu.apply(this,arguments)};var du=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},pu=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},vu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},hu=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},yu=n.g||window;yu.browser||(yu.browser=chrome);var bu,gu,mu,wu,xu,_u,Su,Eu,ku,Cu,Ou,Tu,Pu,Iu,ju,Au,Lu,Nu,Du,Ru,Mu,Uu,$u,qu,Bu,Fu,Hu,Gu,Vu,zu=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return du(void 0,hu([],vu(t),!1),void 0,function(t){var e,n,r;return void 0===t&&(t={}),pu(this,function(o){switch(o.label){case 0:return su(),[4,Qi(t)];case 1:return o.sent(),e=document.getElementById("spinner"),n=document.getElementById("sign-in-view"),r=document.getElementById("logged-view"),n&&r?(lu(n,r,e),[2,!1]):(function(t,e){void 0===e&&(e={}),e.error instanceof Error&&(e.error={message:e.error.message,stack:e.error.stack}),aa("changeState",fu({state:t},e))}("logged-out"),[2,!1])}})})},Wu=function(t){return void 0===t&&(t={}),zu(t)},Yu=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Ju=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ku=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Zu=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Xu=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Qu=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},tl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},el=function(t){return Object.values((null==t?void 0:t.groups)||{}).reduce(function(t,e){return t.concat.apply(t,tl([],Qu(el(e)),!1))},(null==t?void 0:t.logicals)||[])},nl=function(t,e,n){var r=function(t,e){var n=(t||[]).filter(function(t){return es(t)&&e>=t.Tier}),r=1/0,o=void 0;return n.forEach(function(t){t.Score<r&&(r=t.Score,o=t)}),o}(t,e);if(!r)throw null==n||n(new Error(Lo("Error").t(bu||(bu=Xu(["Unable to find appropriate server, try to logout and login again if it persists."],["Unable to find appropriate server, try to logout and login again if it persists."]))))),new Error("Misconfigured server. Cannot find the best one.");return r},rl=function(t,e,n){var r=function(t,e){var n=(t||[]).filter(function(t){return es(t)&&e>=t.Tier});return n[Math.floor(Math.random()*n.length)]}(t,e);if(!r)throw null==n||n(new Error(Lo("Error").t(gu||(gu=Xu(["Unable to find appropriate server, try to logout and login again if it persists."],["Unable to find appropriate server, try to logout and login again if it persists."]))))),new Error("Misconfigured server. Cannot find a suitable one.");return r},ol=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},il=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},al=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},cl=function(t,e){return void 0===e&&(e=!1),t=xo(t),'<img\n\t\tloading="lazy"\n\t\tclass="country-flag-img"\n\t\tsrc="/img/flags/'.concat(t.toLowerCase(),'.svg"\n\t\talt="').concat(String.fromCodePoint.apply(String,al([],il(al([],il(t),!1).map(function(t){return t.charCodeAt(0)+127397})),!1)),'"\n\t\twidth="20"\n\t\theight="15"\n\t\t').concat(e?'aria-hidden="true"':"","\n\t/>")},sl=function(t){return Object.keys(t).map(function(e){return{key:e,value:t[e]}})},ul=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ll=function(t){return sl(t).map(function(t){var e=t.key,n=t.value;return" data-".concat(e,'="').concat(zo("".concat(n)),'"')}).join("")},fl='data-href="'.concat(f,'" data-forget-account="1" data-upgrade="1"'),dl=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},pl=function(t){return void 0===t&&(t=[]),'<button class="upgrade-button '.concat(t.join(" "),'" ').concat(fl,'>\n\t<img loading="lazy" src="img/vpn-plus.svg" alt="').concat(Lo("Action").t(xu||(xu=dl(["Upgrade to Proton VPN Plus"],["Upgrade to Proton VPN Plus"]))).replace(/"/g,"'"),'" width="33" height="20">\n</button>')},vl='<svg fill="currentColor" class="small-icon" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">\n\t<use xlink:href="img/icons.svg#maintenance"></use>\n</svg>',hl=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},yl=function(t){return void 0===t&&(t=""),'<span class="via-country '.concat(t,'" title="').concat(Lo("Label").t(_u||(_u=hl(["Via"],["Via"]))),'"><svg aria-label="" viewBox="0 0 24 24" fill="currentColor">\n\t<use xlink:href="img/icons.svg#via"></use>\n</svg></span>')},bl=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},gl=new ec(function(t){return t}).asc("Score").desc("Load").asc("Name"),ml=function(t,e,n,r,o){return void 0===o&&(o=!1),(o?e:function(t){var e=t.slice();return gl.sort(e),e}(e)).map(function(e){var o,i,a,c=es(e),s=e.Name,u=r?{exitCountry:e.ExitCountry,entryCountry:e.EntryCountry}:{id:e.ID};return"\n\t\t<div\n\t\t\t".concat(c?'\n\t\t\t\t\tclass="server connection-button-container"\n\t\t\t\t\ttabindex="0"\n\t\t\t\t\trole="button"\n\t\t\t\t\ttitle="'.concat(Lo("Action: Server-level button").t(Su||(Su=bl(["Connect to ",""],["Connect to ",""])),s),'"\n\t\t\t\t\t').concat(t<=0?fl:ll(u),"\n\t\t\t\t\t"):'class="server in-maintenance"','\n\t\t>\n\t\t\t<div class="load-block" title="').concat(e.Load,'%">\n\t\t\t\t<div class="load-percentage">\n\t\t\t\t\t<svg aria-label="').concat(e.Load,'%" viewBox="0 0 36 36" class="circular-chart">\n\t\t\t\t\t\t<path class="circle-bg"\n\t\t\t\t\t\t\td="M18 2.0845\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 31.831\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 -31.831"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<path class="circle"\n\t\t\t\t\t\t\t').concat(function(t){var e=(null==t?void 0:t.Load)||0;return'\n\t\tstroke-dasharray="'.concat(Math.round(e),', 100"\n\t\tstyle="stroke: ').concat(function(t){return t<=75?"#1ea885":t<=90?"#ff9900":"#f7607b"}(e),'"\n\t')}(e),'\n\t\t\t\t\t\t\td="M18 2.0845\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 31.831\n\t\t\t\t\t\t\t  a 15.9155 15.9155 0 0 1 0 -31.831"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</svg>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="server-infos">\n\t\t\t\t<span\n\t\t\t\t\tclass="server-name"\n\t\t\t\t\tdata-server-id="').concat(zo("".concat(e.ID)),'"\n\t\t\t\t>').concat(r?'<span class="country-flag">'.concat(cl(e.EntryCountry),"</span> ").concat(yl("top-small")," ").concat((null===(o=e.Translations)||void 0===o?void 0:o.EntryCountryName)||e.EntryCountryName):s,"</span>").concat(e.City&&((null===(i=e.Translations)||void 0===i?void 0:i.City)||e.City)!==n?' &nbsp; <span\n\t\t\t\t\tclass="city-name"\n\t\t\t\t\tdata-english-city-name="'.concat(zo(e.City),'"\n\t\t\t\t\tdata-country-code="').concat(zo(e.ExitCountry),'"\n\t\t\t\t>').concat(zo((null===(a=e.Translations)||void 0===a?void 0:a.City)||e.City),"</span>"):"",'\n\t\t\t</div>\n\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t').concat(!c||t<=0||e.Tier>t?"":Lo("Action").t(Eu||(Eu=bl(["Connect"],["Connect"]))),'\n\t\t\t</div>\n\t\t\t<div class="button-box">\n\t\t\t\t').concat(c?t<=0||e.Tier>t?pl():'\n\t<button class="connection-button"'.concat(ll(u),'>\n\t\t<span class="text">').concat(Lo("Action").t(wu||(wu=ul(["Connect"],["Connect"]))),'</span>\n\t\t<svg viewBox="0 0 64 64" class="icon">\n\t\t\t<use xlink:href="img/icons.svg#connect"></use>\n\t\t</svg>\n\t</button>\n'):vl,"\n\t\t\t</div>\n\t\t</div>\n\t")}).join("")},wl=function(t,e){var n;if("logicals"in e&&(null===(n=e.logicals)||void 0===n?void 0:n.length)&&!wl(t,e.logicals))return!1;if("groups"in e){var r=Object.values(e.groups||{});if(r.length&&!r.every(function(e){return wl(t,e)}))return!1}return"function"!=typeof e.every||!e.length||e.every(function(e){return t<e.Tier})},xl=function(t,e){return'\n\t<button title="'.concat(e,'" class="expand-button" tabindex="0" ').concat(ll(t),'><svg class="sm-icon" aria-label="').concat(e,'" viewBox="0 0 24 24" fill="currentColor">\n\t\t<use xlink:href="img/icons.svg#expand-button"></use>\n\t</svg></button>\n')},_l=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Sl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},El=function(t,e,n,r,o,i){void 0===r&&(r={}),void 0===o&&(o=!1),void 0===i&&(i="");var a=e.length,c=n?Lo("Label").plural(a,Io(ku||(ku=_l(["Entry country"],["Entry country"]))),"Entry countries")+(a>1?" ("+a+")":""):Lo("Label").plural(a,Io(Cu||(Cu=_l(["Server"],["Server"]))),"Servers");return'\n\t\t<div\n\t\t\tclass="servers-group'.concat(Tl(e)?" with-tooltip":""," ").concat(i||"group-logicals",'"\n\t\t\t').concat(t<=0?fl:ll(r),'\n\t\t>\n\t\t\t<div class="server-type group-section">').concat(c,'</div>\n\t\t\t<div class="server-items">').concat(ml(t,e,c,n,o),"</div>\n\t\t</div>\n\t")},kl=function(t){return Math.min(((null==t?void 0:t.logicals)||[]).reduce(function(t,e){return Math.min(t,e.Tier)},2),Object.values((null==t?void 0:t.groups)||{}).reduce(function(t,e){return Math.min(t,kl(e))},2))},Cl='<svg class="small-icon" viewBox="-3 -1 24 24" role="img" focusable="false">\n\t<use xlink:href="img/icons.svg#tor"></use>\n</svg>',Ol=function(t){return(t.logicals||[]).some(es)||Object.values(t.groups||{}).some(Ol)},Tl=function(t){return t.some(function(t){return 0===(t.Features&(Sc.SECURE_CORE|Sc.TOR|Sc.RESTRICTED|Sc.PARTNER))})},Pl=function(t){return Tl(t.logicals||[])||Object.values(t.groups||{}).some(Pl)},Il=function(t,e,n,r,o,i,a){return void 0===a&&(a=!1),i.map(function(o){var i;return o&&(Object.values((null==o?void 0:o.groups)||{}).length||(null===(i=null==o?void 0:o.logicals)||void 0===i?void 0:i.length))?{group:o,list:Al(t,e,o,n,r,a)}:{}}).filter(function(t){return t.list}).map(function(n){var r=n.group,i=n.list;if("secureCore"===r.type)return i;var c="expand-".concat(e,"-").concat("".concat(Math.random()).substring(2)),s=Ol(r),u=r.name,l=t<=0,f=t<=0||o,d=f||!s;return'\n\t\t\t<div class="servers-group" data-tier="'.concat(kl(r),'" data-country-code="').concat(e,'">\n\t\t\t\t<div class="server-type list-item-box').concat(l?" gray-out":"",'">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="flex flex-1 text-left group-button button-light-hover connect-option').concat(d?"":" connect-clickable").concat(s?"":" in-maintenance",'"\n\t\t\t\t\t\ttitle="').concat(Lo("Action: City-level button").t(Ou||(Ou=_l(["Connect to ",""],["Connect to ",""])),u),'"\n\t\t\t\t\t\t').concat(s?f?fl:ll({exitCountry:e,subGroup:r.englishName}):"","\n\t\t\t\t\t>\n\t\t\t\t\t\t").concat(a?'<div class="group-icon squeezed">'.concat(cl(e,!0),"</div>"):'<div class="group-icon">'.concat(function(t,e){return"tor"===t?Cl:"city"===t?'<svg class="small-icon" viewBox="0 0 24 24" role="img" focusable="false">\n\t\t\t<use xlink:href="img/icons.svg#city"></use>\n\t\t</svg>':"free"===t?cl(e,!0):'<svg class="small-icon" viewBox="0 0 24 24" role="img" focusable="false">\n\t\t<use xlink:href="img/icons.svg#server"></use>\n\t</svg>'}(r.type,e),"</div>"),'\n\t\t\t\t\t\t<div class="flex-1 group-name">').concat(u,'</div>\n\t\t\t\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t\t\t\t').concat(d?"":Lo("Action").t(Tu||(Tu=_l(["Connect"],["Connect"]))),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="button-box">\n\t\t\t\t\t\t').concat(s?t<=0||o?pl():"":vl,"\n\t\t\t\t\t\t").concat(xl({exitCountry:e,subGroup:r.englishName,subGroupName:r.name,upgradeNeeded:o?1:0,expand:c},Lo("Action").t(Pu||(Pu=_l(["Select a server in ",""],["Select a server in ",""])),u)),'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="servers-list" id="').concat(c,'">').concat(i,"</div>\n\t\t\t</div>\n\t\t")})},jl=function(t,e,n,r,o,i,a){return void 0===i&&(i=!1),void 0===a&&(a=!1),function(t){var e=t.groups||{},n=e.Free,r=e.Tor,o=e.SecureCore,i=e.Other,a=sl(e).filter(function(t){return!{Free:!0,Tor:!0,SecureCore:!0,Other:!0}[t.key]}).map(function(t){return t.value});return[[Lo("Label").t(Iu||(Iu=_l(["Free servers"],["Free servers"]))),[n]],[Lo("Label").t(ju||(ju=_l(["Cities"],["Cities"]))),a],[Lo("Info").t(Au||(Au=_l(["Secure Core"],["Secure Core"]))),[o]],[Lo("Label").t(Lu||(Lu=_l(["Other"],["Other"]))),[r,i]]]}(n).map(function(c){var s=Sl(c,2),u=s[0],l=s[1],f=l.filter(Boolean),d=Il(t,e,r,o,f.every(function(e){return wl(t,e)}),l,a),p=d.length;return p<1?"":(i&&!o?'<div\n\t\t\t\tclass="servers-group group-section'.concat(f.some(Pl)?" with-tooltip":"",'"\n\t\t\t\tdata-tier="').concat(kl(n),'"\n\t\t\t\tdata-country-code="').concat(e,'"\n\t\t\t>').concat(u).concat(p>1?" ("+p+")":"","</div>"):"")+d.join("")})},Al=function(t,e,n,r,o,i){void 0===i&&(i=!1);var a=r(n.logicals||[]),c=t>0&&o;return a.length?El(t,a,c,{tier:a.reduce(function(t,e){return Math.min(t,e.Tier)},2),"country-code":e}):jl(t,e,n,r,c,!0,i).join("")},Ll=function(t){return(t.logicals||[]).some(function(t){return t.SearchScore})||Object.values(t.groups||{}).some(Ll)},Nl=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Dl=function(){return Dl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Dl.apply(this,arguments)},Rl=function(t,e){return function(n){return 0!==(n.Features&Sc.SECURE_CORE)===(t>0&&e.value)}},Ml=new ec(function(t,e){return e[t]}).asc("needUpgrade").desc("searchScore").desc("score").asc("name"),Ul=function(t,e){var n=function(t){return((null==t?void 0:t.logicals)||[]).some(e)||Object.values((null==t?void 0:t.groups)||{}).some(function(t){return n(t)})};return Wo(t).filter(function(e){return n(t[e])})},$l=function(t,e,n,r,o,i,a){void 0===o&&(o=!1),void 0===i&&(i={}),void 0===a&&(a=!1);var c=Ul(t,n),s=c.length;return 0===s?"":(Ml.sort(c,t),(r?'<div class="servers-group group-section">'.concat(r(s),"</div>"):"")+c.map(function(r){return function(t,e,n,r,o,i,a){void 0===i&&(i={}),void 0===a&&(a=!1);var c=wl(t,n),s="expand-".concat(e,"-").concat("".concat(Math.random()).substring(2)),u=Ol(n),l=n.name,f=t<=0,d=u&&t>0,p=Ll(n);return(window.sectionBuilder||(window.sectionBuilder={}))[s]=function(){return Al(t,e,n,r,o,a)},'\n\t<div class="country-block">\n\t\t<div class="details-box '.concat(p?" details-box-open":"",'">\n\t\t\t<div class="details-box-summary connection-button-container">\n\t\t\t\t<div class="country-header list-item-box').concat(f?" gray-out":"",'">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass="flex flex-1 text-left connect-option').concat(d?" connect-clickable":"",'"\n\t\t\t\t\t\ttitle="').concat(Lo("Action: Country-level button").t(Nu||(Nu=Nl(["Connect to ",""],["Connect to ",""])),l),'"\n\t\t\t\t\t\t').concat(u?d?ll(Dl(Dl({},i),{exitCountry:e})):fl:"",'\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="country-flag">\n\t\t\t\t\t\t\t').concat(o?yl():"","\n\t\t\t\t\t\t\t").concat(cl(e),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="country-name" data-country-code="').concat(e,'">\n\t\t\t\t\t\t\t').concat(l,'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="flex-1 connect-text">\n\t\t\t\t\t\t\t').concat(d?Lo("Action").t(Du||(Du=Nl(["Connect"],["Connect"]))):"",'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="button-box">\n\t\t\t\t\t\t').concat(u?t<=0||c?pl():"":vl,"\n\t\t\t\t\t\t").concat(xl({exitCountry:e,upgradeNeeded:c?1:0,expand:s},o?Lo("Action").t(Ru||(Ru=Nl(["Select entry country with exit in ",""],["Select entry country with exit in ",""])),l):Lo("Action").t(Mu||(Mu=Nl(["Select a city in ",""],["Select a city in ",""])),l)),'\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclass="details-box-body servers-list"\n\t\t\t\tid="').concat(s,'"\n\t\t\t></div>\n\t\t</div>\n\t</div>\n\t')}(e,r,t[r],function(t){return t.filter(n).sort(function(t,n){return tc(e<t.Tier,e<n.Tier)||tc(n.SearchScore,t.SearchScore)||tc(t.Name,n.Name)})},e>0&&o,i,a)}).join(""))},ql=function(t,e,n,r){return void 0===n&&(n={value:!1}),$l(t,e,Rl(e,n),r,e>0&&n.value)},Bl=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Fl=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Hl=void 0,Gl=O.item("streaming-services",t.LOCAL),Vl=function(){return Bl(void 0,void 0,void 0,function(){var t;return Fl(this,function(e){switch(e.label){case 0:return[4,Ba("vpn/streamingservices")];case 1:return t=e.sent(),Hl={time:Date.now(),value:t},Fi(Gl.set(Hl)),[2,t]}})})},zl=function(){return Bl(void 0,void 0,void 0,function(){var t,e,n;return Fl(this,function(r){switch(r.label){case 0:return[4,Gl.get()];case 1:if((t=r.sent())&&(!Hl||t.time>Hl.time)&&(Hl=t),e=Ic(Hl),Hl&&e<yc())return[2,Hl.value];if(Hl&&e<3*yc())return Fi(Vl()),[2,Hl.value];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,Vl()];case 3:return[2,r.sent()];case 4:if(n=r.sent(),null==Hl?void 0:Hl.value)return[2,Hl.value];throw n;case 5:return[2]}})})},Wl=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Yl=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Jl=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Kl=function(t){zl().then(function(e){if(e){var n=e.ResourceBaseURL,r=e.StreamingServices,o=r["*"]||{};(t||document).querySelectorAll(".servers-group.with-tooltip").forEach(function(t){var e,i,a=t.getAttribute("data-country-code"),c=t.getAttribute("data-tier"),s=r[a]||"GB"===a&&r.UK||{},u=Jl(Jl([],Yl(s[c]||[]),!1),Yl(o[c]||[]),!1);if(0!==u.length){var l={};u.forEach(function(t){l[t.Name]=t}),t.querySelectorAll(".group-tooltip").forEach(function(e){t.removeChild(e)});var f=document.createElement("div");f.innerHTML='\n\t\t\t\t<svg class="open-button" height="16" viewBox="0 0 16 16" width="16">\n\t\t\t\t\t<use xlink:href="img/icons.svg#open-button"></use>\n\t\t\t\t</svg>\n\t\t\t\t<div class="expanded-tooltip">\n\t\t\t\t\t<div class="close-button">\n\t\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24">\n\t\t\t\t\t\t\t<use xlink:href="img/icons.svg#close-button"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n                    <div class="tooltip-title streaming-info">'.concat(Lo("Title").t(Uu||(Uu=Wl(["Features"],["Features"]))),'</div>\n                    <div class="tooltip-row streaming-info">\n                    \t<div class="tooltip-row-icon">\n\t\t\t\t\t\t\t<svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24" class="streaming-icon">\n\t\t\t\t\t\t\t\t<use xlink:href="img/icons.svg#streaming"></use>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="tooltip-text">\n\t\t\t\t\t\t\t<h4>').concat(Lo("Title").t($u||($u=Wl(["Streaming"],["Streaming"])))," - ").concat(Vo(a),"</h4>\n\t\t\t\t\t\t\t<p>").concat(Lo("Info").t(qu||(qu=Wl(["Connect to a Plus server in this country to start streaming.\n\nHint: Clear the cache of the streaming apps to ensure new content appears."],["Connect to a Plus server in this country to start streaming.\\n\\nHint: Clear the cache of the streaming apps to ensure new content appears."]))).replace(/\n/g,"<br />"),'</p>\n\t\t\t\t\t\t\t<div class="streaming-logos">').concat(Object.values(l).map(function(t){return'<img\n\t\t\t\t\t\t\t\t\t\tloading="lazy"\n\t\t\t\t\t\t\t\t\t\tclass="streaming-logo"\n\t\t\t\t\t\t\t\t\t\tsrc="'.concat(zo(n+t.Icon),'"\n\t\t\t\t\t\t\t\t\t\talt="').concat(zo(t.Name),'"\n \t\t\t\t\t\t\t\t\t/>')}).join(" &nbsp; "),"</div>\n\t\t\t\t\t\t\t<p>").concat(Lo("Info").t(Bu||(Bu=Wl(["and more"],["and more"]))),"</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"),f.setAttribute("class","group-tooltip"),t.insertBefore(f,t.firstChild),null===(e=f.querySelector(".open-button"))||void 0===e||e.addEventListener("click",function(){f.classList.add("open")}),null===(i=f.querySelector(".close-button"))||void 0===i||i.addEventListener("click",function(){f.classList.remove("open")})}})}})},Zl=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Xl=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Ql=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},tf=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},ef=O.item("notifications",t.LOCAL),nf=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Zl(void 0,tf([],Ql(t),!1),void 0,function(t){var e;return void 0===t&&(t=!1),Xl(this,function(n){switch(n.label){case 0:return t?[3,2]:[4,ef.load()];case 1:if(e=n.sent(),Ic(e)<(pc()?Ti.fromDays(1):Ti.fromHours(6)))return[2,(null==e?void 0:e.value)||[]];n.label=2;case 2:return n.trys.push([2,4,,5]),[4,Zl(void 0,void 0,void 0,function(){var t,e;return Xl(this,function(n){switch(n.label){case 0:return[4,Ba("core/v4/notifications")];case 1:return t=n.sent(),(e=t.Notifications)?(Fi(ef.setValue(e)),[2,e]):[2,[]]}})})];case 3:return[2,n.sent()];case 4:return n.sent(),[2,[]];case 5:return[2]}})})},rf=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},of=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},af=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},cf=0,sf=function(){return of(void 0,void 0,void 0,function(){var t,e,n,r;return af(this,function(o){switch(o.label){case 0:return t=Date.now(),[4,nf()];case 1:return e=o.sent().filter(function(e){return(!e.StartTime||t>=Ti.fromSeconds(e.StartTime))&&(!e.EndTime||t<Ti.fromSeconds(e.EndTime))}),n=document.querySelector(".notifications"),0===e.length?(n.innerHTML="",[2]):(r=e.filter(function(t){return 0===t.Type}),[4,Promise.all(r.map(function(t){return new Promise(function(e){if(t.Offer.Icon){var n=new Image;n.src=t.Offer.Icon,n.width?e(null):(n.onload=e,n.onerror=e)}else e(null)})}))]);case 2:return o.sent(),n.innerHTML=r.map(function(t){return'\n\t\t\t<a href="'.concat(t.Offer.URL,'" title="').concat(t.Offer.Label,'">\n\t\t\t\t').concat(t.Offer.Icon?'<img src="'.concat(t.Offer.Icon,'" alt="').concat(t.Offer.Label,'" width="24" height="24" />'):t.Offer.Label||Lo("Label").t(Fu||(Fu=rf(["Offer"],["Offer"]))),"\n\t\t\t</a>\n\t\t")}).join(""),ha(Ti.fromMinutes(30),Ti.fromMinutes(5),function(){return of(void 0,void 0,void 0,function(){var t;return af(this,function(e){switch(e.label){case 0:return(t=Date.now())-cf<Ti.fromMinutes(15)?[2]:(cf=t,[4,sf()]);case 1:return e.sent(),[2]}})})}),[2]}})})},uf={protected:{radialGradientOpacity:1,linearGradient:{x1:16.8924,y1:16.0677,x2:5.45846,y2:-3.49766,stops:[{offset:.0660125,color:"#8EFFEE"},{offset:.4499,color:"#C9C7FF"},{offset:1,color:"#7341FF"}]}},unprotected:{radialGradientOpacity:0,linearGradient:{x1:13.7487,y1:19.9831,x2:.435554,y2:-5.33997,stops:[{offset:.0660125,color:"white"},{offset:.44988,color:"#A7A4B5"},{offset:1,color:"#6D697D"}]}}},lf=function(t){var e=uf[t],n=document.getElementById("top-bar-inner-radial-gradient-path");n&&(n.style.opacity="".concat(e.radialGradientOpacity));var r=document.getElementById("top-bar-outer-gradient");r&&["x1","y1","x2","y2"].forEach(function(t){var n;r.setAttribute(t,"".concat(null===(n=e.linearGradient)||void 0===n?void 0:n[t])),r.querySelectorAll("stop").forEach(function(t,n){var r,o,i,a,c,s;t.setAttribute("offset","".concat(null===(i=null===(o=null===(r=e.linearGradient)||void 0===r?void 0:r.stops)||void 0===o?void 0:o[n])||void 0===i?void 0:i.offset)),t.setAttribute("stop-color","".concat(null===(s=null===(c=null===(a=e.linearGradient)||void 0===a?void 0:a.stops)||void 0===c?void 0:c[n])||void 0===s?void 0:s.color))})})},ff=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},df=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},pf=O.item("last-choice",t.LOCAL),vf=function(t){Fi(pf.setValue(t))},hf=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},yf=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},bf=function(t,e,n){var r=document.querySelectorAll((null==n?void 0:n.buttonSelector)||".".concat(t.key,"-button"));r.forEach(function(o){var i;if(null==n?void 0:n.upgradeNeeded){var a=document.createElement("div");return a.innerHTML=pl(),void(null===(i=o.parentNode)||void 0===i||i.replaceChild(a,o))}var c=e.value?"add":"remove";o.classList[c]("activated"),o.setAttribute("aria-pressed",e.value?"true":"false"),o.addEventListener("click",function(){return hf(void 0,void 0,void 0,function(){var o,i;return yf(this,function(a){switch(a.label){case 0:return e.value=!e.value,o=e.value?"add":"remove",r.forEach(function(t){t.classList[o]("activated"),t.setAttribute("aria-pressed",e.value?"true":"false")}),null===(i=null==n?void 0:n.refresh)||void 0===i||i.call(n),[4,t.set(e)];case 1:return a.sent(),[2]}})})})})},gf=function(){return gf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},gf.apply(this,arguments)},mf=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},wf=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},xf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};!function(t){t.VPN_CONNECTION="vpn_connection",t.VPN_DISCONNECTION="vpn_disconnection"}(Hu||(Hu={})),function(t){t.SUCCESS="success",t.FAILURE="failure",t.ABORTED="aborted"}(Gu||(Gu={})),function(t){t.CONNECTION="vpn.any.connection"}(Vu||(Vu={}));var _f,Sf,Ef,kf,Cf,Of,Tf,Pf,If,jf,Af,Lf,Nf,Df,Rf,Mf=O.item("telemetry"),Uf=function(){return new Promise(function(t){t(m)})},$f=function(){return Mf.getDefined({value:!1})},qf=function(t,e){return[t?null:"free",e&Sc.TOR?"tor":null,e&Sc.P2P?"p2p":null,e&Sc.PARTNER?"partnership":null,e&Sc.STREAMING?"streaming":null].filter(Boolean).sort().join(",")},Bf=function(t,e,n,r){void 0===n&&(n={}),Promise.all([Mf.load(),Ec(),ic(),ff(void 0,void 0,void 0,function(){var t;return df(this,function(e){switch(e.label){case 0:return[4,pf.get()];case 1:return[2,(null===(t=e.sent())||void 0===t?void 0:t.value)||{connected:!1}]}})})]).then(function(o){return mf(void 0,[o],void 0,function(o){var i,a,c,s,u,l,f,d=xf(o,4),p=d[0].value,v=d[1].location,h=d[2].user,y=d[3];return wf(this,function(o){switch(o.label){case 0:return i=null===(l=null==h?void 0:h.VPN)||void 0===l?void 0:l.MaxTier,a={},c=gf(gf(gf({vpn_trigger:(d=y,d?d.logicalId?"server":d.city?"city":d.exitCountry?"country":"quick":"n/a")},r?{vpn_country:r.ExitCountry||null,server:r.Name||null,server_features:qf(r.Tier,r.Features)}:{}),{user_country:(null==v?void 0:v.Country)||null,isp:(null==v?void 0:v.ISP)||null,user_tier:i}),n),Object.keys(c).forEach(function(t){var e=c[t];a[t]=null==e?"n/a":"".concat(e)}),s={MeasurementGroup:t,Event:e,Values:{},Dimensions:a},u=[],p&&u.push(Da("data/v1/stats",La("POST",s))),(null===(f=null==h?void 0:h.VPN)||void 0===f?void 0:f.BusinessEvents)&&u.push(Pc("vpn/v1/business/events",La("POST",s))),[4,Promise.all(u)];case 1:return o.sent(),[2]}var d})})})},Ff=function(t){t=t.toLowerCase().replace(/\s/g,"");try{t=function(t){try{return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}catch(e){return t.replace(/[]/g,"a").replace(//g,"ae").replace(//g,"c").replace(/[]/g,"e").replace(/[]/g,"i").replace(//g,"n").replace(/[]/g,"o").replace(//g,"oe").replace(/[]/g,"u").replace(/[]/g,"y")}}(t)}catch(t){}return t},Hf=function(t,e){return e.reduce(function(e,n){return n=Ff(n),e+t.reduce(function(e,r){return e+(n===r?3:n.startsWith(r)?r.length>4?2:1!==t.length&&1===r.length?.4:1:0)},0)},0)},Gf=function(t){return t?t.split(/[,;()\s--]+/).map(Ff).filter(Boolean):[]},Vf=function(){return Vf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Vf.apply(this,arguments)},zf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Wf=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Yf=function(t,e){return Hf(t,Wf([],zf(new Set(e.filter(function(t){return"string"==typeof t&&""!==t}))),!1))},Jf=function(t,e,n,r,o,i){void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===i&&(i=!1);var a={};wo(t.groups||{},function(t,c){var s,u=Jf(c,e,n,r,o,i);(u.searchScore||(null===(s=u.logicals)||void 0===s?void 0:s.length)||u.groups)&&(a[t]=u)});var c=Vf({},t);delete c.groups,delete c.logicals;var s=i?Sc.TOR:0;return Vf(Vf(Vf(Vf({},c),{searchScore:Yf(n,Wf(Wf([],zf(Gf(t.englishName)),!1),zf(Gf(t.name)),!1))}),o&&t.logicals?{logicals:t.logicals.filter(function(t){return(t.Features&Sc.TOR)===s}).map(function(t){return Vf(Vf({},t),{SearchScore:Yf(n,Wf(Wf(Wf(Wf(Wf([],zf(Gf(t.Name)),!1),[t.EntryCountry,t.ExitCountry],!1),zf(Gf(t.City)),!1),zf(Gf(t.Region)),!1),zf(Object.entries(t.Translations||{}).reduce(function(t,e){var n=zf(e,2),o=n[0],i=n[1];return r||"EntryCountryName"!==o?t.concat(Gf(i)):t},[])),!1))})}).filter(function(t){return e||t.SearchScore>=n.length})}:{}),Object.keys(a).length?{groups:a}:{})},Kf=function(){return Kf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Kf.apply(this,arguments)},Zf=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Xf=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Qf=function(t,e,n,r,o){void 0===n&&(n=!0),void 0===r&&(r=!0),void 0===o&&(o=!1);var i={};return wo(t,function(t,a){var c,s=n?Hf(e,Xf([],Zf(new Set(Xf(Xf([t],Zf(Gf(a.name)),!1),Zf(Gf(a.englishName)),!1))),!1)):0,u=r?Jf(a,s,e,n,r,o):a;s<e.length&&(!r||!(null===(c=null==u?void 0:u.logicals)||void 0===c?void 0:c.length)&&!(null==u?void 0:u.groups))||(i[t]=Kf(Kf({},u),{score:s}))}),i},td=function(){return td=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},td.apply(this,arguments)},ed=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},nd=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},rd=function(t,e,n,r){void 0===n&&(n={value:!1});var o=Rl(e,n),i=Ul(t,o);if(0===i.length)return"";var a={};i.forEach(function(e){var n=t[e];n.groups?wo(n.groups,function(t,n){var r;a[e+"|"+t]={name:n.name,englishName:n.englishName,needUpgrade:n.needUpgrade,type:n.type,score:n.score,searchScore:n.searchScore,groups:(r={},r[t]=n,r)}}):a[e]=n});var c=[];wo(function(t){var e=Wo(t);Ml.sort(e,t);var n={};return e.forEach(function(e){n[e]=t[e]}),n}(a),function(t,r){var i,a,s,u=t.split("|")[0],l=e>0&&n.value&&(null===(i=r.groups)||void 0===i?void 0:i.SecureCore),f=l?td(td({},r),{groups:td(td({},r.groups),{SecureCore:td(td({},l),{name:((null===(s=null===(a=null==l?void 0:l.logicals)||void 0===a?void 0:a[0])||void 0===s?void 0:s.EntryCountry)?"".concat(yl("top-small")," ").concat(cl(l.logicals[0].ExitCountry)):"")+r.name,englishName:r.englishName})})}):r;c.push.apply(c,nd([],ed(jl(e,u,f,function(t){return t.filter(o).sort(function(t,n){return tc(e<t.Tier,e<n.Tier)||tc(n.SearchScore,t.SearchScore)||tc(t.Name,n.Name)})},e>0&&n.value,!1,!0).filter(Boolean)),!1))});var s=c.length;return 0===s?"":(r?'<div class="servers-group group-section">'.concat(r(s),"</div>"):"")+c.join("")},od=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},id=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ad=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},cd=function(t){var e=[];return wo(t,function(t,n){n.logicals&&e.push.apply(e,ad([],id(n.logicals),!1)),n.groups&&e.push.apply(e,ad([],id(cd(n.groups)),!1))}),e},sd=function(t,e,n,r){void 0===r&&(r={value:!1});var o=n>0&&r.value,i=Gf(e),a=-1!==i.indexOf("tor"),c=rd(Qf(t,i,!1,!0),n,r,o?void 0:function(t){return Lo("Label").plural(t,Io(Sf||(Sf=od(["City"],["City"]))),"Cities")+(t>1?" ("+t+")":"")}),s=o?c&&'<div class="secure-core-search">'.concat(c,"</div>"):c;return(o||-1===e.indexOf("#")?"":function(t,e,n,r){if(void 0===r&&(r=!1),t<=0)return"";var o=r?Sc.SECURE_CORE:0,i=cd(e).filter(function(t){return(t.Features&Sc.SECURE_CORE)===o&&-1!==t.Name.toLowerCase().indexOf(n.toLowerCase())});if(!i.length)return"";if(n){var a=Gf(n);return i.sort(function(t,e){return tc(Hf(a,[e.Name]),Hf(a,[t.Name]))}),El(t,i,r,{},!0,"logicals-search")}return El(t,i,r,{},!1,"logicals-search")}(n,t,e,o))+ql(Qf(t,i,!0,!1),n,r,function(t){return Lo("Label").plural(t,Io(Ef||(Ef=od(["Country"],["Country"]))),"Countries")+(t>1?" ("+t+")":"")})+(o?"":s+(a?function(t,e,n){void 0===n&&(n=!1);var r=Sc.TOR|(e>0&&n?Sc.SECURE_CORE:0);return $l(t,e,function(t){return(t.Features&r)===r},function(t){return'<span class="label-icon-container">'.concat(Cl,"</span>")+Lo("Label").plural(t,Io(_f||(_f=od(["Country"],["Country"]))),"Countries")+(t>1?" ("+t+")":"")},n,{subGroup:"tor"},!0)}(t,n,o):""))||'<p class="not-found">\n\t\t'.concat(Lo("Error").t(kf||(kf=od(["No results found"],["No results found"]))),"<br />\n\t\t<small>").concat(Lo("Error").t(Cf||(Cf=od(["Please try a different keyword"],["Please try a different keyword"]))),"</small>\n\t</p>")},ud=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},ld=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},fd=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},dd=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},pd=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},vd=function(t,e){return Lo("Error").t(Of||(Of=ud(["Unlock "," in ",""],["Unlock "," in ",""])),t,e)},hd=O.item("pmUser",E),yd=function(){Fi(nc.remove()),Fi(Ki()),Fi(Yc.remove()),Fi(hd.remove()),Fi(ci(oi.FORGET_ERROR)),setTimeout(function(){null===window||void 0===window||window.close()},1)},bd=O.item("prevent-webrtc-leak");!function(t){t.CLEAR="clear",t.DEFAULT="default",t.DISABLED="disable_non_proxied_udp"}(Rf||(Rf={}));var gd,md,wd,xd,_d=function(t){return new Promise(function(e){chrome.privacy?t!==Rf.CLEAR?chrome.privacy.network.webRTCIPHandlingPolicy.set({value:t},function(){chrome.privacy.network.webRTCIPHandlingPolicy.get({},function(n){var r,o;e(("controlled_by_this_extension"===(o=null==(r=n)?void 0:r.levelOfControl)||"controllable_by_this_extension"===o?null==r?void 0:r.value:void 0)===t)})}):chrome.privacy.network.webRTCIPHandlingPolicy.clear({},e):e(!1)})},Sd=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Ed=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},kd=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Cd=function(t,e,n,r,o){if(void 0===o&&(o=!1),o){document.querySelectorAll('[data-go-to="split-tunneling"]').forEach(function(t){var e,n=document.createElement("div");n.innerHTML=pl(),null===(e=t.parentNode)||void 0===e||e.replaceChild(n,t)})}else{n.querySelectorAll(".split-tunneling-exclusions, .split-tunneling-exclusion-add").forEach(function(t){t.style.display=e.value.length?"block":"none"}),n.querySelectorAll(".split-tunneling-exclusion-form").forEach(function(t){t.style.display=e.value.length?"none":"block"});var i=e.value.map(function(t,e){var n=zo(t.domain),r=Lo("Action").t(gd||(gd=kd(["Remove ",""],["Remove ",""])),n);return'<div class="flex my1">\n\t\t\t<div class="flex-1 ov-hidden"><div class="ellipsis">'.concat(n,"</div>").concat(t.withSubDomains?'<div class="fade-text small-text">'.concat(Lo("Label").t(md||(md=kd(["And all its subdomains"],["And all its subdomains"]))),"</div>"):"",'</div>\n\t\t\t<button data-st-delete="').concat(e,'" title="').concat(r,'" class="small-button delete-button">\n\t\t\t\t<svg fill="currentColor" viewBox="0 0 24 24">\n\t\t\t\t\t<use xlink:href="img/icons.svg#delete"></use>\n\t\t\t\t</svg>\n\t\t\t</button>\n\t\t</div>')}).join("");n.querySelectorAll(".split-tunneling-exclusions .exclusions-list").forEach(function(o){o.innerHTML=i,o.querySelectorAll("[data-st-delete]").forEach(function(o){var i=o.cloneNode(!0);o.parentNode.replaceChild(i,o),i.addEventListener("click",function(){e.value.splice(Number(i.getAttribute("data-st-delete")),1),null==r||r(),Cd(t,e,n,r),Fi(t.setValue(e.value))})})});var a=n.querySelector(".split-tunneling-exclusion"),c=function(){ys().query({active:!0,currentWindow:!0}).then(function(t){return t[0]}).then(function(t){var n=(null==t?void 0:t.url)&&new URL(t.url).hostname;if(n){var r=n.replace(/^.*\.([^.]+\.[a-z]+)$/,"$1");e.value.every(function(t){return t.domain!==r})?a.value=r:a.value===r&&(a.value=""),s()}})};e.value.length||c();var s=function(){n.querySelectorAll('[data-st-action="add"]').forEach(function(t){t.disabled=!a.checkValidity()})},u=function(){""!==a.value&&(e.value.push({domain:a.value,withSubDomains:l.checked}),null==r||r()),a.value="",l.checked=!0,Cd(t,e,n,r),Fi(t.setValue(e.value))};a.oninput=s,a.onchange=s,a.onkeyup=function(t){"Enter"!==t.key&&13!==t.keyCode||u()};var l=n.querySelector(".with-subdomains");n.querySelectorAll("[data-st-action]").forEach(function(t){var r=t.getAttribute("data-st-action"),o=t.cloneNode(!0);t.parentNode.replaceChild(o,t),o.addEventListener("click",function(){switch(r){case"add-website":n.querySelectorAll(".split-tunneling-exclusion-add").forEach(function(t){t.style.display="none"}),n.querySelectorAll(".split-tunneling-exclusion-form").forEach(function(t){t.style.display="block"}),c();break;case"add":u();break;case"cancel":a.value="",l.checked=!0,e.value.length||(n.querySelectorAll(".split-tunneling-exclusion-add").forEach(function(t){t.style.display="block"}),n.querySelectorAll(".split-tunneling-exclusion-form").forEach(function(t){t.style.display="none"}))}})})}},Od=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Td=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},Pd=function(t,e){if(t<1)return[];var n=[];return e.forEach(function(t){n.push.apply(n,Td([t.domain],Od(t.withSubDomains?["."+t.domain]:[]),!1))}),n},Id=O.item("split-tunneling"),jd=O.item("notifications-enabled"),Ad=(wd=function(t,e){return wd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},wd(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}wd(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ld=function(t){function e(e,n,r){void 0===n&&(n=86300),void 0===r&&(r={Type:"DeviceLimit"});var o=t.call(this,e)||this;return Object.defineProperty(o,"Code",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(o,"Details",{enumerable:!0,configurable:!0,writable:!0,value:r}),o.Details.Body||(o.Details.Body=e),o}return Ad(e,t),e}(Error),Nd=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Dd=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Rd=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Md=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Ud=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},$d=function(){return Md(void 0,void 0,void 0,function(){return Ud(this,function(t){switch(t.label){case 0:return[4,ba(ns(ii.PM_USER),Ti.fromSeconds(30),"User loading timed out",Ld)];case 1:return[2,t.sent()]}})})},qd=function(t){return"string"==typeof t&&""!==t},Bd=function(t,e,n){void 0===e&&(e={}),void 0===n&&(n={});var r=t.split("#",2),o=r[1]||"",i=r[0].split("?",2),a=i[1]||"";return Object.keys(e).forEach(function(t){var n=e[t];("number"==typeof n||qd(n))&&(a+=(""===a?"":"&")+encodeURIComponent(t)+"="+encodeURIComponent(n))}),Object.keys(n).forEach(function(t){var n=e[t];("number"==typeof n||qd(n))&&(o+=(""===a?"":"&")+encodeURIComponent(t)+"="+encodeURIComponent(n))}),i[0]+(""===a?"":"?"+a)+(""===o?"":"#"+o)},Fd=function(){return Fd=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Fd.apply(this,arguments)},Hd={connecting:void 0,connected:void 0,state:void 0,connect:function(t){t!==this.connected&&t!==this.connecting&&(this.state=ei.CONNECTING,this.connecting=t)},finishConnection:function(t){this.connecting&&(this.connected=this.connecting,this.connecting=void 0,Bf(Vu.CONNECTION,Hu.VPN_CONNECTION,{outcome:t?Gu.SUCCESS:Gu.FAILURE},this.connected))},disconnect:function(t,e){if(this.state=ei.DISCONNECT,this.connected=void 0,this.connecting)return Bf(Vu.CONNECTION,Hu.VPN_CONNECTION,{outcome:Gu.ABORTED},this.connecting),void(this.connecting=void 0);Bf(Vu.CONNECTION,Hu.VPN_DISCONNECTION,Fd({outcome:Gu.SUCCESS},e?Fd({vpn_country:e.exitCountry,server:e.name},t?{server_features:qf(t.Tier,t.Features)}:{}):{}))}},Gd=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Vd=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},zd=function(t,e,n){return Gd(void 0,void 0,void 0,function(){var r,o;return Vd(this,function(i){switch(i.label){case 0:return[4,t()];case 1:return[2,(r=null===(o=i.sent())||void 0===o?void 0:o[n])?[e,r]:null]}})})},Wd=function(t,e){return Gd(void 0,void 0,void 0,function(){return Vd(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(e){return Gd(void 0,void 0,void 0,function(){return Vd(this,function(n){switch(n.label){case 0:switch(e){case"platform":return[3,1];case"clientVersion":return[3,2];case"username":return[3,3];case"email":return[3,5]}return[3,7];case 1:return[2,[e,"VPN for ".concat(Ks().name)]];case 2:return[2,[e,c()+"+"+Ks().type]];case 3:return[4,zd(t,e,"Name")];case 4:case 6:return[2,n.sent()];case 5:return[4,zd(t,e,"Email")];case 7:return yi("Unknown key "+e),[2,null]}})})}))];case 1:return[2,n.sent().filter(Boolean)]}})})},Yd=function(t,e){return Gd(void 0,void 0,void 0,function(){var n,r;return Vd(this,function(o){switch(o.label){case 0:return t.length?(r=(n=Object).fromEntries,[4,Wd(e||$d,t)]):[2,{}];case 1:return[2,r.apply(n,[o.sent()])]}})})},Jd=function(){function t(t,e){void 0===e&&(e=t-Date.now()),Object.defineProperty(this,"nextEvent",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"totalDuration",{enumerable:!0,configurable:!0,writable:!0,value:e})}return Object.defineProperty(t,"fromLastEvent",{enumerable:!1,configurable:!0,writable:!0,value:function(e,n){return void 0===n&&(n=Date.now()),new t(e,e-n)}}),Object.defineProperty(t.prototype,"getRemainingTime",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return void 0===t&&(t=Date.now()),Math.max(0,this.nextEvent-t)}}),Object.defineProperty(t.prototype,"isPending",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return void 0===t&&(t=Date.now()),this.getRemainingTime(t)>0}}),Object.defineProperty(t.prototype,"getProportion",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e,n){return void 0===t&&(t=0),void 0===e&&(e=Date.now()),void 0===n&&(n=this.totalDuration),ac(0,(this.getRemainingTime(e)-t)/n,1)}}),Object.defineProperty(t.prototype,"getChronometer",{enumerable:!1,configurable:!0,writable:!0,value:function(t){void 0===t&&(t=Date.now());var e=Math.trunc(Ti.toMinutes(this.getRemainingTime(t))),n=Math.round(Ti.toSeconds(this.getRemainingTime(t)%Ti.fromMinutes(1)));return"".concat(this.twoDigit(e),":").concat(this.twoDigit(n))}}),Object.defineProperty(t.prototype,"twoDigit",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return t.toString().padStart(2,"0")}}),t}(),Kd=O.item("client-config",t.LOCAL),Zd=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Xd=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Qd=void 0,tp=function(){return Zd(void 0,void 0,void 0,function(){var t;return Xd(this,function(e){switch(e.label){case 0:return[4,Pc("vpn/v2/clientconfig")];case 1:return t=e.sent(),Fi(Kd.set({time:Date.now(),value:t})),[2,t]}})})},ep=function(){return Zd(void 0,void 0,void 0,function(){var t,e,n;return Xd(this,function(r){switch(r.label){case 0:return[4,Kd.get()];case 1:if((t=r.sent())&&(!Qd||t.time>Qd.time)&&(Qd=t),e=Ic(Qd),Qd&&e<bc())return[2,Qd.value];if(Qd&&e<4*bc())return Fi(tp()),[2,Qd.value];r.label=2;case 2:return r.trys.push([2,4,,5]),[4,tp()];case 3:return[2,r.sent()];case 4:if(n=r.sent(),null==Qd?void 0:Qd.value)return[2,Qd.value];throw n;case 5:return[2]}})})},np=function(){return np=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},np.apply(this,arguments)},rp=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},op=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},ip=O.item("server-rotator",t.LOCAL),ap=function(){return rp(void 0,void 0,void 0,function(){var t;return op(this,function(e){switch(e.label){case 0:return[4,ip.get()];case 1:return[2,null!==(t=e.sent())&&void 0!==t?t:{}]}})})};var cp,sp,up,lp=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},fp=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},dp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},pp=function(){function t(t,e,n){var r=this;if(Object.defineProperty(this,"quickConnectButtonEl",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"modalEl",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"openModal",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"_wait",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_RemainingTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"refChangeServerInterval",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"intervalSubscribers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"modalCircleEl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modalTimeEl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_waitShort",{enumerable:!0,configurable:!0,writable:!0,value:Ti.fromSeconds(9)}),Object.defineProperty(this,"_waitLong",{enumerable:!0,configurable:!0,writable:!0,value:Ti.fromMinutes(20)}),Object.defineProperty(this,"_changesLimit",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"_nextChange",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!this.quickConnectButtonEl)throw new Error("[ServerRotator] quickConnectButton is not defined.");if(!this.modalEl)throw new Error("[ServerRotator] modal is not defined.");var o=this.modalEl.querySelector(".circle-progress"),i=dp(o.children,3),a=i[1],c=i[2];this.modalCircleEl=a.children[0],this.modalTimeEl=c,Zd(void 0,void 0,void 0,function(){var t;return Xd(this,function(e){switch(e.label){case 0:return[4,ep()];case 1:return[2,{ChangeServerAttemptLimit:(t=e.sent()).ChangeServerAttemptLimit,ChangeServerShortDelayInSeconds:t.ChangeServerShortDelayInSeconds,ChangeServerLongDelayInSeconds:t.ChangeServerLongDelayInSeconds}]}})}).then(function(t){return r.loadConfig(t)})}return Object.defineProperty(t.prototype,"isPending",{enumerable:!1,configurable:!0,writable:!0,value:function(){return lp(this,void 0,void 0,function(){var t,e,n;return fp(this,function(r){switch(r.label){case 0:return null===(e=this._nextChange)||void 0===e?[3,1]:(t=e,[3,3]);case 1:return[4,ap()];case 2:t=r.sent().nextChange,r.label=3;case 3:return[2,(null!==(n=t)&&void 0!==n?n:0)-Date.now()>0]}})})}}),Object.defineProperty(t.prototype,"startCountdown",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return lp(this,void 0,void 0,function(){var e;return fp(this,function(n){switch(n.label){case 0:return this.refChangeServerInterval?[2]:[4,this.setNextChange(t)];case 1:return e=n.sent(),this._RemainingTime=new Jd(e,t),this.startCountdownRefreshing(),[2]}})})}}),Object.defineProperty(t.prototype,"resumeCountdown",{enumerable:!1,configurable:!0,writable:!0,value:function(){return lp(this,void 0,void 0,function(){var t,e,n,r,o;return fp(this,function(i){switch(i.label){case 0:return this.refChangeServerInterval?[2]:[4,ap()];case 1:return t=i.sent(),e=t.nextChange,n=void 0===e?0:e,r=t.changesCount,o=void 0===r?0:r,n>Date.now()&&(this._wait=o%this._changesLimit?this._waitShort:this._waitLong,this._nextChange=n,this._RemainingTime=new Jd(n,this._wait),this.startCountdownRefreshing()),[2]}})})}}),Object.defineProperty(t.prototype,"startCountdownRefreshing",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;this.refChangeServerInterval=setInterval(function(){return t.refreshCountDown()},Ti.fromSeconds(1)),this.refreshCountDown(),this.renderQuickConnectButtonTime()}}),Object.defineProperty(t.prototype,"refreshCountDown",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.runIntervalCallbacks(),this._RemainingTime.isPending()||this.stopCountdown()}}),Object.defineProperty(t.prototype,"loadConfig",{enumerable:!1,configurable:!0,writable:!0,value:function(t){this._waitShort=Ti.fromSeconds(t.ChangeServerShortDelayInSeconds),this._waitLong=Ti.fromSeconds(t.ChangeServerLongDelayInSeconds),this._changesLimit=t.ChangeServerAttemptLimit}}),Object.defineProperty(t.prototype,"stopCountdown",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.refChangeServerInterval&&(this._nextChange=void 0,this._RemainingTime=void 0,this.renderQuickConnectButtonTime(),clearInterval(this.refChangeServerInterval),this.refChangeServerInterval=void 0,this.unsubscribeFromInterval())}}),Object.defineProperty(t.prototype,"refreshState",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return lp(this,void 0,void 0,function(){return fp(this,function(e){switch(e.label){case 0:return[4,this.isPending()];case 1:return e.sent()?t?[4,this.resumeCountdown()]:(this.unsubscribeFromInterval(),[2]):[2];case 2:return e.sent(),this.subscribeToInterval(this.renderQuickConnectButtonTime,this.clearQuickConnectButtonTime),[2]}})})}}),Object.defineProperty(t.prototype,"showModal",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t,e=this;null===(t=this.openModal)||void 0===t||t.call(this),this.renderModalTime(-1),setTimeout(function(){e.modalCircleEl.classList.add("transition"),e.renderModalTime(0)}),this.subscribeToInterval(this.renderModalTime);var n=new MutationObserver(function(){e.modalEl.classList.contains("selected-page")||(e.modalCircleEl.classList.remove("transition"),e.unsubscribeFromInterval(e.renderModalTime),n.disconnect())});n.observe(this.modalEl,{attributes:!0,attributeFilter:["class"]})}}),Object.defineProperty(t.prototype,"setNextChange",{enumerable:!1,configurable:!0,writable:!0,value:function(t){return lp(this,void 0,void 0,function(){var e,n,r;return fp(this,function(o){switch(o.label){case 0:return n=1,[4,ap()];case 1:return e=n+(null!==(r=o.sent().changesCount)&&void 0!==r?r:0),this._wait=(null!=t?t:e%this._changesLimit)?this._waitShort:this._waitLong,this._nextChange=Date.now()+this._wait,Fi(function(t){return rp(this,void 0,void 0,function(){var e,n,r;return op(this,function(o){switch(o.label){case 0:return[4,ap()];case 1:return e=o.sent(),n=np(np({},e),t),r=Fi,[4,ip.set(n)];case 2:return r.apply(void 0,[o.sent()]),[2,n]}})})}({changesCount:e,nextChange:this._nextChange})),[2,this._nextChange]}})})}}),Object.defineProperty(t.prototype,"subscribeToInterval",{enumerable:!1,configurable:!0,writable:!0,value:function(t,e){this.intervalSubscribers.set(t,e)}}),Object.defineProperty(t.prototype,"unsubscribeFromInterval",{enumerable:!1,configurable:!0,writable:!0,value:function(t){var e,n=this;if(t)return null===(e=this.intervalSubscribers.get(t))||void 0===e||e.call(this),void this.intervalSubscribers.delete(t);this.intervalSubscribers.forEach(function(t){return null==t?void 0:t.call(n)}),this.intervalSubscribers.clear()}}),Object.defineProperty(t.prototype,"runIntervalCallbacks",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t=this;this.intervalSubscribers.forEach(function(e,n){return n.call(t)})}}),Object.defineProperty(t.prototype,"renderQuickConnectButtonTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){var t;this.quickConnectButtonEl.dataset.nextChange=(null===(t=this._RemainingTime)||void 0===t?void 0:t.getChronometer())||""}}),Object.defineProperty(t.prototype,"clearQuickConnectButtonTime",{enumerable:!1,configurable:!0,writable:!0,value:function(){this.quickConnectButtonEl.dataset.nextChange=""}}),Object.defineProperty(t.prototype,"renderModalTime",{enumerable:!1,configurable:!0,writable:!0,value:function(t){void 0===t&&(t=1);this.modalCircleEl.style.strokeDashoffset=(252*this._RemainingTime.getProportion(Ti.fromSeconds(t))).toString(),this.modalTimeEl.innerHTML=this._RemainingTime.getChronometer()}}),t}(),vp=function(t,e){t.querySelectorAll("[data-go-to]").forEach(function(t){t.classList.contains("go-to-configured")||(t.classList.add("go-to-configured"),t.addEventListener("click",function(n){var r=t.getAttribute("data-go-to");r&&(e(r),t.classList.add("active"),t.setAttribute("aria-current","true")),n.preventDefault(),n.stopPropagation()}))})},hp=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},yp=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},bp=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},gp=function(t){return Hi(yp(void 0,void 0,void 0,function(){var e,n,r,o;return bp(this,function(i){switch(i.label){case 0:return[4,ls()];case 1:return e=i.sent(),n=e.Servers,r=e.Countries,o=100*Math.floor(n/100),t.querySelectorAll(".access-sentence").forEach(function(t){t.innerText=function(t,e){return Lo("Error").t(Tf||(Tf=ud(["Access over "," in ",""],["Access over "," in ",""])),t,e)}(Lo("Error").plural(o,Io(cp||(cp=hp([""," secure server"],[""," secure server"])),o),"".concat(o," secure servers")),Lo("Error").plural(r,Io(sp||(sp=hp([""," country"],[""," country"])),r),"".concat(r," countries")))}),[2]}})}))},mp=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},wp=function(t){var e;if(!t.getAttribute("aria-label")&&!t.getAttribute("title")){var n=t.innerText.trim()||(null===(e=t.getElementsByTagName("img")[0])||void 0===e?void 0:e.getAttribute("alt"));n&&t.setAttribute("title",Lo("Action").t(up||(up=mp([""," (New tab)"],[""," (New tab)"])),n))}},xp=function(t,e){wo({"a[href]":"href","[data-href]":"data-href"},function(n,r){(t||document).querySelectorAll(n).forEach(function(t){t.classList.contains("href-configured")||(t.classList.add("href-configured"),wp(t),t.addEventListener("click",function(n){var o,i=t.getAttribute(r);i&&(n.preventDefault(),n.stopPropagation(),e(function(t,e){var n=$o();if(!e.includes(n))return t;var r=t.replace(/^(https:\/\/protonvpn\.com\/support\/)/,"$1"+n+"/");return r!==t?r:t.replace(/^(https:\/\/protonvpn\.com\/)/,"$1"+n+"/")}(i,(o=t.dataset,qo("localeSupport",o))),t))}))})})},_p=document.querySelector("#modals");if(!_p)throw new Error("Modals root element not found. (#modals)");var Sp="data-modal-default-close",Ep="data-modal-default-close-outside",kp="modalDefaultClose",Cp="modalDefaultCloseOutside";function Op(){_p.querySelectorAll("[".concat(Sp,'=""]')).forEach(function(t){t.dataset[kp]="set",t.addEventListener("click",function(){return function(t){var e;null===(e=t.closest("dialog[open]"))||void 0===e||e.close()}(t)})}),function(){if("set"===_p.dataset[Cp])return;_p.dataset[Cp]="set",_p.addEventListener("click",function(t){var e,n=null===(e=t.target)||void 0===e?void 0:e.closest("dialog[".concat(Ep,"][open]"));if(n){var r=n.getBoundingClientRect(),o=t.clientX,i=t.clientY;(o<r.left||o>r.right||i<r.top||i>r.bottom)&&n.close()}})}()}var Tp=function(){return Tp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Tp.apply(this,arguments)},Pp=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Ip=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},jp=O.item("review-info",t.SYNC),Ap=function(){return Pp(void 0,void 0,void 0,function(){var t,e;return Ip(this,function(n){switch(n.label){case 0:return t=[{lastReviewTimestamp:0,lastDismissTimestamp:0,firstConnectionTimestamp:void 0,successConnectionsInRow:0,milliSecondsConnectedInRow:0,lastSeenConnectedTimestamp:void 0}],[4,jp.get()];case 1:return[2,Tp.apply(void 0,t.concat([null!==(e=n.sent())&&void 0!==e?e:{}]))]}})})};function Lp(t){return Pp(this,void 0,void 0,function(){return Ip(this,function(e){return[2,Ap().then(function(e){return jp.set(Tp(Tp({},e),t instanceof Function?t(e):t||{}))})]})})}function Np(){return Pp(this,void 0,void 0,function(){return Ip(this,function(t){return[2,Lp(function(t){var e=t.firstConnectionTimestamp,n=void 0===e?Date.now():e,r=t.successConnectionsInRow;return{firstConnectionTimestamp:n,successConnectionsInRow:(void 0===r?0:r)+1}})]})})}var Dp=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Rp=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Mp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function Up(t){return Dp(this,void 0,void 0,function(){var e;return Rp(this,function(n){switch(n.label){case 0:return[4,ya(1e3)];case 1:return n.sent(),[4,$p(t)];case 2:return n.sent()&&(e=document.getElementById("rate-us"))&&!e.open&&function(t){var e;null===(e=t.closest("dialog"))||void 0===e||e.showModal()}(e),[2]}})})}function $p(t){return Dp(this,void 0,void 0,function(){var e,n,r,o,i,a,c,s,u,l,f,d,p,v,h,y,b,g,m,w,x,_,S,E,k,C;return Rp(this,function(O){switch(O.label){case 0:return e=Date.now(),[4,Promise.all([Zd(void 0,void 0,void 0,function(){return Xd(this,function(t){switch(t.label){case 0:return[4,ep()];case 1:return[2,t.sent().RatingSettings]}})}),Ap()])];case 1:return n=Mp.apply(void 0,[O.sent(),2]),r=n[0],o=n[1],i=o.lastDismissTimestamp,a=o.lastReviewTimestamp,c=o.firstConnectionTimestamp,s=void 0===c?e:c,u=o.successConnectionsInRow,l=void 0===u?0:u,f=o.milliSecondsConnectedInRow,d=void 0===f?0:f,p=r.EligiblePlans,v=void 0===p?[]:p,h=r.DaysLastReviewPassed,y=void 0===h?100:h,b=r.DaysFromFirstConnection,g=void 0===b?0:b,m=r.SuccessConnections,w=void 0===m?2:m,x=r.DaysConnected,_=void 0===x?3:x,S=r.DaysFromLastDismiss,E=void 0===S?30:S,v.includes((null==t?void 0:t.VPN.PlanName)||"free")?Ti.diffInDays(i,e)<E||Ti.diffInDays(a,e)<y||Ti.diffInDays(s,e)<g?[2,!1]:(k=l>=w,C=Ti.toDays(d)>=_,[2,k||C]):[2,!1]}})})}var qp=function(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t},Bp=function(){return Bp=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Bp.apply(this,arguments)},Fp=function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{s(r.next(t))}catch(t){i(t)}}function c(t){try{s(r.throw(t))}catch(t){i(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(a,c)}s((r=r.apply(t,e||[])).next())})},Hp=function(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=c(0),a.throw=c(1),a.return=c(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(s){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,s])}}},Gp=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Vp=function(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))},zp="file:///builds/ProtonVPN/browser-extension/proton-vpn-browser-extension/vpn-bex/source/js/popup.ts".split("/").pop();if(e())throw new Error("'use popup' directive detected in: "+zp);var Wp,Yp,Jp,Kp,Zp,Xp,Qp,tv,ev,nv,rv,ov,iv,av,cv,sv,uv,lv,fv,dv,pv,vv,hv={connected:!1,restarted:!1},yv=function(){return Fp(void 0,void 0,void 0,function(){function t(e){"region"!==e&&(v=void 0,wt.length&&wt.splice(0,wt.length));var n=e&&{region:"world","split-tunneling":"features"}[e]||e;document.querySelectorAll("[data-go-to]").forEach(function(t){t.classList[t.getAttribute("data-go-to")===n?"add":"remove"]("active"),t.removeAttribute("aria-current")}),e&&document.querySelectorAll("[data-page]").forEach(function(n){var r=n.getAttribute("data-page")===e;n.classList[r?"add":"remove"]("selected-page"),r&&(E(n),vp(n,t))}),document.querySelectorAll(".page-view, .page-view [data-page]").forEach(function(t){t.scrollTop=0}),r&&(r.scrollTop=0)}var e,r,o,i,a,c,s,u,d,p,v,h,y,b,g,m,w,x,_,S,E,k,C,T,P,I,j,A,L,N,D,R,M,U,$,q,B,F,H,G,V,z,W,Y,J,K,Z,X,Q,tt,et,nt,rt,ot,it,at,ct,st,ut,lt,ft,dt,pt,vt,ht,yt,bt,gt,mt,wt,xt,_t,St,Et,kt,Ct,Ot,Tt,Pt,It,jt,At;return Hp(this,function(Lt){switch(Lt.label){case 0:return[4,_o(void 0,void 0,void 0,function(){var t,e;return So(this,function(n){switch(n.label){case 0:if("en_US"===(t=Ho()))return Ro(t,{}),[2];n.label=1;case 1:return n.trys.push([1,3,,8]),[4,Mo(t)];case 2:return n.sent(),[3,8];case 3:if(n.sent(),(e=Fo(t.split("_")[0]||""))===t)return Ro(t,{}),[2];n.label=4;case 4:return n.trys.push([4,6,,7]),[4,Mo(e)];case 5:return n.sent(),[3,7];case 6:return n.sent(),Ro("en_US",{}),[3,7];case 7:return[3,8];case 8:return[2]}})})];case 1:return Lt.sent(),e=document.getElementById("spinner"),r=document.getElementById("logged-view"),chrome.proxy?[4,new Promise(function(t){chrome.permissions.contains(Js,function(n){n||lu(document.getElementById("sign-in-view"),r,e,!1),t(n)})})]:(lu(document.getElementById("sign-in-view"),r,e,!1),[2]);case 2:return o=Lt.sent(),wo({".secure-core-action-block":!1,".secure-core-container":!0,".split-tunneling-action-block":!1,".auto-connect-action-block":!1},function(t,e){e&&(Nt||document).querySelectorAll(t).forEach(function(t){t.style.display="none"})}),i="dark",a=function(t){var e=["dark","light","auto"];e.forEach(function(e){document.querySelectorAll('[name="theme"][value="'+e+'"]').forEach(function(n){n.checked=e===t})}),document.body.classList.contains(t+"-theme")||e.forEach(function(e){document.body.classList[e===t?"add":"remove"](e+"-theme")})},(c=O.item("theme")).get().then(function(t){i=(null==t?void 0:t.value)||i,a(i)}),[4,Yi()];case 3:if((s=Lt.sent()).uid&&s.refreshToken)return[3,7];Lt.label=4;case 4:return Lt.trys.push([4,6,,7]),[4,Wu(s)];case 5:return Lt.sent()?[3,7]:[2];case 6:return u=Lt.sent(),yi(u),[3,7];case 7:d=document.getElementById("modal-error"),null===(It=d.querySelector(".close-button"))||void 0===It||It.addEventListener("click",function(){var t=d.getAttribute("data-error-id"),n=Number(d.getAttribute("data-error-restart-on-close"));t&&Fi(O.setItem("closed-"+t,{value:1})),d.style.display="none",n&&lu(document.getElementById("sign-in-view"),r,e,o)}),p=document.querySelector(".error-slot"),v=void 0,h=function(e,n){v={name:e,content:n};var r=document.querySelector('[data-page="region"] .page-title .name'),o=document.querySelector('[data-page="region"] .region-content');r&&(r.innerHTML=e),o&&n&&(o.innerHTML=n,E(o),vp(o,t),Kl(o),lt(o))},y=function(e,n){v&&wt.push(v),h(e,n),t("region")},b=function(t,e){t.addEventListener("click",e),t.addEventListener("keydown",function(n){t!==document.activeElement||"Enter"!==n.key&&" "!==n.key||e(n)})},g=function(t,e,n){return void 0===n&&(n=!1),t.filter(function(t){return 0===(t.Features&((n?0:Sc.TOR)|Sc.RESTRICTED|Sc.PARTNER))&&(t.Features&Sc.SECURE_CORE)===(e>0&&(null==D?void 0:D.value)?Sc.SECURE_CORE:0)})},m=function(t,e){return t.filter(function(t){return t.ExitCountry!==e})},w=function(t){var e=t.getAttribute("data-id");if(e)return{getLogical:function(){return Qc(e)},choice:{logicalId:e}};var n=t.getAttribute("data-exitCountry")||"";if(n){var r=el(J[n]),o=t.getAttribute("data-subGroup")||"";if(o)switch(o.toLowerCase()){case"other":return{getLogical:function(){return nl(g(r.filter(function(t){return 0===(t.Features&Sc.TOR)&&!t.City&&t.Tier>0}),H),H,k)},choice:{exitCountry:n,filter:"other"}};case"tor":return{getLogical:function(){return nl(g(r.filter(function(t){return t.Features&Sc.TOR}),H,!0),H,k)},choice:{exitCountry:n,requiredFeatures:Sc.TOR}};case"free":return{getLogical:function(){return nl(g(r.filter(function(t){return t.Tier<1}),H),H,k)},choice:{exitCountry:n,tier:0}};default:return{getLogical:function(){return nl(g(r.filter(function(t){return t.City===o}),H),H,k)},choice:{exitCountry:n,city:o}}}var i=t.getAttribute("data-entryCountry")||"";return i?{getLogical:function(){return nl(g(r.filter(function(t){return t.EntryCountry===i}),H),H,k)},choice:{exitCountry:n,entryCountry:i}}:{getLogical:function(){return nl(g(r,H),H,k)},choice:{exitCountry:n}}}return{getLogical:function(){return null},choice:{}}},x=null,_=function(){return Fp(void 0,void 0,void 0,function(){var t;return Hp(this,function(e){switch(e.label){case 0:return x?[2,x.user]:[4,$d()];case 1:return t=e.sent(),x={user:t},[2,t]}})})},S=function(t){return Fp(void 0,void 0,void 0,function(){var e;return Hp(this,function(n){switch(n.label){case 0:return[4,_()];case 1:return e=n.sent(),[2,Bd(t,{email:null==e?void 0:e.Email,plan:(null==C?void 0:C.Subscribed)?"":"vpn2024"})]}})})},E=function(e){(e||document).querySelectorAll(".expand-button:not(.expand-button-configured)").forEach(function(t){var n,r;t.classList.add("expand-button-configured");for(var o=t.parentNode,i=e||document.body;o!==i&&!(null===(n=null==o?void 0:o.classList)||void 0===n?void 0:n.contains("country-header"))&&!(null===(r=null==o?void 0:o.classList)||void 0===r?void 0:r.contains("server-type"));)o=o.parentNode;o!==i&&(t.addEventListener("mouseover",function(){o.classList.add("hover")}),t.addEventListener("mouseout",function(){o.classList.remove("hover")})),b(t,function(e){return Fp(void 0,void 0,void 0,function(){var n,r,o,i,a,c,s,u;return Hp(this,function(l){return e.stopPropagation(),null===(a=e.stopImmediatePropagation)||void 0===a||a.call(e),e.preventDefault(),n=t.getAttribute("data-expand"),r=w(t).choice,o="".concat(r.exitCountry),i=n&&((null===(s=null===(c=window.sectionBuilder)||void 0===c?void 0:c[n])||void 0===s?void 0:s.call(c))||(null===(u=document.getElementById(n))||void 0===u?void 0:u.innerHTML))||"",y('\n\t\t\t\t\t\t<div class="country-flag">\n\t\t\t\t\t\t\t'.concat((null==D?void 0:D.value)?yl():"","\n\t\t\t\t\t\t\t").concat(cl(o),'\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="country-name" data-country-code="').concat(o,'">\n\t\t\t\t\t\t\t').concat(t.getAttribute("data-subGroupName")||Vo(o),"\n\t\t\t\t\t\t</div>\n\t\t\t\t\t"),i),[2]})})})});var n=function(t,e){!function(t,e,n){Fi(Ts(e,n)),ya(1).then(function(){t.close()})}(window,t),e&&yd()},r=function(e,r){return Fp(void 0,void 0,void 0,function(){var o,i,a,c,s,u,l;return Hp(this,function(d){switch(d.label){case 0:return"{manageAccountURL}"===e&&(e=f),o=!(!r.classList.contains("upgrade-button")&&!Number(r.getAttribute("data-forget-account"))),a=Bd,c=[e],[4,Yd((p=r.dataset,qo("querySeed",p)),_)];case 1:return c=c.concat([d.sent()]),[4,Yd(Bo(r.dataset),_)];case 2:return i=a.apply(void 0,c.concat([d.sent()])),Number(r.getAttribute("data-direct-upgrade"))?(s=n,[4,S(i)]):[3,4];case 3:return s.apply(void 0,[d.sent(),o]),[2];case 4:return Number(r.getAttribute("data-upgrade"))?(t("upgrade"),(u=document.querySelector('[data-page="upgrade"]'))?(u.querySelectorAll(".open-upgrade-page").forEach(function(t){t.setAttribute("data-href",i),t.setAttribute("data-direct-upgrade","1")}),E(u),[4,S(i)]):[3,6]):[3,7];case 5:l=d.sent(),u.querySelectorAll(".open-upgrade-page").forEach(function(t){t.setAttribute("data-href",l),t.removeAttribute("data-direct-upgrade")}),E(u),gp(u),d.label=6;case 6:return[2];case 7:return n(i,o),[2]}var p})})};(e||document.getElementById("servers")||document).querySelectorAll(".open-upgrade-page, button:not(.close-button):not(.corner-button):not(.quick-connect-button), .connect-clickable, .server:not(.in-maintenance)").forEach(function(e){b(e,function(n){return Fp(void 0,void 0,void 0,function(){var o,i,a,c,s,u;return Hp(this,function(l){switch(l.label){case 0:if(n.stopPropagation(),null===(u=n.stopImmediatePropagation)||void 0===u||u.call(n),n.preventDefault(),o=e.getAttribute("data-href"))return Fi(r(o,e)),[2];if(i=w(e),a=i.getLogical,c=i.choice,!(s=null==a?void 0:a()))throw new Error("Misconfigured server. Cannot find the selected logical.");return Q(Bp({connected:!0},c)),t("world"),[4,gt(s)];case 1:return l.sent(),[2]}})})})}),xp(e||document,r),vp(e||document,t)},k=function(t){$i(t);var n=null==t?void 0:t._id;Fp(void 0,void 0,void 0,function(){var e,r,o,i,a,c;return Hp(this,function(s){switch(s.label){case 0:return r=(e=Object).assign,o=[{blockingError:"",error:"",restartOnClose:!1}],(i=t)?(a=n)?[4,O.getItem("closed-"+n)]:[3,2]:[3,3];case 1:a=null===(c=s.sent())||void 0===c?void 0:c.value,s.label=2;case 2:i=!a,s.label=3;case 3:return[2,r.apply(e,o.concat([i?ki(t):{}]))]}})}).then(function(t){var i=t.blockingError,a=t.error,c=t.restartOnClose;d.setAttribute("data-error-restart-on-close",c?"1":"0"),d.style.display=i?"flex":"none",n&&d.setAttribute("data-error-id",n),d.querySelector(".modal-error-slot").innerHTML=i,p.innerHTML=a,p.querySelectorAll(".close-button").forEach(function(t){t.addEventListener("click",function(){var i;n&&Fi(O.setItem("closed-"+n,{value:1}));var a=t.parentNode;null===(i=a.parentNode)||void 0===i||i.removeChild(a),c&&lu(document.getElementById("sign-in-view"),r,e,o)})}),E(p),E(d)})},Lt.label=8;case 8:return Lt.trys.push([8,10,,13]),[4,Dd(void 0,void 0,void 0,function(){var t;return Rd(this,function(e){switch(e.label){case 0:return[4,ba(ns(ii.USER),Ti.fromSeconds(30),"User info loading timed out",Ld)];case 1:if(!(t=e.sent()))throw new Ld(Lo("Error").t(xd||(xd=Nd(["Unable to login"],["Unable to login"]))));return[2,t]}})})];case 9:return C=Lt.sent(),[3,13];case 10:return(T=Lt.sent())instanceof ta||T.logout||!hv.restarted&&Wa(T)?(hv.restarted=!0,[4,Qi({})]):[3,12];case 11:return Lt.sent(),Fi(yv()),[2];case 12:return e&&(e.style.display="none"),r&&(r.style.display="block"),k(T),C=void 0,[3,13];case 13:return C?(P=O.item("secure-core"),I=O.item("auto-connect"),j=[],[4,Promise.all([Xc(),Fc(s.uid),P.getDefined({value:!1}),jd.getDefined({value:!0}),I.getDefined({value:!0}),bd.getDefined({value:!0}),Uf(),$f(),Ni(),Id.getDefined({value:[]})])]):[2];case 14:return A=Gp.apply(void 0,[Lt.sent(),10]),L=A[0],N=A[1],D=A[2],R=A[3],M=A[4],U=A[5],$=A[6],q=A[7],B=A[8],F=A[9],j=L,$||document.querySelectorAll(".telemetry-block").forEach(function(t){t.style.display="none"}),qc(j,N),window.addEventListener("languagechange",function(){return Fp(void 0,void 0,void 0,function(){var t,e;return Hp(this,function(n){switch(n.label){case 0:return e=Fc,[4,Yi()];case 1:return[4,e.apply(void 0,[n.sent().uid])];case 2:return t=n.sent(),qc(j,t),wo(J,function(t,e){e.name=Vo(t)}),document.querySelectorAll(".city-name").forEach(function(e){var n=e.getAttribute("data-english-city-name"),r=e.getAttribute("data-country-code");n&&r&&(e.innerHTML=zo((t[r]||{})[n]||n))}),document.querySelectorAll(".country-name").forEach(function(t){var e="".concat(t.getAttribute("data-country-code"));t.innerHTML=zo(Vo(e))}),[2]}})})}),H=fc(C),G=dc(C),V=!G,z=(null===(jt=null==C?void 0:C.VPN)||void 0===jt?void 0:jt.BrowserExtension)||!1,W=!z,[4,Fp(void 0,void 0,void 0,function(){var t;return Hp(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,ba(ns(ii.STATE),Ti.fromSeconds(5),"Unable to load state")];case 1:return[2,e.sent()];case 2:return t=e.sent(),yi(t,(new Error).stack),[2,{error:t}];case 3:return[2]}})})];case 15:return Y=Lt.sent(),hv.connected=!!(null==Y?void 0:Y.server),(W?function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return ld(void 0,pd([t],dd(e),!1),void 0,function(t,e){var n,r,o;return void 0===e&&(e=86151),fd(this,function(i){switch(i.label){case 0:return[4,ls()];case 1:return n=i.sent(),r=n.Servers,o=n.Countries,[2,{httpStatus:403,Code:e,Error:Lo("Error").t(Pf||(Pf=ud(["Connect from your browser with ",""],["Connect from your browser with ",""])),t),Details:{Type:"DeviceLimit",Title:Lo("Error").t(If||(If=ud(["Connect from your browser with ",""],["Connect from your browser with ",""])),t),Body:[{Component:"Feature",Icon:"world",Text:vd(Lo("Error").plural(r,Io(jf||(jf=ud(["","+ secure server"],["","+ secure server"])),r),"".concat(r,"+ secure servers")),Lo("Error").plural(o,Io(Af||(Af=ud([""," country"],[""," country"])),o),"".concat(o," countries")))},{Component:"Feature",Icon:"play",Text:Lo("Error").t(Lf||(Lf=ud(["Unlock global streaming services"],["Unlock global streaming services"])))},{Component:"Feature",Icon:"incognito",Text:Lo("Error").t(Nf||(Nf=ud(["Bypass online censorship with advanced security and privacy features"],["Bypass online censorship with advanced security and privacy features"])))}],Actions:[{Code:"Upgrade",Name:Lo("Action").t(Df||(Df=ud(["Upgrade"],["Upgrade"]))),Category:"main_action",URL:"/vpn/dashboard"}]}}]}})})}((null===(At=null==C?void 0:C.VPN)||void 0===At?void 0:At.BrowserExtensionPlan)||"VPN Plus"):new Promise(function(t){t(Y.error)})).then(function(t){k(t)}),J={},K={},j.forEach(function(t){var e;if(!G||0!==t.Tier){var n=t.ExitCountry;t.Tier<=0&&(K[n]=!0),t.EntryCountryName=Go(t.EntryCountry,"en"),t.Translations||(t.Translations={}),t.Translations.EntryCountryName=Go(t.EntryCountry);var r,o=t.Features&Sc.SECURE_CORE,i=o?"secureCore":t.City?"city":t.Features&Sc.TOR?"tor":t.Tier<1?"free":"other",a=!o&&t.City||("string"==typeof(r=i)&&r.length>=1?r.substring(0,1).toUpperCase()+r.substring(1):r),c=o?Lo("Info").t(Wp||(Wp=qp(["Secure Core"],["Secure Core"]))):(null===(e=t.Translations)||void 0===e?void 0:e.City)||t.City||{tor:"TOR",free:Lo("Label").t(Yp||(Yp=qp(["Free"],["Free"])))}[i]||Lo("Label").t(Jp||(Jp=qp(["Other"],["Other"]))),s=J[n]||(J[n]={englishName:Vo(n,"en"),name:Vo(n),needUpgrade:!0,groups:{}});s.groups||(s.groups={}),s.needUpgrade=s.needUpgrade&&H<t.Tier;var u=s.groups[a]||(s.groups[a]={type:i,englishName:a,name:c,needUpgrade:!0,logicals:[]});u.needUpgrade=u.needUpgrade&&H<t.Tier,(u.logicals||(u.logicals=[])).push(t)}}),Z=document.querySelector("#servers"),o?(e&&(e.style.display="none"),r&&(r.style.display="block"),Z.classList[W?"add":"remove"]("not-allowed-by-plan"),(X=function(){Z.innerHTML=ql(J,H,D),Kl()})(),Q=function(t){var e,n={excludedFeatures:0,requiredFeatures:0},r=((e={})[Sc.SECURE_CORE]=null==D?void 0:D.value,e);wo(r,function(t,e){var r=e?"requiredFeatures":"excludedFeatures";n[r]=n[r]|Number(t)}),wo(n,function(t,e){e||delete n[t]}),vf(Bp(Bp({},n),t))},tt=document.querySelector("#status .connection-status"),et=document.querySelector("button.sign-out-button"),nt=document.querySelector("button.switch-account-button"),rt=document.getElementById("menu"),ot=document.querySelector(".quick-connect-button"),it=document.querySelector("#status button.disconnection-button"),at=document.getElementById("free-countries-list"),ct=document.getElementById("free-server-countries-count"),st=document.getElementById("free-country-item-template"),it.innerHTML=Lo("Action").t(Kp||(Kp=qp(["Disconnect"],["Disconnect"]))),ut=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Fp(void 0,Vp([],Gp(t),!1),void 0,function(t){var e,n;return void 0===t&&(t=ei.DISCONNECT),Hp(this,function(r){switch(r.label){case 0:return e=null==Y?void 0:Y.server,n=(null==e?void 0:e.id)?Qc(e.id):void 0,hv.connected=!1,yt(),Q({connected:!1}),Hd.disconnect(n,e),[4,ci(t)];case 1:return r.sent(),[2]}})})},it.addEventListener("click",function(){return Fp(void 0,void 0,void 0,function(){return Hp(this,function(t){switch(t.label){case 0:return[4,ut()];case 1:return t.sent(),[2]}})})}),lt=function(t,e){var n,r,o;void 0===e&&(e=hv.connected);var i=null===(n=null==Y?void 0:Y.server)||void 0===n?void 0:n.exitCountry,a=null===(r=null==Y?void 0:Y.server)||void 0===r?void 0:r.exitEnglishCity,c=null===(o=null==Y?void 0:Y.server)||void 0===o?void 0:o.id;(t||document).querySelectorAll(".country-name").forEach(function(t){var n=t.getAttribute("data-country-code");t.classList[e&&n&&n===i?"add":"remove"]("connected-list-item")}),(t||document).querySelectorAll(".group-button").forEach(function(t){var n=t.getAttribute("data-subGroup"),r=t.getAttribute("data-exitCountry"),o=e&&n&&r&&n===a&&r===i;t.querySelectorAll(".group-name").forEach(function(t){t.classList[o?"add":"remove"]("connected-list-item")})}),(t||document).querySelectorAll(".server-name").forEach(function(t){t.classList[e&&c&&t.getAttribute("data-server-id")===c?"add":"remove"]("connected-list-item")})},ft=V,dt=0,pt=void 0,vt=document.querySelector('[data-page="server-change-remaining-time"]'),ht=V?new pp(ot,vt,function(){t("server-change-remaining-time"),E(vt)}):void 0,yt=function(t,e){void 0===e&&(e=!1),t||(t=null==Y?void 0:Y.server);var n=(null==t?void 0:t.exitCountry)||"",r=(null==t?void 0:t.entryCountry)||"",o=!(!r||r===n),i=((null==t?void 0:t.exitCity)||"")+" "+((null==t?void 0:t.name)||"").replace(new RegExp("^"+n+"#"),"#"),a=(null==t?void 0:t.exitIp)||"",c=hv.connected||e;if(it.style.display=c?"block":"none",ot.style.display=c&&G?"none":"block",ot.innerHTML=c?Lo("Action").t(Zp||(Zp=qp(["Change server"],["Change server"]))):Lo("Action").t(Xp||(Xp=qp(["Connect"],["Connect"]))),ot.classList[c?"add":"remove"]("weak"),document.querySelectorAll(".quick-connect-button-subtitle").forEach(function(t){G||(t.style.display=c?"none":"block")}),document.querySelectorAll(".quick-connect-button-incentive").forEach(function(t){t.style.display=c?"none":"block"}),lf(c?"protected":"unprotected"),lt(Z,hv.connected&&!e),null==ht||ht.refreshState(c),e)return dt=Date.now(),pt=setInterval(function(){ci(ei.CONNECTING,{connectionAttemptTime:dt})},500),it.classList.remove("danger-hover"),it.innerHTML=Lo("Action").t(Qp||(Qp=qp(["Cancel"],["Cancel"]))),tt.classList.remove("success","danger"),void(tt.innerHTML='\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n\t\t\t\t\t<div id="connecting-label" class="protection-status">'.concat(Lo("Info").t(tv||(tv=qp(["Connecting..."],["Connecting..."]))),'</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t<div class="current-server-flag">').concat(cl(n),'</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="current-server-country">').concat(Vo(n),'</div>\n\t\t\t\t\t\t<div class="current-server-name">').concat(i,'</div>\n\t\t\t\t\t\t<div class="exit-ip">').concat(a,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"));dt=0,pt&&clearInterval(pt),Hd.finishConnection(hv.connected),it.innerHTML=Lo("Action").t(ev||(ev=qp(["Disconnect"],["Disconnect"]))),it.classList.add("danger-hover"),tt.classList.remove(hv.connected?"danger":"success"),tt.classList.add(hv.connected?"success":"danger");var s=["US","NL","JP"],u=Vp(Vp([],Gp(s.filter(function(t){return K[t]})),!1),Gp(Object.keys(K).filter(function(t){return-1===s.indexOf(t)})),!1),l=function(t){return t.map(function(e,n){return'\n\t\t\t\t<span class="country-in-group'.concat(e!==t[0]?" folded":"",'" style="z-index: ').concat(3-n,'">').concat(cl(e),"</span>")}).join("")};if(tt.innerHTML=hv.connected?'\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<svg role="img" focusable="false" aria-hidden="true" class="protection-icon medium-icon" viewBox="0 0 24 24">\n\t\t\t\t\t\t<use xlink:href="img/icons.svg#protected"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div id="protected-label" class="protection-status">'.concat(Lo("Label").t(nv||(nv=qp(["Protected"],["Protected"]))),'</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t<div class="current-server-flag ').concat(o?" wide":"",'">').concat((o?"".concat(cl(r)," &nbsp;").concat(yl(),"&nbsp;"):"")+cl(n),'</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class="current-server-country">').concat(Vo(n),'</div>\n\t\t\t\t\t\t<div class="current-server-name">').concat(i,'</div>\n\t\t\t\t\t\t<div class="exit-ip">').concat(a,"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t"):'\n\t\t\t\t<div class="status-title">\n\t\t\t\t\t<svg role="img" focusable="false" aria-hidden="true" class="protection-icon medium-icon" viewBox="0 0 24 24">\n\t\t\t\t\t\t<use xlink:href="img/icons.svg#unprotected"></use>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<div id="unprotected-label" class="protection-status">'.concat(Lo("Label").t(rv||(rv=qp(["Unprotected"],["Unprotected"]))),"</div>\n\t\t\t\t</div>\n\n\t\t\t\t").concat("","\n\t\t\t\t").concat(ft&&z?'\n\t\t\t\t<div class="current-server-description">\n\t\t\t\t\t<div class="lightning">\n\t\t\t\t\t\t<svg class="lightning-symbol" viewBox="0 0 10 14">\n\t\t\t\t\t\t\t<use xlink:href="img/icons.svg#lightning"></use>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="fastest-server" data-go-to="about-free-connections">\n\t\t\t\t\t\t<div class="current-server-country">'.concat(Lo("Info").t(ov||(ov=qp(["Fastest free server"],["Fastest free server"]))),'</div>\n\t\t\t\t\t\t<div class="current-server-name">\n\t\t\t\t\t\t\t<span class="auto-select-label">').concat(Lo("Info").t(iv||(iv=qp(["Auto-selected from"],["Auto-selected from"]))),"</span>\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t").concat(u.length<=3?l(u):l(u.slice(0,3))+" +"+(u.length-3),"\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t"):"","\n\t\t\t"),E(tt),V&&at&&st&&ct){for(var f=st.nextSibling;f;){var d=f.nextElementSibling;at.removeChild(f),f=d}Object.keys(K).forEach(function(t){var e,n=null===(e=st.content.firstElementChild)||void 0===e?void 0:e.cloneNode(!0);if(n){var r=n.querySelector(".country-flag-img"),o=n.querySelector(".country-name");r&&(r.src="/img/flags/".concat(t.toLowerCase(),".svg"),r.alt=t),o&&(o.setAttribute("data-country-code",t),o.textContent=Vo(t)),at.appendChild(n)}}),ct.textContent=Object.keys(K).length.toString()}Fi(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Yu(void 0,Zu([],Ku(t),!1),void 0,function(t){var e,n,r,o,i;return void 0===t&&(t=!1),Ju(this,function(a){switch(a.label){case 0:return 0===(e=document.querySelectorAll(".public-ip")).length?[2]:t?[4,kc()]:[3,2];case 1:return r=a.sent(),[3,4];case 2:return[4,Ec()];case 3:r=null===(i=a.sent())||void 0===i?void 0:i.location,a.label=4;case 4:return(o=null==(n=r)?void 0:n.IP)?(e.forEach(function(t){t.innerText!==o&&(t.innerHTML=zo(o))}),[2]):[2]}})})}(!0))},Fi(sf()),ns(ii.PM_USER).then(function(t){x={user:t};var e=zo(t.DisplayName||t.Name||t.Email||"");document.querySelectorAll(".pm-user-name").forEach(function(t){t.innerHTML=e})}),bt=zo(C.VPN.PlanTitle||Lo("Label").t(av||(av=qp(["Free"],["Free"])))),document.querySelectorAll(".pm-plan").forEach(function(t){t.innerHTML=bt}),document.querySelectorAll("[data-open-account-page]").forEach(function(t){wp(t),t.addEventListener("click",function(){return Fp(void 0,void 0,void 0,function(){var e,n;return Hp(this,function(r){switch(r.label){case 0:return e=l+t.getAttribute("data-open-account-page"),n=Ts,[4,S(e)];case 1:return[4,n.apply(void 0,[r.sent()])];case 2:return r.sent(),yd(),[2]}})})})}),document.querySelectorAll(".theme-choice input").forEach(function(t){t.addEventListener("change",function(){return Fp(void 0,void 0,void 0,function(){var e;return Hp(this,function(n){switch(n.label){case 0:return t.checked?(e=t.value,a(e),[4,c.set({value:e})]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})})}),gt=function(t){return Fp(void 0,void 0,void 0,function(){var e,n,r,o;return Hp(this,function(i){switch(i.label){case 0:if(Hd.connect(t),e=function(t){var e=((null==t?void 0:t.Servers)||[]).filter(Gc);return e[Math.floor(Math.random()*e.length)]}(t),!e)throw new Error("Misconfigured server. Cannot find an entry for this server.");i.label=1;case 1:return i.trys.push([1,4,,5]),n=!hv.connected,hv.connected=!0,yt({id:t.ID,name:t.Name,exitIp:e.ExitIP,entryCountry:t.EntryCountry,exitCountry:t.ExitCountry,exitCity:(null===(o=t.Translations)||void 0===o?void 0:o.City)||t.City,exitEnglishCity:t.City,secureCore:0!==(t.Features&Sc.SECURE_CORE)},n),[4,ci(ei.CONNECT,{server:e,logical:t,user:C,bypassList:Pd(H,F.value)})];case 2:return i.sent(),[4,Np()];case 3:return i.sent(),Up(C),[3,5];case 4:return r=i.sent(),k(r),[3,5];case 5:return[2]}})})},mt=function(t){return Fp(void 0,void 0,void 0,function(){var e,n;return Hp(this,function(r){switch(r.label){case 0:return hv.connected&&(e=document.querySelector(".main-area"))?((n=document.createElement("div")).classList.add("confirm-modal"),n.innerHTML="<div>\n\t\t\t\t\t".concat(Lo("Confirm").t(cv||(cv=qp(["Logging out of the application will disconnect the active VPN connection. Do you want to continue?"],["Logging out of the application will disconnect the active VPN connection. Do you want to continue?"]))),'\n\t\t\t\t\t<div class="user-buttons-bar">\n\t\t\t\t\t\t<button data-st-action="cancel" class="tertiary-button" data-trans data-context="Action">Cancel</button>\n\t\t\t\t\t\t<button data-st-action="ok" class="primary-button" data-trans data-context="Action">OK</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>'),e.appendChild(n),n.querySelectorAll('[data-st-action="cancel"]').forEach(function(t){t.addEventListener("click",function(){e.removeChild(n)})}),n.querySelectorAll('[data-st-action="ok"]').forEach(function(r){r.addEventListener("click",function(){return Fp(void 0,void 0,void 0,function(){var r;return Hp(this,function(o){switch(o.label){case 0:n.querySelectorAll("[data-st-action]").forEach(function(t){t.disabled=!0}),o.label=1;case 1:return o.trys.push([1,3,4,6]),[4,ut(t)];case 2:return o.sent(),[3,6];case 3:return r=o.sent(),yi(r),[3,6];case 4:return[4,ya(1)];case 5:return o.sent(),window.close(),e.removeChild(n),[7];case 6:return[2]}})})})}),[2]):[4,ut(t)];case 1:return r.sent(),[4,ya(1)];case 2:return r.sent(),window.close(),[2]}})})},nt.style.display="flex",nt.title=Lo("Action").t(sv||(sv=qp(["Switch account"],["Switch account"]))),nt.addEventListener("click",function(){return Fp(void 0,void 0,void 0,function(){return Hp(this,function(t){switch(t.label){case 0:return[4,mt(ei.SWITCH_ACCOUNT)];case 1:return t.sent(),[2]}})})}),et.style.display="flex",et.title=Lo("Action").t(uv||(uv=qp(["Sign out"],["Sign out"]))),et.addEventListener("click",function(){return Fp(void 0,void 0,void 0,function(){return Hp(this,function(t){switch(t.label){case 0:return[4,mt(ei.SIGN_OUT)];case 1:return t.sent(),[2]}})})}),rt.style.display="block",ot.innerHTML=W?Lo("Action").t(lv||(lv=qp(["Upgrade"],["Upgrade"]))):ft?Lo("Action").t(fv||(fv=qp(["Connect"],["Connect"]))):Lo("Action").t(dv||(dv=qp(["Quick connect"],["Quick connect"]))),ot.addEventListener("click",function(){return Fp(void 0,void 0,void 0,function(){var t,e,n,r,o,i,a,c,s,u;return Hp(this,function(l){switch(l.label){case 0:return V&&hv.connected?[4,ht.isPending()]:[3,4];case 1:return l.sent()?(ht.showModal(),[2]):(p.innerHTML="",t=m(j,null===(s=null==Y?void 0:Y.server)||void 0===s?void 0:s.exitCountry),e=g(t,H),n=rl(e,H,k),vf({connected:!0,pick:"random"}),[4,gt(n)]);case 2:return l.sent(),[4,ht.startCountdown()];case 3:case 8:return l.sent(),[2];case 4:return W?(r=Ts,o=Bd,i=[f],c={},[4,_()]):[3,7];case 5:return[4,r.apply(void 0,[o.apply(void 0,i.concat([(c.email=null===(u=l.sent())||void 0===u?void 0:u.Email,c)]))])];case 6:return l.sent(),yd(),[2];case 7:return p.innerHTML="",a=nl(g(j,H),H,k),vf({connected:!0,pick:"fastest"}),[4,gt(a)]}})})}),document.querySelector("#status").style.display="block",yt(),["aria-label","title"].forEach(function(t){document.querySelectorAll("["+t+"]").forEach(function(e){e.setAttribute(t,To(e.getAttribute("data-context")||"Info",function(t){return Gp(t,1)[0]},[e.getAttribute(t)]))})}),function(t){["svg > title","[data-trans]"].forEach(function(e){t.querySelectorAll(e).forEach(function(t){t.innerHTML=To(t.getAttribute("data-context")||"Info",function(t){return Eo(t,1)[0]},[t.innerHTML.trim().replace(/\n\t+/g,"\n")])})})}(document),wt=[],document.querySelectorAll('[data-page="region"] .page-title .back-button').forEach(function(e){e.addEventListener("click",function(){var e=wt.pop();if(e){var n=e.name,r=e.content;h(n,r)}else t("world")})}),vp(document,t),(xt=document.querySelector(".central-view"))&&(_t=parseInt(window.getComputedStyle(xt).minWidth),St=.8*screen.availWidth,_t>St&&(xt.style.minWidth=Math.round(St)+"px"),Et=parseInt(window.getComputedStyle(xt).minHeight),kt=.8*screen.availHeight,Et>kt&&(xt.style.minHeight=Math.round(kt)+"px")),(Ct=document.getElementById("search-input"))&&(Ct.focus(),Ct.onkeyup=function(t){if("Enter"===t.key||13===t.keyCode){var e=Z.querySelector(".server, .connect-option");e&&e.click()}},Ot=0,X=function(t,e){var n;t.placeholder=Lo("Label").t(mu||(mu=ol(["Countries, cities, servers"],["Countries, cities, servers"])));var r=function(){var n,r=t.value;((null===(n=t.parentNode)||void 0===n?void 0:n.querySelectorAll(".reset-button"))||[]).forEach(function(t){t.style.display=""===r?"none":"block",t.setAttribute("tabindex",""===r?"-1":"0")}),e(r)};return t.addEventListener("input",r),((null===(n=t.parentNode)||void 0===n?void 0:n.querySelectorAll(".reset-button"))||[]).forEach(function(e){e.addEventListener("click",function(){t.value="",r()})}),r}(Ct,function(t){return Fp(void 0,void 0,void 0,function(){var e,n;return Hp(this,function(r){switch(r.label){case 0:return e=Date.now(),Ot=e,n=""!==t,Z.querySelector(":scope > .spinner")||(Z.innerHTML='<div class="spinner">\n\t\t\t\t\t<div class="lds-ring"><div></div><div></div><div></div><div></div></div>\n\t\t\t\t</div>'),[4,ya(n?300:1)];case 1:return r.sent(),Ot!==e?[2]:(Z.innerHTML=n?sd(J,t,H,D):ql(J,H,D)||'<p class="not-found">\n\t\t\t\t\t'.concat(Lo("Error").t(pv||(pv=qp(["Unable to load the list"],["Unable to load the list"]))),"<br />\n\t\t\t\t\t<small>").concat(Lo("Error").t(vv||(vv=qp(["Please check your connectivity"],["Please check your connectivity"]))),"</small>\n\t\t\t\t</p>"),E(),Kl(),lt(),[2])}})})}),bf(P,D,{refresh:X,upgradeNeeded:V}),bf(jd,R),bf(I,M),bf(Mf,q),bf(Li,B,{buttonSelector:".crash-button"}),bf(bd,U,{refresh:function(){return Fp(void 0,void 0,void 0,function(){return Hp(this,function(t){switch(t.label){case 0:return[4,hv.connected?Sd(void 0,void 0,void 0,function(){return Ed(this,function(t){switch(t.label){case 0:return[4,bd.getDefined({value:!0})];case 1:return[4,t.sent().value?_d(Rf.DISABLED):_d(Rf.CLEAR)];case 2:return t.sent(),[2]}})}):_d(Rf.CLEAR)];case 1:return t.sent(),[2]}})})}}),Cd(Id,F,document,function(){return Fp(void 0,void 0,void 0,function(){return Hp(this,function(t){switch(t.label){case 0:return hv.connected?[4,ci(ni.BYPASS_LIST,Pd(H,F.value))]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},H<=0)),E(),Op(),function(){var t=document.getElementById("rate-us");if(t){var e=t.querySelector('#store-button[data-rate-us-click=""]');e&&(e.dataset.rateUsClick="set",e.addEventListener("click",function(){Lp({lastReviewTimestamp:Date.now()}),Fi(Ts(Ks().storeReviewsUrl))}));var n=t.querySelector('#not-now-button[data-rate-us-dismiss=""]');n&&(n.dataset.rateUsDismiss="set",n.addEventListener("click",function(){Lp({lastDismissTimestamp:Date.now()})}))}}(),Zo({logicalUpdate:function(t){(null==t?void 0:t.length)&&(j=t)},changeState:function(t){switch(t.state){case"connected":hv.connected=!0,Y.server=t.server,yt(t.server),k(t.error);break;case"connecting":hv.connected=!1,Y.server=t.server,yt(t.server,!0),k(t.error);break;case"logged-out":lu(document.getElementById("sign-in-view"),r,e,o);break;case"disconnected":hv.connected=!1,Y.server=void 0,yt(t.server),k(t.error)}},error:k}),null==(Tt=document.querySelector('*[data-page="settings"] .page-title'))||Tt.addEventListener("dblclick",function(t){var e=document.querySelector('*[data-page="settings"]');if(e){var n=t;n.ctrlKey&&n.altKey&&e.classList.toggle("debug-mode")}}),null==(Pt=document.getElementById("max-tier"))||Pt.addEventListener("input",function(){return Fp(void 0,void 0,void 0,function(){var t,e;return Hp(this,function(r){switch(r.label){case 0:return t=n.g.logicalMaxTier||2,e=Number(Pt.value),t===e?[2]:(n.g.logicalMaxTier=e,[4,yv()]);case 1:return r.sent(),[2]}})})}),Up(C),[2]):[2]}var Nt})})};Fi(yv()),window.addEventListener("message",function(t){if(t.origin.startsWith(l)&&"endFork"===t.data){var e=document.getElementById("account-frame");e&&(e.style.display="none"),document.querySelectorAll(".main-area").forEach(function(t){t.style.display="block"})}},!1),window.addEventListener("unhandledrejection",$i),window.addEventListener("error",$i)}()}();